{"id":"coding_agent_session_search-001","title":"TUI style system spec","description":"Create docs/tui_style_spec.md: palettes (dark/light), role colors, spacing scales, gradients, motion rules, density presets, iconography grid, animation opt-out policy.","notes":"Spec drafted and checked against acceptance (colors, gradients, density, motion, accessibility, opt-out, perf guards).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T06:00:53.488928548Z","updated_at":"2025-11-29T06:16:18.675764962Z","closed_at":"2025-11-29T06:16:18.675773862Z"}
{"id":"coding_agent_session_search-002","title":"Interaction model \u0026 keymap RFC","description":"Audit current shortcuts; define normalized chords and fallbacks; document rationale and terminal-compat constraints.","notes":"Keymap/interaction RFC drafted; bindings, fallbacks, safety. Ready for implementation in 003/004/005.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T06:00:53.506467068Z","updated_at":"2025-11-29T06:16:24.354878612Z","closed_at":"2025-11-29T06:16:24.354887412Z","dependencies":[{"issue_id":"coding_agent_session_search-002","depends_on_id":"coding_agent_session_search-001","type":"blocks","created_at":"2025-11-29T05:50:34.579678659Z","created_by":"ubuntu"}]}
{"id":"coding_agent_session_search-003","title":"Command palette (Ctrl+P) with fuzzy actions","description":"Non-blocking palette; categories; last-5 history; keyboard+mouse; safe when no matches.","notes":"Palette overlay complete: actions wired (theme/density/help toggle, time presets, saved view save/load slots 1-9), persisted state, help auto-hide aware, clippy/fmt/check clean.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T06:00:53.509223703Z","updated_at":"2025-11-29T07:11:48.205006257Z","closed_at":"2025-11-29T07:11:48.205073957Z","dependencies":[{"issue_id":"coding_agent_session_search-003","depends_on_id":"coding_agent_session_search-002","type":"blocks","created_at":"2025-11-29T05:50:39.962705981Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-004","title":"Contextual help strip","description":"Focus-aware shortcut strip; idle fade; no flicker; respects nowrap/minimal mode.","notes":"Contextual help strip done: two-line footer with focus/palette/modal-aware shortcuts, idle auto-hide with pin, persisted pin flag.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T06:00:53.458444965Z","updated_at":"2025-11-29T07:11:56.104075213Z","closed_at":"2025-11-29T07:11:56.104085313Z","dependencies":[{"issue_id":"coding_agent_session_search-004","depends_on_id":"coding_agent_session_search-002","type":"blocks","created_at":"2025-11-29T05:50:56.631761034Z","created_by":"ubuntu"}]}
{"id":"coding_agent_session_search-005","title":"Editable filter pills","description":"Pills for agent/workspace/time/ranking; inline edit/delete; keyboard+mouse parity; syncs with query state.","notes":"Filter pills complete: render agent/ws/time; click opens edit modes; backspace clears last filter; click hit-testing; state synced; formatting/check/clippy clean.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T06:00:53.462363215Z","updated_at":"2025-11-29T07:12:08.339965251Z","closed_at":"2025-11-29T07:12:08.340008651Z","dependencies":[{"issue_id":"coding_agent_session_search-005","depends_on_id":"coding_agent_session_search-001","type":"blocks","created_at":"2025-11-29T05:51:17.606142759Z","created_by":"ubuntu"},{"issue_id":"coding_agent_session_search-005","depends_on_id":"coding_agent_session_search-002","type":"blocks","created_at":"2025-11-29T05:51:17.620115952Z","created_by":"ubuntu"}]}
{"id":"coding_agent_session_search-006","title":"Breadcrumb / locality bar","description":"Header Agent › Workspace › Date (and ranking); crumb choosers; single source of truth with pills.","notes":"Implementing breadcrumb/locality bar in TUI (Agent › Workspace › Date › Ranking) with mouse/keyboard actions, synced to filters.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T06:00:53.467014373Z","updated_at":"2025-12-01T20:45:56.602460254Z","closed_at":"2025-12-01T20:45:56.602460254Z","dependencies":[{"issue_id":"coding_agent_session_search-006","depends_on_id":"coding_agent_session_search-005","type":"blocks","created_at":"2025-11-29T05:51:24.262094102Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-007","title":"Result drill-in modal","description":"Overlay full thread with role gutters; quick actions (open, copy path, copy snippet); preserves selection; ESC-safe.","notes":"Released by BlueCastle due to file reservation conflict with OrangeCastle on tui.rs","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T06:00:53.451013572Z","updated_at":"2025-11-30T05:28:00.074702576Z","closed_at":"2025-11-30T05:28:00.074702576Z","dependencies":[{"issue_id":"coding_agent_session_search-007","depends_on_id":"coding_agent_session_search-001","type":"blocks","created_at":"2025-11-29T05:51:43.728331638Z","created_by":"ubuntu"}]}
{"id":"coding_agent_session_search-008","title":"Role-aware theming \u0026 gradients","description":"Apply role palettes; subtle gradients on headers/pills; adaptive borders by width; contrast-checked.","notes":"BlueCastle: Starting role-aware theming with palettes, gradients, adaptive borders","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T06:00:53.484134288Z","updated_at":"2025-11-30T14:58:33.410813753Z","closed_at":"2025-11-30T14:58:33.410813753Z","dependencies":[{"issue_id":"coding_agent_session_search-008","depends_on_id":"coding_agent_session_search-001","type":"blocks","created_at":"2025-11-29T05:51:49.610473984Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-009","title":"Density toggle (Compact/Cozy/Spacious)","description":" cycles density presets; persisted; size-aware defaults; works with wrap on/off.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T06:00:53.409176247Z","updated_at":"2025-11-30T00:05:21.983784076Z","closed_at":"2025-11-30T00:05:21.983784076Z","dependencies":[{"issue_id":"coding_agent_session_search-009","depends_on_id":"coding_agent_session_search-001","type":"blocks","created_at":"2025-11-29T05:52:11.570541101Z","created_by":"ubuntu"},{"issue_id":"coding_agent_session_search-009","depends_on_id":"coding_agent_session_search-002","type":"blocks","created_at":"2025-11-29T05:52:11.577918606Z","created_by":"ubuntu"}]}
{"id":"coding_agent_session_search-010","title":"Syntax-highlighted snippets in results","description":"Highlight via syntect (or existing); bold hits, dim context; cached themes; auto-fallback on narrow/slow terminals.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T06:00:53.443549778Z","updated_at":"2025-11-30T04:00:41.734853886Z","closed_at":"2025-11-30T04:00:41.734853886Z","dependencies":[{"issue_id":"coding_agent_session_search-010","depends_on_id":"coding_agent_session_search-001","type":"blocks","created_at":"2025-11-29T05:52:18.194683745Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-011","title":"Icons \u0026 status badges","description":"Glyphs for agent/file/workspace; latency + cache badges; truncation- and no-color-safe.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T06:00:53.479321927Z","updated_at":"2025-11-30T05:20:47.417317915Z","closed_at":"2025-11-30T05:20:47.417317915Z","dependencies":[{"issue_id":"coding_agent_session_search-011","depends_on_id":"coding_agent_session_search-001","type":"blocks","created_at":"2025-11-29T05:52:35.930713403Z","created_by":"ubuntu"},{"issue_id":"coding_agent_session_search-011","depends_on_id":"coding_agent_session_search-010","type":"blocks","created_at":"2025-11-29T05:52:35.941379847Z","created_by":"ubuntu"}]}
{"id":"coding_agent_session_search-012","title":"Indexer HUD + sparkline","description":"Footer micro-panel for phase/progress/rebuild + tiny throughput sparkline; respects quiet/minimal modes.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-11-29T06:00:53.501718608Z","updated_at":"2025-11-30T14:42:32.584327551Z","dependencies":[{"issue_id":"coding_agent_session_search-012","depends_on_id":"coding_agent_session_search-002","type":"blocks","created_at":"2025-11-29T05:52:56.101706795Z","created_by":"ubuntu"}]}
{"id":"coding_agent_session_search-013","title":"Staggered reveal animations","description":"Lightweight fade/slide on top results; env flag to disable; no frame drops on 80x24.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T06:00:53.493265402Z","updated_at":"2025-12-01T01:39:54.814260028Z","closed_at":"2025-12-01T01:39:54.814260028Z","dependencies":[{"issue_id":"coding_agent_session_search-013","depends_on_id":"coding_agent_session_search-001","type":"blocks","created_at":"2025-11-29T05:53:01.584200328Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-014","title":"Smart empty states","description":"Contextual empty copy + quick actions (today, wildcard, index); safe for robot/json modes; no focus traps.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T06:00:53.471109824Z","updated_at":"2025-11-30T04:08:10.280013815Z","closed_at":"2025-11-30T04:08:10.280013815Z","dependencies":[{"issue_id":"coding_agent_session_search-014","depends_on_id":"coding_agent_session_search-002","type":"blocks","created_at":"2025-11-29T05:53:18.884766447Z","created_by":"ubuntu"}]}
{"id":"coding_agent_session_search-015","title":"Multi-select + bulk actions","description":"Space toggles selection; A bulk menu (open, copy paths, export JSON, tag); visual count; robot-safe.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T06:00:53.436989296Z","updated_at":"2025-11-30T06:22:22.984218977Z","closed_at":"2025-11-30T06:22:22.984218977Z","dependencies":[{"issue_id":"coding_agent_session_search-015","depends_on_id":"coding_agent_session_search-002","type":"blocks","created_at":"2025-11-29T05:53:24.90500176Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-015","depends_on_id":"coding_agent_session_search-007","type":"blocks","created_at":"2025-11-29T05:53:24.917531629Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-016","title":"Saved views (slots 1–9)","description":"Ctrl+\u003cn\u003e saves filters/ranking; Shift+\u003cn\u003e recalls; persisted; toast on save/load.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T06:00:53.430295712Z","updated_at":"2025-12-01T21:29:38.497763-05:00","closed_at":"2025-12-01T21:29:38.497763-05:00","close_reason":"Saved views feature already fully implemented in tui.rs: Ctrl+1-9 saves to slot (lines 4569-4577), Shift+1-9 loads from slot (lines 4616-4633), persistence on exit (lines 6132-6150), toast notifications via status messages. Verified with cargo check/test.","dependencies":[{"issue_id":"coding_agent_session_search-016","depends_on_id":"coding_agent_session_search-005","type":"blocks","created_at":"2025-11-29T05:53:43.013323619Z","created_by":"ubuntu"},{"issue_id":"coding_agent_session_search-016","depends_on_id":"coding_agent_session_search-006","type":"blocks","created_at":"2025-11-29T05:53:43.026562499Z","created_by":"ubuntu"}],"comments":[{"id":18,"issue_id":"coding_agent_session_search-016","author":"jemanuel","text":"Starting work: Implementing saved views feature with Ctrl+n save, Shift+n recall, persistence, and toast notifications.","created_at":"2025-12-02T00:39:33Z"}]}
{"id":"coding_agent_session_search-017","title":"Per-pane search (/)","description":"Local filter within results/detail; highlight matches; no Tantivy hit; ESC clears.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T06:00:53.447504328Z","updated_at":"2025-11-30T04:00:45.168366424Z","closed_at":"2025-11-30T04:00:45.168366424Z","dependencies":[{"issue_id":"coding_agent_session_search-017","depends_on_id":"coding_agent_session_search-002","type":"blocks","created_at":"2025-11-29T05:53:48.404475897Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-018","title":"Update assistant banner","description":"Startup/hourly release check; banner with U upgrade, s skip, d notes; remembers skip-this-version; offline-friendly messaging; no auto-download.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T06:00:53.498278265Z","updated_at":"2025-12-01T02:06:33.415149017Z","closed_at":"2025-12-01T02:06:33.415149017Z","dependencies":[{"issue_id":"coding_agent_session_search-018","depends_on_id":"coding_agent_session_search-002","type":"blocks","created_at":"2025-11-29T05:54:06.827611159Z","created_by":"ubuntu"}]}
{"id":"coding_agent_session_search-019","title":"First-run / anytime tour (?)","description":"Single-page overlay covering layout, key binds, data dirs, update toggle; dismissible and replayable.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T06:00:53.455037423Z","updated_at":"2025-12-01T02:17:09.895356193Z","closed_at":"2025-12-01T02:17:09.895356193Z","dependencies":[{"issue_id":"coding_agent_session_search-019","depends_on_id":"coding_agent_session_search-002","type":"blocks","created_at":"2025-11-29T05:54:34.106171708Z","created_by":"ubuntu"}]}
{"id":"coding_agent_session_search-020","title":"Local UI metrics (privacy-safe)","description":"Emit local-only metrics to trace/log (palette use, pill edits, highlight timing, latency badge, HUD phases, animation opt-outs); gated by env flag; no PII.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-29T06:00:53.475355378Z","updated_at":"2025-11-29T06:00:53.475355378Z","dependencies":[{"issue_id":"coding_agent_session_search-020","depends_on_id":"coding_agent_session_search-003","type":"blocks","created_at":"2025-11-29T05:54:55.341242382Z","created_by":"ubuntu"},{"issue_id":"coding_agent_session_search-020","depends_on_id":"coding_agent_session_search-005","type":"blocks","created_at":"2025-11-29T05:54:55.352018424Z","created_by":"ubuntu"},{"issue_id":"coding_agent_session_search-020","depends_on_id":"coding_agent_session_search-010","type":"blocks","created_at":"2025-11-29T05:54:55.359852827Z","created_by":"ubuntu"},{"issue_id":"coding_agent_session_search-020","depends_on_id":"coding_agent_session_search-011","type":"blocks","created_at":"2025-11-29T05:54:55.363596776Z","created_by":"ubuntu"},{"issue_id":"coding_agent_session_search-020","depends_on_id":"coding_agent_session_search-012","type":"blocks","created_at":"2025-11-29T05:54:55.367202123Z","created_by":"ubuntu"},{"issue_id":"coding_agent_session_search-020","depends_on_id":"coding_agent_session_search-013","type":"blocks","created_at":"2025-11-29T05:54:55.370235763Z","created_by":"ubuntu"}]}
{"id":"coding_agent_session_search-09h","title":"TST.7 Unit: CLI introspect schemas (no mocks)","description":"Add tests to assert clap-derived command/arg schemas match introspect JSON; cover hidden/help exclusion, enum/path/int detection, repeatable options, defaults; rely on real clap metadata, no mocks.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T18:56:47.532198705Z","updated_at":"2025-12-01T19:14:07.950119754Z","closed_at":"2025-12-01T19:14:07.950119754Z","dependencies":[{"issue_id":"coding_agent_session_search-09h","depends_on_id":"coding_agent_session_search-yln.1","type":"blocks","created_at":"2025-12-01T18:57:58.677988532Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-0jt","title":"TST.11 Integration: search/index e2e (real fixtures, logging)","description":"Scripted flow: temp data-dir, cass index --full, cass search hello --json; assert hits/match_type/aggregations; cover watch-once env path; capture trace-file + logs (no mocks).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T18:57:19.046306299Z","updated_at":"2025-12-01T22:50:33.402863-05:00","closed_at":"2025-12-01T22:50:33.402863-05:00","close_reason":"Implemented 13 E2E tests for search/index in tests/e2e_search_index.rs. All 614 tests pass.","dependencies":[{"issue_id":"coding_agent_session_search-0jt","depends_on_id":"coding_agent_session_search-bhk","type":"blocks","created_at":"2025-12-01T18:58:24.123479544Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-0ly","title":"P4 Inline filter chips","description":"Render filters as chips inside search bar; intuitive removal/edit; tests.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-11-24T13:58:03.677572681Z","updated_at":"2025-12-01T22:19:26.825366-05:00","closed_at":"2025-12-01T22:19:26.825366-05:00","close_reason":"All sub-tasks (0ly.3, 0ly.4) completed","dependencies":[{"issue_id":"coding_agent_session_search-0ly","depends_on_id":"coding_agent_session_search-1z2","type":"blocks","created_at":"2025-11-24T13:58:26.765832731Z","created_by":"daemon"}],"comments":[{"id":1,"issue_id":"coding_agent_session_search-0ly","author":"ubuntu","text":"Kept P4 Inline filter chips epic (0ly). Deleted accidental duplicate epic pc9 and its tasks to avoid split tracking.","created_at":"2025-12-01T23:22:10Z"}]}
{"id":"coding_agent_session_search-0ly.3","title":"B4.1 Chips in search bar","description":"Render filters as chips inside bar; backspace removes last; Enter on empty edits last chip; help/legend reflect chips.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T14:18:33.077538391Z","updated_at":"2025-11-24T14:19:11.424054451Z","closed_at":"2025-11-24T14:19:11.424054451Z"}
{"id":"coding_agent_session_search-0ly.4","title":"B4.2 Chip tests","description":"UI component tests for chip rendering/removal/edit triggers.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T14:18:37.631869077Z","updated_at":"2025-11-24T14:19:11.425776069Z","closed_at":"2025-11-24T14:19:11.425776069Z","dependencies":[{"issue_id":"coding_agent_session_search-0ly.4","depends_on_id":"coding_agent_session_search-0ly.3","type":"blocks","created_at":"2025-11-24T14:18:43.980750717Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-0mn","title":"bd-installer-spec","description":"Write concise spec for UBS-style curl|bash installer: goals, UX, safety invariants, modes (normal/easy), checksum/signature policy, toolchain expectations","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-23T20:14:00.262736083Z","updated_at":"2025-11-23T20:20:13.821531275Z","closed_at":"2025-11-23T20:20:13.821531275Z"}
{"id":"coding_agent_session_search-18u","title":"Enhance CLI Error Reporting for Agents","description":"Ensure all CLI errors in robot mode return structured JSON with 'did_you_mean', examples, and schema hints.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-01T23:04:07.011854-05:00","updated_at":"2025-12-01T23:06:52.036782-05:00","closed_at":"2025-12-01T23:06:52.036782-05:00","close_reason":"Implemented structured JSON errors for robot mode."}
{"id":"coding_agent_session_search-1z2","title":"P1 Stabilize current UX","description":"Stabilize new TUI features (prefix default, context sizes, space peek, persisted state); align docs, tests, and behavior.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-11-24T13:57:10.26861639Z","updated_at":"2025-12-01T22:16:20.834091-05:00","closed_at":"2025-12-01T22:16:20.834091-05:00","close_reason":"Epic complete: All sub-tasks (1z2.1 Document new controls, 1z2.2 Persisted-state tests, 1z2.3 Snippet edge-case tests) are closed. This unblocks 9 dependent epics."}
{"id":"coding_agent_session_search-1z2.1","title":"B1.1 Document new controls","description":"README + inline comments for F1/F2/F7/F9/F11, Space peek, prefix default, recency sort, tui_state.json reset.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T13:57:13.375293524Z","updated_at":"2025-11-24T14:03:08.773078926Z","closed_at":"2025-11-24T14:03:08.773078926Z"}
{"id":"coding_agent_session_search-1z2.2","title":"B1.2 Persisted-state tests","description":"Add tests verifying match_mode/context_window load/save in tui_state.json.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T13:57:17.091683888Z","updated_at":"2025-11-24T14:03:08.792469542Z","closed_at":"2025-11-24T14:03:08.792469542Z","dependencies":[{"issue_id":"coding_agent_session_search-1z2.2","depends_on_id":"coding_agent_session_search-1z2.1","type":"blocks","created_at":"2025-11-24T13:57:30.597192594Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-1z2.3","title":"B1.3 Snippet edge-case tests","description":"Tests for contextual_snippet with multibyte text, empty query, short strings.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T13:57:22.947671575Z","updated_at":"2025-11-24T14:03:08.799174016Z","closed_at":"2025-11-24T14:03:08.799174016Z","dependencies":[{"issue_id":"coding_agent_session_search-1z2.3","depends_on_id":"coding_agent_session_search-1z2.2","type":"blocks","created_at":"2025-11-24T13:57:35.375482065Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-2d0","title":"bd-installer-script","description":"Implement Bash installer (bash4+) patterned on UBS: normal + --easy-mode, checksum required, optional minisign, supports ARTIFACT_URL/CHECKSUM/CHECKSUM_URL, installs nightly rustup+components if missing, lock file + temp workdir, PATH guidance, self-test flag, system/user dest.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-23T20:14:11.478994854Z","updated_at":"2025-11-23T20:20:19.616316737Z","closed_at":"2025-11-23T20:20:19.616316737Z","dependencies":[{"issue_id":"coding_agent_session_search-2d0","depends_on_id":"coding_agent_session_search-0mn","type":"blocks","created_at":"2025-11-23T20:14:11.480483469Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-2g4","title":"Investigate and fix Command::new usage","description":"Audit and sanitize Command::new calls in TUI and update checker.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T22:19:13.510594-05:00","updated_at":"2025-12-01T22:20:12.639636-05:00","closed_at":"2025-12-01T22:20:12.639636-05:00","close_reason":"Added URL validation to prevent arg injection."}
{"id":"coding_agent_session_search-2jy","title":"Fix UBS Findings","description":"Fix syntax error in query.rs and address clippy/check failures.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-01T18:26:29.272626-05:00","updated_at":"2025-12-01T18:27:09.412112-05:00","closed_at":"2025-12-01T18:27:09.412112-05:00","close_reason":"Fixed syntax error and verified clippy/check/test pass"}
{"id":"coding_agent_session_search-34t","title":"TUI performance polish","description":"Add skeleton loaders, search-in-progress indicator, async detail loading cache, and pagination guards.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-23T07:56:53.203024574Z","updated_at":"2025-11-23T14:38:17.785150208Z","closed_at":"2025-11-23T14:38:17.785150208Z","labels":["performance","ui"],"dependencies":[{"issue_id":"coding_agent_session_search-34t","depends_on_id":"coding_agent_session_search-6hx","type":"blocks","created_at":"2025-11-23T07:56:53.213129889Z","created_by":"ubuntu"}]}
{"id":"coding_agent_session_search-3mm","title":"bd-e2e-watch-incremental","description":"Watch mode: touch fixture, targeted reindex, watch_state bump; shorten debounce","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-23T17:35:34.603328041Z","updated_at":"2025-11-23T20:06:18.042316256Z","closed_at":"2025-11-23T20:06:18.042316256Z","dependencies":[{"issue_id":"coding_agent_session_search-3mm","depends_on_id":"coding_agent_session_search-dja","type":"blocks","created_at":"2025-11-23T17:35:34.61836412Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-422","title":"P11 Visual contrast polish","description":"Audit pane colors for WCAG; adjust if needed.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-11-24T14:00:54.151921611Z","updated_at":"2025-11-24T14:00:54.151921611Z","dependencies":[{"issue_id":"coding_agent_session_search-422","depends_on_id":"coding_agent_session_search-1z2","type":"blocks","created_at":"2025-11-24T14:01:02.810576597Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-422.1","title":"B11.1 WCAG pass","description":"Audit pane fg/bg contrasts; adjust palette if needed.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-24T14:00:59.171945672Z","updated_at":"2025-11-24T14:00:59.171945672Z"}
{"id":"coding_agent_session_search-46t","title":"P9 Persist new knobs","description":"Persist pane count and weighting presets; add reset path.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-11-24T13:59:41.333063745Z","updated_at":"2025-12-01T21:35:38.865647-05:00","closed_at":"2025-12-01T21:35:38.865647-05:00","close_reason":"Epic complete: All sub-tasks (46t.1 Persist pane count/weighting, 46t.2 Reset path) are now closed.","dependencies":[{"issue_id":"coding_agent_session_search-46t","depends_on_id":"coding_agent_session_search-1z2","type":"blocks","created_at":"2025-11-24T14:00:05.608904428Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-46t.1","title":"B9.1 Persist pane count \u0026 weighting","description":"Store per-pane cap and recency-weight preset in tui_state.json.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T13:59:46.592929028Z","updated_at":"2025-12-01T21:33:10.626992-05:00","closed_at":"2025-12-01T21:33:10.626992-05:00","close_reason":"Implemented pane count and ranking mode persistence in TuiStatePersisted. Added per_pane_limit and ranking_mode fields, load on startup (lines 2318-2320, 2391-2395), save on exit (lines 6171-6179), and updated roundtrip test. Verified: cargo check/test/clippy pass.","dependencies":[{"issue_id":"coding_agent_session_search-46t.1","depends_on_id":"coding_agent_session_search-uha.1","type":"blocks","created_at":"2025-11-24T13:59:54.523545214Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-46t.1","depends_on_id":"coding_agent_session_search-uha.2","type":"blocks","created_at":"2025-11-24T14:00:00.973309949Z","created_by":"daemon"}],"comments":[{"id":21,"issue_id":"coding_agent_session_search-46t.1","author":"jemanuel","text":"Starting work: Adding persistence for per_pane_limit and ranking_mode to TuiStatePersisted","created_at":"2025-12-02T02:30:48Z"}]}
{"id":"coding_agent_session_search-46t.2","title":"B9.2 Reset path","description":"Key/flag to wipe tui_state.json gracefully.","notes":"Implemented cass tui --reset-state and Ctrl+Shift+Del hotkey to delete tui_state.json and reload defaults; updated help/shortcuts and troubleshooting doc.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T13:59:50.134974428Z","updated_at":"2025-12-01T21:35:17.777308-05:00","closed_at":"2025-12-01T21:35:17.777308-05:00","close_reason":"Reset path feature already implemented: 1) --reset-state CLI flag (lib.rs Commands::Tui), 2) Ctrl+Shift+Del hotkey (tui.rs:5088-5125) deletes tui_state.json and restores defaults, 3) Help text includes shortcut. Verified with cargo check."}
{"id":"coding_agent_session_search-59a","title":"bd-ci-e2e-job","description":"Add CI job to run e2e smoke (optional watch gated)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-23T17:35:58.954916519Z","updated_at":"2025-11-23T20:05:34.030488863Z","closed_at":"2025-11-23T20:05:34.030488863Z","dependencies":[{"issue_id":"coding_agent_session_search-59a","depends_on_id":"coding_agent_session_search-618","type":"blocks","created_at":"2025-11-23T17:35:58.956588654Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-59a","depends_on_id":"coding_agent_session_search-5la","type":"blocks","created_at":"2025-11-23T17:35:58.958496993Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-5kz","title":"bd-docs-oneliner","description":"Update README with installer one-liners (bash/pwsh), flags/env docs, safety notes, quickstart steps, TUI_HEADLESS usage.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-23T20:14:36.311428605Z","updated_at":"2025-11-23T20:20:39.653751467Z","closed_at":"2025-11-23T20:20:39.653751467Z","dependencies":[{"issue_id":"coding_agent_session_search-5kz","depends_on_id":"coding_agent_session_search-2d0","type":"blocks","created_at":"2025-11-23T20:14:36.312720318Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-5kz","depends_on_id":"coding_agent_session_search-zwe","type":"blocks","created_at":"2025-11-23T20:14:36.314674338Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-5kz","depends_on_id":"coding_agent_session_search-xgx","type":"blocks","created_at":"2025-11-23T20:14:36.316068752Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-5la","title":"bd-e2e-install-scripts","description":"Checksum pass/fail tests for install.sh/install.ps1 using local file:// artifacts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-23T17:35:39.249387828Z","updated_at":"2025-11-23T20:05:24.753662725Z","closed_at":"2025-11-23T20:05:24.753662725Z"}
{"id":"coding_agent_session_search-618","title":"bd-e2e-index-tui-smoke","description":"Seed fixtures, run index --full, launch tui noninteractive, assert logs/doc count","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-23T17:35:29.995711414Z","updated_at":"2025-11-23T20:05:28.45153648Z","closed_at":"2025-11-23T20:05:28.45153648Z","dependencies":[{"issue_id":"coding_agent_session_search-618","depends_on_id":"coding_agent_session_search-c7b","type":"blocks","created_at":"2025-11-23T17:35:29.997261222Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-618","depends_on_id":"coding_agent_session_search-dja","type":"blocks","created_at":"2025-11-23T17:35:29.999007131Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-61q","title":"bd-watch-e2e","description":"Optional: watch-mode e2e smoke (touch fixture -\u003e reindex) integrated into easy-mode demo.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-23T20:14:46.855239305Z","updated_at":"2025-11-30T05:30:33.572816676Z","closed_at":"2025-11-30T05:30:33.572816676Z","dependencies":[{"issue_id":"coding_agent_session_search-61q","depends_on_id":"coding_agent_session_search-xgx","type":"blocks","created_at":"2025-11-23T20:14:46.856619018Z","created_by":"daemon"}],"comments":[{"id":2,"issue_id":"coding_agent_session_search-61q","author":"ubuntu","text":"Added watch_e2e.rs smoke (ignored by default) that starts cass index --watch in isolated data dir with CODEX_HOME fixture, touches rollout file, and asserts watch_state.json updated for Codex. Marked ignored due to flaky notify in CI; keeps manual coverage. fmt/check/clippy clean.","created_at":"2025-12-01T23:22:10Z"},{"id":3,"issue_id":"coding_agent_session_search-61q","author":"ubuntu","text":"Revised watch-mode smoke: added env hook CASS_TEST_WATCH_PATHS to force single reindex callback in watch_sources (deterministic for manual runs). watch_e2e.rs updated to use hook and still ignored (notify flaky in CI). Tests fmt/check/clippy clean.","created_at":"2025-12-01T23:22:10Z"}]}
{"id":"coding_agent_session_search-66o","title":"TST.8 Unit: global flags \u0026 defaults coverage","description":"Tests verifying global flags propagate and introspect shows defaults: limit/offset/context/stale-threshold, color/progress/wrap/nowrap/db; assert no regressions from dynamic schema builder.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-01T18:56:54.019937463Z","updated_at":"2025-12-01T18:56:54.019937463Z","dependencies":[{"issue_id":"coding_agent_session_search-66o","depends_on_id":"coding_agent_session_search-yln.1","type":"blocks","created_at":"2025-12-01T18:58:05.582637993Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-6hx","title":"TUI experience (ratatui)","description":"Three-pane UI, filters, hotkeys, theming, detail view wired to live search results.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-11-21T01:27:33.20245957Z","updated_at":"2025-11-23T14:36:59.120005075Z","closed_at":"2025-11-23T14:36:59.120005075Z","dependencies":[{"issue_id":"coding_agent_session_search-6hx","depends_on_id":"coding_agent_session_search-lz1","type":"blocks","created_at":"2025-11-21T01:27:33.205252584Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-6hx","depends_on_id":"coding_agent_session_search-974","type":"blocks","created_at":"2025-11-21T01:27:33.206138489Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-6hx.1","title":"TUI skeleton layout (search bar + results + detail)","description":"Implement ratatui layout and navigation with mock data; focus on top bar, list pane, detail pane, status line.","notes":"TUI shell stub using ratatui/crossterm; basic frame and quit key; wiring from CLI.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-21T01:29:27.345909506Z","updated_at":"2025-11-23T14:34:05.818036885Z","closed_at":"2025-11-23T14:34:05.818036885Z","dependencies":[{"issue_id":"coding_agent_session_search-6hx.1","depends_on_id":"coding_agent_session_search-lz1.4","type":"blocks","created_at":"2025-11-21T01:29:27.347729667Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-6hx.2","title":"Wire TUI to search engine (debounced queries, pagination)","description":"Connect input to search API, show live results, handle empty/error states, debounce keystrokes ~100-150ms.","notes":"Tantivy search client returns real docs (agent/time filters, snippets, source path) using TantivyDocument; wired TUI to live search results with status messaging and error handling; clippy/fmt/check clean.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-21T01:29:31.354069136Z","updated_at":"2025-11-21T18:09:31.286026038Z","closed_at":"2025-11-21T18:09:31.286034539Z","dependencies":[{"issue_id":"coding_agent_session_search-6hx.2","depends_on_id":"coding_agent_session_search-6hx.1","type":"blocks","created_at":"2025-11-21T01:29:31.356056654Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-6hx.2","depends_on_id":"coding_agent_session_search-974.1","type":"blocks","created_at":"2025-11-21T01:29:31.357847571Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-6hx.3","title":"Filters UI (agent/time/workspace) + config toggles","description":"Implement modals/popovers for agent selection, time ranges, workspaces; persist selection; integrate with search filters.","notes":"Filters UI + pagination wired in TUI; SQLite FTS5 mirror with migration/backfill + insert hooks; added Tantivy search integration test covering filters/pagination.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-21T01:29:34.517433745Z","updated_at":"2025-11-21T18:41:04.617314873Z","closed_at":"2025-11-21T18:41:04.617325273Z","dependencies":[{"issue_id":"coding_agent_session_search-6hx.3","depends_on_id":"coding_agent_session_search-6hx.2","type":"blocks","created_at":"2025-11-21T01:29:34.51920136Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-6hx.4","title":"Conversation detail view (messages/snippets/raw)","description":"Render selected conversation with role coloring, timestamps, tabs for snippets and raw JSON references; open-source log path shortcut.","notes":"Added Codex connector fixture test; TUI detail pane with selection and hotkeys (j/k, arrows) and pagination-aware selection.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-21T01:29:39.639071357Z","updated_at":"2025-11-21T18:46:26.968523971Z","closed_at":"2025-11-21T18:46:26.968523971Z","dependencies":[{"issue_id":"coding_agent_session_search-6hx.4","depends_on_id":"coding_agent_session_search-6hx.2","type":"blocks","created_at":"2025-11-21T01:29:39.641922183Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-6hx.5","title":"TUI polish: theming, hotkeys, performance","description":"Add dark/light themes, hotkey legend, accessibility tweaks, reduce allocations/redraws for smooth 60fps terminal experience.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-21T01:29:42.892781635Z","updated_at":"2025-11-23T14:34:17.647766052Z","closed_at":"2025-11-23T14:34:17.647766052Z","dependencies":[{"issue_id":"coding_agent_session_search-6hx.5","depends_on_id":"coding_agent_session_search-6hx.3","type":"blocks","created_at":"2025-11-21T01:29:42.895823379Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-6hx.5","depends_on_id":"coding_agent_session_search-6hx.4","type":"blocks","created_at":"2025-11-21T01:29:42.897105998Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-6k7","title":"Update contract golden files for capabilities/introspect tests","description":"Tests failing due to contract drift:\n- capabilities_matches_golden_contract (connectors list changed, new features added, limits changed)\n- introspect_matches_golden_contract (similar changes)\n\nNeed to update the expected golden contract values in tests/cli_robot.rs to match current implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T18:36:14.941362-05:00","updated_at":"2025-12-01T18:41:08.363866-05:00","closed_at":"2025-12-01T18:41:08.363866-05:00","close_reason":"Updated capabilities.json and introspect.json golden files. Added aider connector to capabilities list."}
{"id":"coding_agent_session_search-73c","title":"TUI detail pane: full conversation rendering","description":"Render full conversation timeline with role labels, timestamps, search term highlighting, and code block styling in detail pane.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-23T07:51:23.177621101Z","updated_at":"2025-11-23T07:55:45.275528398Z","closed_at":"2025-11-23T07:55:45.275528398Z","labels":["detail","ui"],"dependencies":[{"issue_id":"coding_agent_session_search-73c","depends_on_id":"coding_agent_session_search-6hx","type":"blocks","created_at":"2025-11-23T07:51:23.190367063Z","created_by":"ubuntu"}]}
{"id":"coding_agent_session_search-77b","title":"Distribution \u0026 installers","description":"Build \u0026 release automation, curl|bash installer, PowerShell installer, cross-platform binaries via cargo-dist.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-11-21T01:27:38.505945954Z","updated_at":"2025-11-23T14:36:58.128283855Z","closed_at":"2025-11-23T14:36:58.128283855Z","dependencies":[{"issue_id":"coding_agent_session_search-77b","depends_on_id":"coding_agent_session_search-acz","type":"blocks","created_at":"2025-11-21T01:27:38.512816485Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-77b.1","title":"Release pipeline with cargo-dist (multi-platform binaries)","description":"Set up GitHub Actions to build nightly-based binaries for linux/macos/windows (x86_64/arm64), upload artifacts.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-21T01:29:47.010380164Z","updated_at":"2025-11-23T14:34:15.453408686Z","closed_at":"2025-11-23T14:34:15.453408686Z","dependencies":[{"issue_id":"coding_agent_session_search-77b.1","depends_on_id":"coding_agent_session_search-acz.1","type":"blocks","created_at":"2025-11-21T01:29:47.011947987Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-77b.2","title":"curl|bash + PowerShell installers (easy-mode, checksum verification)","description":"Author install.sh and install.ps1 modeled on UBS: os/arch detection, checksum verification, PATH guidance, --easy-mode automation.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-21T01:29:55.161241897Z","updated_at":"2025-11-23T14:34:16.549220909Z","closed_at":"2025-11-23T14:34:16.549220909Z","dependencies":[{"issue_id":"coding_agent_session_search-77b.2","depends_on_id":"coding_agent_session_search-77b.1","type":"blocks","created_at":"2025-11-21T01:29:55.163349616Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-77b.3","title":"Packaging polish (shell completions, Homebrew tap stubs, version metadata)","description":"Generate completions/man pages, prep Homebrew formula stub, embed version/build info (vergen) in binaries.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-21T01:29:59.79299823Z","updated_at":"2025-11-23T14:37:53.869604198Z","closed_at":"2025-11-23T14:37:53.869604198Z","dependencies":[{"issue_id":"coding_agent_session_search-77b.3","depends_on_id":"coding_agent_session_search-77b.1","type":"blocks","created_at":"2025-11-21T01:29:59.794274642Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-7ew","title":"Connectors: agent history ingestion","description":"Implement detection + parsers for Codex, Cline, Gemini, Claude Code, OpenCode, Amp; emit normalized conversations.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-21T01:27:26.499272708Z","updated_at":"2025-11-23T14:36:28.558260625Z","closed_at":"2025-11-23T14:36:28.558260625Z","dependencies":[{"issue_id":"coding_agent_session_search-7ew","depends_on_id":"coding_agent_session_search-flk","type":"blocks","created_at":"2025-11-21T01:27:26.515405189Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-7ew.1","title":"Connector framework: detection + normalization interfaces","description":"Define ScanContext, NormalizedConversation/Message/Snippet structs, detection heuristics, and shared utilities (path discovery, timestamp parsing).","notes":"Connector framework + Codex/Cline/Gemini/Claude/Amp/OpenCode connectors implemented; remaining connectors now partial but present.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-21T01:28:39.081913423Z","updated_at":"2025-11-21T03:01:41.675782631Z","closed_at":"2025-11-21T03:01:41.675782631Z","dependencies":[{"issue_id":"coding_agent_session_search-7ew.1","depends_on_id":"coding_agent_session_search-flk.3","type":"blocks","created_at":"2025-11-21T01:28:39.08333854Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-7ew.2","title":"Codex CLI connector (rollout JSONL)","description":"Detect CODEX_HOME, parse rollout-*.jsonl/history.jsonl, map sessions to normalized conversations with workspace links.","notes":"Codex connector implemented (rollout jsonl), wired into index","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-21T01:28:42.682471614Z","updated_at":"2025-11-21T03:01:46.481093146Z","closed_at":"2025-11-21T03:01:46.481093146Z","dependencies":[{"issue_id":"coding_agent_session_search-7ew.2","depends_on_id":"coding_agent_session_search-7ew.1","type":"blocks","created_at":"2025-11-21T01:28:42.684453723Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-7ew.3","title":"Cline VS Code connector (task directories)","description":"Locate VS Code globalStorage for Cline, parse taskHistory + per-task metadata/ui/api files into conversations.","notes":"Cline connector implemented (VS Code globalStorage task dirs ui/api history)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-21T01:28:47.475523121Z","updated_at":"2025-11-21T03:01:51.765995653Z","closed_at":"2025-11-21T03:01:51.765995653Z","dependencies":[{"issue_id":"coding_agent_session_search-7ew.3","depends_on_id":"coding_agent_session_search-7ew.1","type":"blocks","created_at":"2025-11-21T01:28:47.477650988Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-7ew.4","title":"Gemini CLI connector (~/.gemini/tmp)","description":"Scan ~/.gemini/tmp project dirs, parse chat/checkpoint JSON, reconstruct conversations with ordering and timestamps.","notes":"Gemini connector implemented (~/.gemini/tmp json/jsonl)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-21T01:28:52.081959721Z","updated_at":"2025-11-21T03:01:57.593971676Z","closed_at":"2025-11-21T03:01:57.593976876Z","dependencies":[{"issue_id":"coding_agent_session_search-7ew.4","depends_on_id":"coding_agent_session_search-7ew.1","type":"blocks","created_at":"2025-11-21T01:28:52.083651175Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-7ew.5","title":"Claude Code connector (projects dir + .claude files)","description":"Scan ~/.claude/projects JSONL and per-repo .claude/.claude.json, parse sessions into normalized threads.","notes":"Claude Code connector implemented (~/.claude/projects jsonl)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-21T01:28:55.261135756Z","updated_at":"2025-11-21T03:02:01.840157837Z","closed_at":"2025-11-21T03:02:01.840165537Z","dependencies":[{"issue_id":"coding_agent_session_search-7ew.5","depends_on_id":"coding_agent_session_search-7ew.1","type":"blocks","created_at":"2025-11-21T01:28:55.262328971Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-7ew.6","title":"OpenCode connector (SQLite .opencode)","description":"Detect project/global .opencode SQLite DBs, map sessions/messages tables into normalized model, handle incremental imports.","notes":"OpenCode connector detection done (.opencode dirs); scan placeholder until DB schema sample available.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-21T01:29:02.461369196Z","updated_at":"2025-11-23T14:34:04.924887382Z","closed_at":"2025-11-23T14:34:04.924887382Z","dependencies":[{"issue_id":"coding_agent_session_search-7ew.6","depends_on_id":"coding_agent_session_search-7ew.1","type":"blocks","created_at":"2025-11-21T01:29:02.463399194Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-7ew.7","title":"Amp connector (local cache only)","description":"Detect VS Code globalStorage and ~/.local/share/amp caches, ingest whatever local JSON/JSONL threads exist, tag as partial coverage.","notes":"Amp connector detect only (data_dir/amp); awaiting cache sample for full ingest.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-21T01:29:05.451501003Z","updated_at":"2025-11-23T14:34:03.96338355Z","closed_at":"2025-11-23T14:34:03.96338355Z","dependencies":[{"issue_id":"coding_agent_session_search-7ew.7","depends_on_id":"coding_agent_session_search-7ew.1","type":"blocks","created_at":"2025-11-21T01:29:05.452554602Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-7l5","title":"bd-unit-search","description":"Search filters/highlight/pagination tests","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-23T17:35:19.489876059Z","updated_at":"2025-11-23T20:05:55.429294293Z","closed_at":"2025-11-23T20:05:55.429294293Z","dependencies":[{"issue_id":"coding_agent_session_search-7l5","depends_on_id":"coding_agent_session_search-lxx","type":"blocks","created_at":"2025-11-23T17:35:19.491608766Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-7q7","title":"bd-installer-tests","description":"Add fixtures + tests: install.sh good/bad checksum via file://; install.ps1 good/bad checksum (skip if pwsh unavailable); easy-mode noninteractive path.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-23T20:14:26.463865848Z","updated_at":"2025-11-23T20:20:30.453471631Z","closed_at":"2025-11-23T20:20:30.453471631Z","dependencies":[{"issue_id":"coding_agent_session_search-7q7","depends_on_id":"coding_agent_session_search-2d0","type":"blocks","created_at":"2025-11-23T20:14:26.465114761Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-7q7","depends_on_id":"coding_agent_session_search-zwe","type":"blocks","created_at":"2025-11-23T20:14:26.466777378Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-8aq","title":"bd-ci-installer-smoke","description":"Add CI job running installer tests on Linux (and pwsh when available).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-23T20:14:42.112006823Z","updated_at":"2025-11-23T20:20:44.163262037Z","closed_at":"2025-11-23T20:20:44.163262037Z","dependencies":[{"issue_id":"coding_agent_session_search-8aq","depends_on_id":"coding_agent_session_search-7q7","type":"blocks","created_at":"2025-11-23T20:14:42.113306836Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-8ns","title":"TUI polish: Midnight Grid theme + agent badges","description":"Implement visual theme (accents, backgrounds), agent badges, role-colored messages, improved result rows, and friendly empty/error states.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-23T07:51:12.079664045Z","updated_at":"2025-11-23T07:55:33.898794798Z","closed_at":"2025-11-23T07:55:33.898794798Z","labels":["theme","ui"],"dependencies":[{"issue_id":"coding_agent_session_search-8ns","depends_on_id":"coding_agent_session_search-6hx","type":"blocks","created_at":"2025-11-23T07:51:12.093297599Z","created_by":"ubuntu"}]}
{"id":"coding_agent_session_search-974","title":"Indexer \u0026 sync orchestrator","description":"Coordinate full and incremental indexing: filesystem watchers, batching, schema versioning, rebuild triggers.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-11-21T01:27:29.828634027Z","updated_at":"2025-11-23T14:37:09.569507925Z","closed_at":"2025-11-23T14:37:09.569507925Z","dependencies":[{"issue_id":"coding_agent_session_search-974","depends_on_id":"coding_agent_session_search-lz1","type":"blocks","created_at":"2025-11-21T01:27:29.851275541Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-974","depends_on_id":"coding_agent_session_search-7ew","type":"blocks","created_at":"2025-11-21T01:27:29.852606248Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-974.1","title":"Indexer command flow (full + incremental)","description":"Implement index subcommand + service loop wiring channels between connectors and search pipeline; supports full rebuild and incremental pathways.","notes":"Index command now delegates to indexer::run_index (connectors + Tantivy + storage).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-21T01:29:09.561975589Z","updated_at":"2025-11-23T14:35:28.584723452Z","closed_at":"2025-11-23T14:35:28.584723452Z","dependencies":[{"issue_id":"coding_agent_session_search-974.1","depends_on_id":"coding_agent_session_search-lz1.2","type":"blocks","created_at":"2025-11-21T01:29:09.563715787Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-974.1","depends_on_id":"coding_agent_session_search-7ew.1","type":"blocks","created_at":"2025-11-21T01:29:09.564995086Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-974.2","title":"Filesystem/watch-based incremental updates","description":"Set up notify watchers for each connector root, debounce events, trigger targeted re-index of changed logs/DBs.","notes":"--watch scaffold uses notify over agent roots; needs improved debounce once search wiring done.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-21T01:29:14.651707297Z","updated_at":"2025-11-23T14:35:56.143417287Z","closed_at":"2025-11-23T14:35:56.143417287Z","dependencies":[{"issue_id":"coding_agent_session_search-974.2","depends_on_id":"coding_agent_session_search-974.1","type":"blocks","created_at":"2025-11-21T01:29:14.653505819Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-974.3","title":"Schema migration + index rebuild strategy","description":"Meta table tracks schema version; handle DB migrations and Tantivy index rebuilds with progress reporting.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-21T01:29:21.717962Z","updated_at":"2025-11-23T14:37:55.053240945Z","closed_at":"2025-11-23T14:37:55.053240945Z","dependencies":[{"issue_id":"coding_agent_session_search-974.3","depends_on_id":"coding_agent_session_search-974.1","type":"blocks","created_at":"2025-11-21T01:29:21.719091715Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-974.3","depends_on_id":"coding_agent_session_search-flk.1","type":"blocks","created_at":"2025-11-21T01:29:21.722107755Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-9et","title":"Detail pane: conversation timeline","description":"Render full conversation with role coloring, timestamps, search-term highlighting, and open-in-editor action.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-23T07:56:40.91224834Z","updated_at":"2025-11-23T14:34:53.229562572Z","closed_at":"2025-11-23T14:34:53.229562572Z","labels":["detail","ui"],"dependencies":[{"issue_id":"coding_agent_session_search-9et","depends_on_id":"coding_agent_session_search-6hx","type":"blocks","created_at":"2025-11-23T07:56:40.921156755Z","created_by":"ubuntu"}]}
{"id":"coding_agent_session_search-acz","title":"Foundation: nightly toolchain \u0026 dependency policy","description":"Lock project to latest Rust nightly, define crate version policy (latest releases via wildcard), and align docs/tooling with nightly defaults.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-21T01:27:14.047122374Z","updated_at":"2025-11-23T14:36:43.962541942Z","closed_at":"2025-11-23T14:36:43.962541942Z"}
{"id":"coding_agent_session_search-acz.1","title":"Pin toolchain to latest Rust nightly (rust-toolchain.toml, CI override)","description":"Create rust-toolchain.toml overriding to current nightly; document update cadence; ensure cargo commands use nightly by default.","notes":"Pinned toolchain to nightly via rust-toolchain.toml (rustfmt, clippy).","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-21T01:27:53.995987219Z","updated_at":"2025-11-21T02:44:48.862286981Z","closed_at":"2025-11-21T02:44:48.862286981Z"}
{"id":"coding_agent_session_search-acz.2","title":"Adopt latest-available crate policy (wildcards, audit cadence)","description":"Set dependency version strategy to track newest releases (e.g., '*' or caret to latest), add update workflow (cargo update), and document how to bump frequently.","notes":"Cargo.toml uses wildcard deps; documented latest-crate policy in README and guide.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-21T01:27:57.276566452Z","updated_at":"2025-11-21T02:44:52.789640931Z","closed_at":"2025-11-21T02:44:52.789640931Z","dependencies":[{"issue_id":"coding_agent_session_search-acz.2","depends_on_id":"coding_agent_session_search-acz.1","type":"blocks","created_at":"2025-11-21T01:27:57.277754858Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-acz.3","title":"Revise RUST_CLI_TOOLS_BEST_PRACTICES_GUIDE for nightly + latest crates","description":"Update versions/tooling guidance in the guide to reflect nightly toolchain, newest crate minimums, and project-specific constraints (dotenvy usage, sqlx/diesel guidance).","notes":"RUST_CLI_TOOLS_BEST_PRACTICES_GUIDE updated for nightly toolchain + wildcard dependencies; CI step now nightly.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-21T01:28:00.807927005Z","updated_at":"2025-11-21T02:44:57.721576448Z","closed_at":"2025-11-21T02:44:57.721583048Z","dependencies":[{"issue_id":"coding_agent_session_search-acz.3","depends_on_id":"coding_agent_session_search-acz.1","type":"blocks","created_at":"2025-11-21T01:28:00.80916451Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-acz.3","depends_on_id":"coding_agent_session_search-acz.2","type":"blocks","created_at":"2025-11-21T01:28:00.810367516Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-b8l","title":"P5 Context peek polish","description":"PEEK badge for space-based XL context; optional auto-revert.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-11-24T13:58:30.501088861Z","updated_at":"2025-12-01T22:19:21.658672-05:00","closed_at":"2025-12-01T22:19:21.658672-05:00","close_reason":"Sub-task b8l.1 completed","dependencies":[{"issue_id":"coding_agent_session_search-b8l","depends_on_id":"coding_agent_session_search-1z2","type":"blocks","created_at":"2025-11-24T13:58:39.899722674Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-b8l.1","title":"B5.1 Peek cue","description":"Show PEEK badge while Space-held XL context; optional auto-revert on move.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T13:58:35.334763039Z","updated_at":"2025-11-24T14:20:28.995123531Z","closed_at":"2025-11-24T14:20:28.995123531Z"}
{"id":"coding_agent_session_search-bar","title":"TUI theme system: palettes, badges, accents","description":"Introduce named themes (dark/light), agent badges, consistent role colors, and accent styling for results/detail panes.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-23T07:56:28.955554514Z","updated_at":"2025-11-23T14:37:32.757577103Z","closed_at":"2025-11-23T14:37:32.757577103Z","labels":["theme","ui"],"dependencies":[{"issue_id":"coding_agent_session_search-bar","depends_on_id":"coding_agent_session_search-6hx","type":"blocks","created_at":"2025-11-23T07:56:28.967769773Z","created_by":"ubuntu"}]}
{"id":"coding_agent_session_search-bhk","title":"TST.10 Integration: CLI contract golden outputs","description":"Add golden JSON fixtures for introspect/capabilities/api-version; assert exact schema/fields, quiet robot stderr, color=never stability. No mocks; capture outputs from binary.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T18:57:12.135528102Z","updated_at":"2025-12-01T21:00:10.754778791Z","closed_at":"2025-12-01T21:00:10.754778791Z","dependencies":[{"issue_id":"coding_agent_session_search-bhk","depends_on_id":"coding_agent_session_search-09h","type":"blocks","created_at":"2025-12-01T18:58:19.152908607Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-bs8","title":"TST.13 CI wiring: coverage + logs","description":"Pipeline steps: fmt, clippy -D warnings, tests, coverage artifact (tarpaulin/llvm-cov), archive trace/logs from integration runs; optional coverage gate; document outputs.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-01T18:57:33.91566747Z","updated_at":"2025-12-01T18:57:33.91566747Z","dependencies":[{"issue_id":"coding_agent_session_search-bs8","depends_on_id":"coding_agent_session_search-0jt","type":"blocks","created_at":"2025-12-01T18:58:36.057813948Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-bs8","depends_on_id":"coding_agent_session_search-nwn","type":"blocks","created_at":"2025-12-01T18:58:43.086901043Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-bu9","title":"Remove unsafe transmute in chips_for_filters","description":"Refactor chips_for_filters to return Vec\u003cSpan\u003c'static\u003e\u003e using owned strings instead of transmute. (ISSUE-001)","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-01T18:23:45.29948-05:00","updated_at":"2025-12-01T18:24:41.932409-05:00","closed_at":"2025-12-01T18:24:41.932409-05:00","close_reason":"Already fixed in codebase (unsafe transmute removed)"}
{"id":"coding_agent_session_search-bzn","title":"P10 Help modal overhaul","description":"Rich help modal with grouped shortcuts, scrolling, tests.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-11-24T14:00:09.662176881Z","updated_at":"2025-12-01T22:19:11.945083-05:00","closed_at":"2025-12-01T22:19:11.945083-05:00","close_reason":"All sub-tasks (bzn.1, bzn.2, bzn.3) completed","dependencies":[{"issue_id":"coding_agent_session_search-bzn","depends_on_id":"coding_agent_session_search-1z2","type":"blocks","created_at":"2025-11-24T14:00:50.125636538Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-bzn.1","title":"B10.1 Rich help content","description":"Grouped sections: Navigation, Filters/Scopes, Modes, Actions, History/Suggestions, State. Mirrors footer badges.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T14:00:17.696155879Z","updated_at":"2025-11-24T14:05:39.947046816Z","closed_at":"2025-11-24T14:05:39.947046816Z","comments":[{"id":4,"issue_id":"coding_agent_session_search-bzn.1","author":"ubuntu","text":"Fixed persistence corner case: if user quits while Space-peek active, context window now restores saved size before saving tui_state.json. fmt+clippy clean.","created_at":"2025-12-01T23:22:10Z"}]}
{"id":"coding_agent_session_search-bzn.2","title":"B10.2 Help scrolling","description":"Allow Up/Down/Pg keys to scroll help without affecting panes; Esc/F1 closes.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T14:00:21.862597568Z","updated_at":"2025-11-24T14:05:39.947752524Z","closed_at":"2025-11-24T14:05:39.947752524Z","dependencies":[{"issue_id":"coding_agent_session_search-bzn.2","depends_on_id":"coding_agent_session_search-bzn.1","type":"blocks","created_at":"2025-11-24T14:00:32.366965538Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-bzn.3","title":"B10.3 Help tests","description":"Snapshot/contains checks for key labels.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T14:00:26.533333325Z","updated_at":"2025-11-24T14:05:39.949897748Z","closed_at":"2025-11-24T14:05:39.949897748Z","dependencies":[{"issue_id":"coding_agent_session_search-bzn.3","depends_on_id":"coding_agent_session_search-bzn.2","type":"blocks","created_at":"2025-11-24T14:00:39.309475761Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-c7b","title":"bd-unit-connectors-complete","description":"Real-fixture connector unit tests (codex, cline, gemini, claude, opencode, amp); add since_ts coverage and logging; depends on bd-tests-foundation","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-23T17:35:03.591128718Z","updated_at":"2025-11-23T20:06:11.173893867Z","closed_at":"2025-11-23T20:06:11.173893867Z","dependencies":[{"issue_id":"coding_agent_session_search-c7b","depends_on_id":"coding_agent_session_search-vbf","type":"blocks","created_at":"2025-11-23T17:35:03.59265424Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-cre","title":"CLI \u0026 Robot Mode Enhancements Epic","description":"Deliver AI-agent-first cass CLI: automation defaults, robot-help, robot-docs, JSON/exit-code contracts, trace, human-friendly output modes.","design":"Phase 1: Robot output polish (cre.2). Phase 2: Boolean queries (cre.4). Phase 3: Human CLI formats (cre.3). Phase 4: Diagnostics (cre.9).","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-29T06:54:52.170690079Z","updated_at":"2025-11-30T05:23:57.213901721Z","closed_at":"2025-11-30T05:23:57.213901721Z"}
{"id":"coding_agent_session_search-cre.2","title":"cre.2: Enhanced Robot Mode Output","description":"Add --robot-format (json/jsonl/compact) and --robot-meta for extended metadata. Critical for AI agent consumption.","design":"Add RobotFormat enum. JSONL streams one object per line with _meta header. --robot-meta adds elapsed_ms and wildcard_fallback to output. Backward compatible.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-29T06:55:17.482392538Z","updated_at":"2025-11-29T19:47:42.951901842Z","closed_at":"2025-11-29T19:47:42.951901842Z","dependencies":[{"issue_id":"coding_agent_session_search-cre.2","depends_on_id":"coding_agent_session_search-cre","type":"parent-child","created_at":"2025-11-29T06:55:34.959116559Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-cre.3","title":"cre.3: Human-Readable CLI Output Modes","description":"Add --display (table/lines/markdown) for human-friendly CLI output without TUI.","design":"DisplayFormat enum. Table: aligned columns with headers. Lines: one-liner per result. Markdown: role headers and code blocks.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-11-29T06:55:19.313269683Z","updated_at":"2025-11-29T23:51:04.309028427Z","closed_at":"2025-11-29T23:51:04.309028427Z","dependencies":[{"issue_id":"coding_agent_session_search-cre.3","depends_on_id":"coding_agent_session_search-cre","type":"parent-child","created_at":"2025-11-29T06:55:35.336367488Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-cre.4","title":"cre.4: Boolean Query Operators","description":"Implement AND/OR/NOT operators and phrase matching for search queries. High value for power users and AI agents.","design":"Create parser using recursive descent. Grammar: query=or_expr, or_expr=and_expr(OR and_expr)*, and_expr=unary(AND? unary)*, unary=NOT? primary, primary=TERM|PHRASE|WILDCARD|grouped. Output Tantivy BooleanQuery.","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-11-29T06:55:15.418719985Z","updated_at":"2025-11-29T23:51:09.196221219Z","closed_at":"2025-11-29T23:51:09.196221219Z","dependencies":[{"issue_id":"coding_agent_session_search-cre.4","depends_on_id":"coding_agent_session_search-cre","type":"parent-child","created_at":"2025-11-29T06:55:34.68930562Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-cre.9","title":"cre.9: Diagnostic Mode","description":"Add 'cass diagnose' command for health checks, disk usage, and issue detection with fix suggestions.","design":"Check: index openable, SQLite openable, schema version match, connector roots accessible. Report disk usage. Output fix suggestions.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T06:55:21.09433137Z","updated_at":"2025-11-29T23:51:23.45744481Z","closed_at":"2025-11-29T23:51:23.45744481Z","dependencies":[{"issue_id":"coding_agent_session_search-cre.9","depends_on_id":"coding_agent_session_search-cre","type":"parent-child","created_at":"2025-11-29T06:55:35.575681935Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-d0m","title":"Help \u0026 onboarding overlay","description":"Improve '?' overlay with grouped hotkeys, first-run tip banner, and mouse hints; keep footer minimal.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-23T07:56:47.046872362Z","updated_at":"2025-11-23T14:38:16.706038049Z","closed_at":"2025-11-23T14:38:16.706038049Z","labels":["help","ui"],"dependencies":[{"issue_id":"coding_agent_session_search-d0m","depends_on_id":"coding_agent_session_search-6hx","type":"blocks","created_at":"2025-11-23T07:56:47.053670934Z","created_by":"ubuntu"}]}
{"id":"coding_agent_session_search-d5a","title":"Wildcard query performance validation","description":"Benchmark and validate wildcard query latency, especially suffix/substring patterns that use RegexQuery. Ensure sub-80ms target maintained.","design":"Benchmark: foo* (prefix via edge-ngram), *foo (suffix via RegexQuery), *foo* (substring via RegexQuery). Target: \u003c80ms for typical queries. If slow, consider trigram index for suffix matching.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-29T06:56:23.688669143Z","updated_at":"2025-11-29T19:50:01.134766233Z","closed_at":"2025-11-29T19:50:01.134766233Z","labels":["performance","search"]}
{"id":"coding_agent_session_search-dft","title":"P8 Zero-results UX","description":"Did-you-mean suggestions; fall back to recent panes when query empty.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-11-24T13:59:20.964324181Z","updated_at":"2025-12-01T22:16:42.953016-05:00","closed_at":"2025-12-01T22:16:42.953016-05:00","close_reason":"Epic complete: All sub-tasks (dft.1 Did-you-mean suggestions, dft.2 Recent fallback) are closed.","dependencies":[{"issue_id":"coding_agent_session_search-dft","depends_on_id":"coding_agent_session_search-1z2","type":"blocks","created_at":"2025-11-24T13:59:38.019831704Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-dft.1","title":"B8.1 Did-you-mean suggestions","description":"On zero hits, propose adjusted queries/agents; keys 1/2/3 apply.","notes":"BlueCastle: Starting did-you-mean suggestions for zero-hit queries","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T13:59:24.344351614Z","updated_at":"2025-12-01T19:27:24.583265328Z","closed_at":"2025-12-01T19:27:24.583265328Z"}
{"id":"coding_agent_session_search-dft.2","title":"B8.2 Recent fallback","description":"Ensure zero-match reverts to recent-per-agent panes automatically.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T13:59:29.004663406Z","updated_at":"2025-12-01T21:28:55.287099-05:00","closed_at":"2025-12-01T21:28:55.287099-05:00","close_reason":"Recent fallback feature already implemented (lines 5921-5980 in tui.rs): When search returns 0 results for a non-empty query, falls back to showing recent conversations per agent. Shows status 'No matches for X. Showing N recent across M agents.' Verified: cargo check/test pass.","dependencies":[{"issue_id":"coding_agent_session_search-dft.2","depends_on_id":"coding_agent_session_search-dft.1","type":"blocks","created_at":"2025-11-24T13:59:34.035390812Z","created_by":"daemon"}],"comments":[{"id":20,"issue_id":"coding_agent_session_search-dft.2","author":"jemanuel","text":"Starting work: Implementing recent fallback when search returns zero results","created_at":"2025-12-02T02:27:25Z"}]}
{"id":"coding_agent_session_search-dja","title":"bd-unit-indexer","description":"Indexer tests: full flag truncation, append-only add_messages, since_ts routing, watch_state persistence","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-23T17:35:15.292003877Z","updated_at":"2025-11-23T20:06:00.120948243Z","closed_at":"2025-11-23T20:06:00.120948243Z","dependencies":[{"issue_id":"coding_agent_session_search-dja","depends_on_id":"coding_agent_session_search-lxx","type":"blocks","created_at":"2025-11-23T17:35:15.293389883Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-e0h","title":"TUI help \u0026 onboarding overlay","description":"Add rich help overlay with grouped hotkeys, first-run tip banner, and mouse hints; keep footer legend minimal.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-23T07:51:29.022786251Z","updated_at":"2025-11-23T07:55:51.432897188Z","closed_at":"2025-11-23T07:55:51.432897188Z","labels":["help","ui"],"dependencies":[{"issue_id":"coding_agent_session_search-e0h","depends_on_id":"coding_agent_session_search-6hx","type":"blocks","created_at":"2025-11-23T07:51:29.031591267Z","created_by":"ubuntu"}]}
{"id":"coding_agent_session_search-e60","title":"Fix compilation error in lib.rs","description":"Fix argument count mismatch in output_robot_results call.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-01T19:38:51.360878-05:00","updated_at":"2025-12-01T21:27:55.288988-05:00","closed_at":"2025-12-01T21:27:55.288988-05:00","close_reason":"Fixed run_tui signature, output_robot_results args, and inlined missing helper.","comments":[{"id":19,"issue_id":"coding_agent_session_search-e60","author":"jemanuel","text":"Starting work: Fixing compilation errors in lib.rs","created_at":"2025-12-02T02:21:26Z"}]}
{"id":"coding_agent_session_search-ege","title":"LLM-first CLI mode","description":"Deliver AI-agent-first cass CLI: automation defaults, robot-help, robot-docs, JSON/exit-code contracts, trace, wrap/color controls, TUI bypass.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-11-26T00:01:22.259234338Z","updated_at":"2025-11-26T00:01:22.259234338Z"}
{"id":"coding_agent_session_search-ege.1","title":"LLM-CLI spec \u0026 contracts","description":"Write final machine-first CLI spec: flag set, exit codes, JSON error schema, wrap/color/progress defaults, TUI bypass rules, determinism contracts.","notes":"Spec captured in PLAN_TO_MAKE_CODING_AGENT_SESSION_SEARCH.md (LLM-first CLI spec section).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T00:01:29.230488553Z","updated_at":"2025-11-26T00:08:16.180077886Z","closed_at":"2025-11-26T00:08:16.180077886Z"}
{"id":"coding_agent_session_search-ege.10","title":"CLI contract tests \u0026 snapshots","description":"Add snapshot tests for --robot-help and robot-docs topics; contract tests for exit codes, JSON validity, color suppression, wrap flags, TUI bypass, trace; integrate into CI.","notes":"Added robot-help/robot-docs snapshot-like CLI tests (cli_robot); still need broader contract coverage for exit codes/color/wrap/TUI-bypass/trace.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-11-26T00:03:38.25456798Z","updated_at":"2025-11-26T00:34:35.050449431Z","dependencies":[{"issue_id":"coding_agent_session_search-ege.10","depends_on_id":"coding_agent_session_search-ege.5","type":"blocks","created_at":"2025-11-26T00:03:46.138499653Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-ege.10","depends_on_id":"coding_agent_session_search-ege.6","type":"blocks","created_at":"2025-11-26T00:03:51.336778928Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-ege.10","depends_on_id":"coding_agent_session_search-ege.7","type":"blocks","created_at":"2025-11-26T00:03:54.962688252Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-ege.10","depends_on_id":"coding_agent_session_search-ege.8","type":"blocks","created_at":"2025-11-26T00:04:00.122844955Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-ege.10","depends_on_id":"coding_agent_session_search-ege.9","type":"blocks","created_at":"2025-11-26T00:04:03.516062054Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-ege.10","depends_on_id":"coding_agent_session_search-ege.4","type":"blocks","created_at":"2025-11-26T00:04:06.793990251Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-ege.11","title":"Docs/README AI automation","description":"Update README with AI-automation section: wide examples, wrap guidance, trace usage, automation defaults; embed contracts and no-legacy stance.","notes":"README adds AI automation section and robot-help/robot-docs references.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T00:04:13.239248667Z","updated_at":"2025-11-26T00:34:21.449684953Z","closed_at":"2025-11-26T00:34:21.449695453Z","dependencies":[{"issue_id":"coding_agent_session_search-ege.11","depends_on_id":"coding_agent_session_search-ege.5","type":"blocks","created_at":"2025-11-26T00:04:26.682807162Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-ege.11","depends_on_id":"coding_agent_session_search-ege.6","type":"blocks","created_at":"2025-11-26T00:04:31.56126606Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-ege.11","depends_on_id":"coding_agent_session_search-ege.7","type":"blocks","created_at":"2025-11-26T00:04:41.206857325Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-ege.11","depends_on_id":"coding_agent_session_search-ege.8","type":"blocks","created_at":"2025-11-26T00:04:47.997252223Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-ege.11","depends_on_id":"coding_agent_session_search-ege.9","type":"blocks","created_at":"2025-11-26T00:04:53.42263834Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-ege.11","depends_on_id":"coding_agent_session_search-ege.10","type":"blocks","created_at":"2025-11-26T00:05:00.815344351Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-ege.12","title":"Performance sanity (robot flows)","description":"Measure startup/CPU impact of robot-help/doc/trace paths; optimize string building or caching if needed.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-26T00:05:07.802157639Z","updated_at":"2025-11-26T00:05:07.802157639Z","dependencies":[{"issue_id":"coding_agent_session_search-ege.12","depends_on_id":"coding_agent_session_search-ege.4","type":"blocks","created_at":"2025-11-26T00:05:12.459580813Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-ege.12","depends_on_id":"coding_agent_session_search-ege.5","type":"blocks","created_at":"2025-11-26T00:05:16.759635142Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-ege.12","depends_on_id":"coding_agent_session_search-ege.8","type":"blocks","created_at":"2025-11-26T00:05:25.150994969Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-ege.13","title":"Version/changelog for robot CLI","description":"Bump crate version; add changelog entry; ensure --robot-help header carries contract version and crate version; announce internally.","notes":"Bumped version to 0.1.22; robot-help header contract v1 aligns with crate version.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-26T00:05:29.570737571Z","updated_at":"2025-11-26T00:34:29.683671192Z","closed_at":"2025-11-26T00:34:29.683671192Z","dependencies":[{"issue_id":"coding_agent_session_search-ege.13","depends_on_id":"coding_agent_session_search-ege.11","type":"blocks","created_at":"2025-11-26T00:05:37.201301915Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-ege.13","depends_on_id":"coding_agent_session_search-ege.10","type":"blocks","created_at":"2025-11-26T00:05:41.755110177Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-ege.13","depends_on_id":"coding_agent_session_search-ege.12","type":"blocks","created_at":"2025-11-26T00:05:46.433998218Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-ege.2","title":"CLI plumbing for robot flags","description":"Add global --robot-help and robot-docs subcommand; ensure Arg parsing bypasses TUI when automation flags present.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T00:01:35.724421773Z","updated_at":"2025-11-29T23:51:27.199740558Z","closed_at":"2025-11-29T23:51:27.199740558Z"}
{"id":"coding_agent_session_search-ege.3","title":"CLI plumbing for robot flags","description":"Add global --robot-help and robot-docs subcommand; wire argument parsing to bypass TUI when automation flags present.","notes":"CLI plumbing: global robot_help flag, robot-docs subcommand, automation flags integrated into Clap; TUI bypass guard wired.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T00:01:49.023763411Z","updated_at":"2025-11-26T00:22:50.845213809Z","closed_at":"2025-11-26T00:22:50.845224009Z","dependencies":[{"issue_id":"coding_agent_session_search-ege.3","depends_on_id":"coding_agent_session_search-ege.1","type":"blocks","created_at":"2025-11-26T00:01:53.036895995Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-ege.4","title":"Robot-help generator","description":"Implement deterministic machine-first --robot-help output with version header, sections (Summary, Commands, Defaults, Exit codes, JSON/Error schema, Examples, Env, Paths, Trace), no ANSI unless forced.","notes":"Implemented deterministic robot-help output (contract v1) with sections for summary, flags, exit codes, schemas, examples.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T00:01:57.460558431Z","updated_at":"2025-11-26T00:22:56.321182359Z","closed_at":"2025-11-26T00:22:56.321182359Z","dependencies":[{"issue_id":"coding_agent_session_search-ege.4","depends_on_id":"coding_agent_session_search-ege.3","type":"blocks","created_at":"2025-11-26T00:02:03.23287893Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-ege.4","depends_on_id":"coding_agent_session_search-ege.1","type":"blocks","created_at":"2025-11-26T00:02:06.177871304Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-ege.5","title":"Robot-docs topics","description":"Implement robot-docs dispatcher for topics: commands, env, paths, schemas, exit-codes, examples, contracts, wrap; ensure concise parse-stable blocks and tests.","notes":"robot-docs topics commands/env/paths/schemas/exit-codes/examples/contracts/wrap implemented with parse-stable blocks.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T00:02:11.637954704Z","updated_at":"2025-11-26T00:23:01.061785046Z","closed_at":"2025-11-26T00:23:01.061795046Z","dependencies":[{"issue_id":"coding_agent_session_search-ege.5","depends_on_id":"coding_agent_session_search-ege.4","type":"blocks","created_at":"2025-11-26T00:02:18.915701343Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-ege.5","depends_on_id":"coding_agent_session_search-ege.3","type":"blocks","created_at":"2025-11-26T00:02:23.643525661Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-ege.5","depends_on_id":"coding_agent_session_search-ege.1","type":"blocks","created_at":"2025-11-26T00:02:30.791692091Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-ege.6","title":"JSON + exit-code enforcement","description":"Unify error handling with machine schema (code/kind/message/hint/retryable); map command error paths to standardized exit codes; ensure search/index honor --json.","notes":"CLI errors now map to contract codes and JSON schema for search/index/open/trace; main emits structured error payloads.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T00:02:37.19351413Z","updated_at":"2025-11-26T00:34:14.082127445Z","closed_at":"2025-11-26T00:34:14.082129245Z","dependencies":[{"issue_id":"coding_agent_session_search-ege.6","depends_on_id":"coding_agent_session_search-ege.1","type":"blocks","created_at":"2025-11-26T00:02:45.599829252Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-ege.6","depends_on_id":"coding_agent_session_search-ege.3","type":"blocks","created_at":"2025-11-26T00:02:50.499319458Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-ege.7","title":"Color/progress/wrap controls","description":"Add --color=auto|never|always, --progress=plain|bars|none, --wrap/--nowrap; plumb into search/index outputs; defaults favor automation (bars only on TTY, no wrapping).","notes":"Added --color, --progress, --wrap/--nowrap flags; defaults automation-friendly (auto color, bars on tty else plain); wired into search/index/help/docs render.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T00:02:55.746678077Z","updated_at":"2025-11-26T00:23:14.379840828Z","closed_at":"2025-11-26T00:23:14.379842928Z","dependencies":[{"issue_id":"coding_agent_session_search-ege.7","depends_on_id":"coding_agent_session_search-ege.1","type":"blocks","created_at":"2025-11-26T00:03:01.155197687Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-ege.7","depends_on_id":"coding_agent_session_search-ege.3","type":"blocks","created_at":"2025-11-26T00:03:05.502893791Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-ege.8","title":"Trace mode","description":"Implement --trace-file JSONL spans (start/end/duration, cmd, args, exit_code, error); minimal overhead; never writes to stdout/stderr.","notes":"Trace mode via --trace-file writes JSONL spans (start/end/duration/cmd/args/exit/error, contract+crate version).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T00:03:10.176234163Z","updated_at":"2025-11-26T00:23:26.149860151Z","closed_at":"2025-11-26T00:23:26.149860151Z","dependencies":[{"issue_id":"coding_agent_session_search-ege.8","depends_on_id":"coding_agent_session_search-ege.1","type":"blocks","created_at":"2025-11-26T00:03:17.050688003Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-ege.8","depends_on_id":"coding_agent_session_search-ege.3","type":"blocks","created_at":"2025-11-26T00:03:20.652210174Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-ege.9","title":"TUI bypass guard","description":"Guarantee automation flags or non-TTY use never launch TUI; if no subcommand on non-TTY, print guidance and exit 2; keep explicit tui subcommand required.","notes":"Non-TTY default now errors instead of launching TUI; automation flags bypass TUI.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T00:03:24.708079563Z","updated_at":"2025-11-26T00:23:32.61273248Z","closed_at":"2025-11-26T00:23:32.61273698Z","dependencies":[{"issue_id":"coding_agent_session_search-ege.9","depends_on_id":"coding_agent_session_search-ege.1","type":"blocks","created_at":"2025-11-26T00:03:29.80642093Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-ege.9","depends_on_id":"coding_agent_session_search-ege.3","type":"blocks","created_at":"2025-11-26T00:03:33.22902054Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-etr","title":"bd-installer-signing","description":"Add minisign/sha256 pairing to installers; fail-closed when pubkey provided; document trust model.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-23T20:14:20.629746421Z","updated_at":"2025-11-23T20:26:06.744406541Z","closed_at":"2025-11-23T20:26:06.744406541Z","dependencies":[{"issue_id":"coding_agent_session_search-etr","depends_on_id":"coding_agent_session_search-2d0","type":"blocks","created_at":"2025-11-23T20:14:20.631492238Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-etr","depends_on_id":"coding_agent_session_search-zwe","type":"blocks","created_at":"2025-11-23T20:14:20.632830351Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-flk","title":"Storage \u0026 data model: SQLite schema and migrations","description":"Finalize normalized schema (agents, conversations, messages, snippets, tags), pragmas, migrations, and Rusqlite data access layer.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-21T01:27:17.365420062Z","updated_at":"2025-11-23T14:36:43.00576728Z","closed_at":"2025-11-23T14:36:43.00576728Z","dependencies":[{"issue_id":"coding_agent_session_search-flk","depends_on_id":"coding_agent_session_search-acz","type":"blocks","created_at":"2025-11-21T01:27:17.384894268Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-flk.1","title":"Finalize normalized SQLite schema + migration v1","description":"Confirm tables/indices (agents, workspaces, conversations, messages, snippets, tags, fts_messages), write migration SQL with pragmas.","notes":"Schema/migration v1 with pragmas in src/storage/sqlite.rs; normalized structs in src/model/types.rs.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-21T01:28:08.371692016Z","updated_at":"2025-11-21T02:44:21.576129922Z","closed_at":"2025-11-21T02:44:21.576129922Z","dependencies":[{"issue_id":"coding_agent_session_search-flk.1","depends_on_id":"coding_agent_session_search-acz","type":"blocks","created_at":"2025-11-21T01:28:08.37264812Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-flk.2","title":"Implement rusqlite data access layer (pool, pragmas, meta, migrations)","description":"Open DB with bundled SQLite, apply pragmas (WAL, cache, mmap), run migrations, expose typed repositories for agents/conversations/messages/snippets.","notes":"Rusqlite DAL scaffolding: ensure_agent/workspace, insert_conversation_tree transactional with messages/snippets; pragmas/migrations already in place.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-21T01:28:12.243616544Z","updated_at":"2025-11-23T14:35:26.86586898Z","closed_at":"2025-11-23T14:35:26.86586898Z","dependencies":[{"issue_id":"coding_agent_session_search-flk.2","depends_on_id":"coding_agent_session_search-flk.1","type":"blocks","created_at":"2025-11-21T01:28:12.24500575Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-flk.3","title":"Define Rust domain models + serde for normalized entities","description":"Implement structs/enums for Agent, Workspace, Conversation, Message, Snippet, Tag with serde and conversion helpers to/from DB rows.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-21T01:28:15.406153572Z","updated_at":"2025-11-23T14:37:34.735971645Z","closed_at":"2025-11-23T14:37:34.735971645Z","dependencies":[{"issue_id":"coding_agent_session_search-flk.3","depends_on_id":"coding_agent_session_search-flk.2","type":"blocks","created_at":"2025-11-21T01:28:15.408405864Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-fwr","title":"TST.9 Unit: repeatable + path/int inference","description":"Tests for repeatable options (agent, workspace, watch-once, aggregate), path hints (data-dir/db/path), integer heuristics (limit/offset/line/context/days/stale-threshold). Ensure introspect repeatable/value_type fields match expectations without mocks.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-01T18:57:06.068025358Z","updated_at":"2025-12-01T18:57:06.068025358Z","dependencies":[{"issue_id":"coding_agent_session_search-fwr","depends_on_id":"coding_agent_session_search-yln.1","type":"blocks","created_at":"2025-12-01T18:58:13.551520109Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-glt","title":"P12 Ultra-low-latency search v2","description":"Push interactive search to sub-60ms per keystroke via caching, warmups, snippet reuse, reload debounce, and background index optimization.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-26T22:49:49.877743889Z","updated_at":"2025-12-01T19:52:11.323251751Z","closed_at":"2025-12-01T19:52:11.323251751Z","labels":["performance","search"]}
{"id":"coding_agent_session_search-glt.1","title":"B12.1 Prefix cache shards + bloom meta","description":"Refine prefix cache: per-agent/global LRUs (~2k entries total), store lowered strings + bloom-like bitmask per hit, versioned cache key (query+filters+schema hash). Expose trace metrics (hit/miss/shortfall).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T22:50:03.971495411Z","updated_at":"2025-11-29T20:03:49.430914325Z","closed_at":"2025-11-29T20:03:49.430914325Z","labels":["performance","search"],"comments":[{"id":5,"issue_id":"coding_agent_session_search-glt.1","author":"ubuntu","text":"Implemented glt.1 caching improvements: (1) cache namespace now versioned with schema hash; (2) total cache cap (default 2048, env CASS_CACHE_TOTAL_CAP) with cross-shard eviction; (3) per-shard cap still env CASS_CACHE_SHARD_CAP; (4) cache keys include version+schema; (5) tests updated/added in query.rs. Ran cargo fmt, cargo check --all-targets, cargo clippy --all-targets -- -D warnings (clean).","created_at":"2025-12-01T23:22:10Z"},{"id":6,"issue_id":"coding_agent_session_search-glt.1","author":"ubuntu","text":"Further work: added cache stats API (hits/miss/shortfall/reloads + total cap/cost), cache debug toggle env CASS_DEBUG_CACHE_METRICS=1 to emit tracing on cache events, total-cap cross-shard eviction test, and cache doc in README. Attempts at cargo bench search_perf timed out at 120s on this machine; skipped for now. fmt/check/clippy clean.","created_at":"2025-12-01T23:22:10Z"}]}
{"id":"coding_agent_session_search-glt.10","title":"B12.10 Debug surfacing for cache","description":"Optional footer/debug flag showing cache hit/miss; CASS Index Statistics\n=====================\nDatabase: /home/ubuntu/.local/share/coding-agent-search/agent_search.db\n\nTotals:\n  Conversations: 1726\n  Messages: 318525\n\nBy Agent:\n  codex: 1235\n  claude_code: 384\n  gemini: 107\n\nTop Workspaces:\n  /data/projects/smartedgar_mcp: 540\n  /data/projects/historical_soldiers: 126\n  /data/projects/lumera_ai: 116\n  /data/projects/rust_scriptbots: 71\n  /data/projects/mcp_agent_mail: 64\n  /data/projects/smartedgar_mcp_frontend: 60\n  /data/projects/ultimate_bug_scanner: 50\n  /data/projects/smartedgar: 40\n  /data/projects/lumera_ai_website: 39\n  /home/ubuntu/.gemini/tmp/42e4158174f0ef318c8b7e5ef9f77b2bf9d7295cbae54bc84f606191d84600cc: 34\n\nDate Range: 2025-09-10 to 2025-11-26 flag to dump cache counters and reload metrics.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-26T22:51:18.772885599Z","updated_at":"2025-11-30T05:27:29.542518123Z","closed_at":"2025-11-30T05:27:29.542518123Z","labels":["debug","performance"],"dependencies":[{"issue_id":"coding_agent_session_search-glt.10","depends_on_id":"coding_agent_session_search-glt.1","type":"blocks","created_at":"2025-11-26T22:52:47.742561183Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-glt.10","depends_on_id":"coding_agent_session_search-glt.5","type":"blocks","created_at":"2025-11-26T22:52:54.668164573Z","created_by":"daemon"}],"comments":[{"id":7,"issue_id":"coding_agent_session_search-glt.10","author":"ubuntu","text":"Implemented cache debug surfacing in TUI: when env CASS_DEBUG_CACHE_METRICS=1, footer shows cache hits/miss/shortfall, reload counts/time, and cache cost/cap from SearchClient::cache_stats. Cache stats now returned on SearchResult; added eviction/stat tests and global cache cap API. Border toggle duplication cleaned earlier remains Ctrl+B. fmt/check/clippy clean.","created_at":"2025-12-01T23:22:10Z"}]}
{"id":"coding_agent_session_search-glt.2","title":"B12.2 Idle-time prefix warmup","description":"When typing pauses (~80-150ms), enqueue low-priority warmups for current and adjacent prefixes; cap work per interval. Use same cache shards; mark warm entries for metrics.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T22:50:12.147739525Z","updated_at":"2025-11-30T06:24:00.654173281Z","closed_at":"2025-11-30T06:24:00.654173281Z","labels":["performance","search"],"dependencies":[{"issue_id":"coding_agent_session_search-glt.2","depends_on_id":"coding_agent_session_search-glt.1","type":"blocks","created_at":"2025-11-26T22:51:32.181075978Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-glt.2","depends_on_id":"coding_agent_session_search-glt.5","type":"blocks","created_at":"2025-11-26T22:51:36.953629Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-glt.3","title":"B12.3 Cached-hit fast matcher","description":"Store lc_content/title/snippet + small bloom8 per hit; implement hit_matches_query_cached with bloom gate then substring on pre-lowered text; microbench \u003c1µs.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T22:50:18.93827292Z","updated_at":"2025-11-30T06:24:01.090009604Z","closed_at":"2025-11-30T06:24:01.090009604Z","labels":["performance","search"],"dependencies":[{"issue_id":"coding_agent_session_search-glt.3","depends_on_id":"coding_agent_session_search-glt.1","type":"blocks","created_at":"2025-11-26T22:51:45.962705062Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-glt.4","title":"B12.4 Snippet reuse \u0026 prefix highlighting","description":"Classify prefix-only queries; reuse cached snippets/previews instead of SnippetGenerator; keep highlight lightweight; store snippet in cache entries.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T22:50:27.727469852Z","updated_at":"2025-11-30T06:24:01.364659261Z","closed_at":"2025-11-30T06:24:01.364659261Z","labels":["performance","search","ui"],"dependencies":[{"issue_id":"coding_agent_session_search-glt.4","depends_on_id":"coding_agent_session_search-glt.1","type":"blocks","created_at":"2025-11-26T22:51:53.87051251Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-glt.5","title":"B12.5 Reader reload debounce + thread-local searcher","description":"Track index generation; debounce reader.reload() to ~300ms; keep thread-local searcher to cut lock contention; log reload counts/ms.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T22:50:34.832269114Z","updated_at":"2025-11-29T20:05:22.766315642Z","closed_at":"2025-11-29T20:05:22.766315642Z","labels":["performance","search"],"comments":[{"id":8,"issue_id":"coding_agent_session_search-glt.5","author":"ubuntu","text":"Taking this: GreenDog working on reader reload debounce + thread-local searcher. Will post PR-ready updates.","created_at":"2025-12-01T23:22:10Z"},{"id":9,"issue_id":"coding_agent_session_search-glt.5","author":"ubuntu","text":"Progress update: implemented thread-local Tantivy searcher cache keyed by reload epoch, generation tracking that clears prefix cache on index change, and reload metrics with debounced logging. Warm worker now bumps reload epoch and records duration. Ran cargo fmt, cargo check --all-targets, and cargo clippy --all-targets -- -D warnings.","created_at":"2025-12-01T23:22:10Z"},{"id":10,"issue_id":"coding_agent_session_search-glt.5","author":"ubuntu","text":"Added regression test to ensure generation changes clear prefix cache. Fixed clippy warnings (redundant closure, collapsible if) in TUI. Reran cargo fmt/check/clippy --all-targets clean.","created_at":"2025-12-01T23:22:10Z"}]}
{"id":"coding_agent_session_search-glt.6","title":"B12.6 Preview field \u0026 schema v4 experiment","description":"Add lightweight preview field (non-stored, fast) to speed prefix snippets; bump schema hash; measure index size/throughput tradeoff.","notes":"Claimed by BlueCastle. Implementing preview field for schema v4.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-26T22:50:42.024092923Z","updated_at":"2025-11-30T05:27:03.534790844Z","closed_at":"2025-11-30T05:27:03.534790844Z","labels":["performance","schema","search"]}
{"id":"coding_agent_session_search-glt.7","title":"B12.7 Background merge/optimize when idle","description":"Idle-triggered Tantivy segment merge/optimize; track last-merge timestamp; expose debug status; avoid blocking UI.","notes":"Claimed by BlueCastle. Implementing idle-triggered Tantivy segment merge/optimize.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-26T22:50:53.039860322Z","updated_at":"2025-11-30T05:38:11.611531588Z","closed_at":"2025-11-30T05:38:11.611531588Z","labels":["performance","search"]}
{"id":"coding_agent_session_search-glt.8","title":"B12.8 Config + memory guardrails","description":"Add knobs for cache size/shards/warmup; approximate byte cap; metrics for evictions; env/CLI toggles.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T22:51:01.273995305Z","updated_at":"2025-11-30T06:23:31.735275822Z","closed_at":"2025-11-30T06:23:31.735275822Z","labels":["config","performance"]}
{"id":"coding_agent_session_search-glt.9","title":"B12.9 Perf tests \u0026 typing benchmarks","description":"Bench rapid typing/backspace (median/99p latency), unit tests for cache correctness, bloom gating, filter fidelity; property test no filter violations.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T22:51:09.845524665Z","updated_at":"2025-11-30T06:22:27.707591773Z","closed_at":"2025-11-30T06:22:27.707591773Z","labels":["performance","tests"],"dependencies":[{"issue_id":"coding_agent_session_search-glt.9","depends_on_id":"coding_agent_session_search-glt.1","type":"blocks","created_at":"2025-11-26T22:52:00.929643012Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-glt.9","depends_on_id":"coding_agent_session_search-glt.3","type":"blocks","created_at":"2025-11-26T22:52:06.922983969Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-glt.9","depends_on_id":"coding_agent_session_search-glt.4","type":"blocks","created_at":"2025-11-26T22:52:13.593223534Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-glt.9","depends_on_id":"coding_agent_session_search-glt.5","type":"blocks","created_at":"2025-11-26T22:52:20.45660419Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-glt.9","depends_on_id":"coding_agent_session_search-glt.6","type":"blocks","created_at":"2025-11-26T22:52:27.964076323Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-glt.9","depends_on_id":"coding_agent_session_search-glt.7","type":"blocks","created_at":"2025-11-26T22:52:34.761593718Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-glt.9","depends_on_id":"coding_agent_session_search-glt.8","type":"blocks","created_at":"2025-11-26T22:52:40.252273672Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-hlb","title":"Fix failing state_matches_status test","description":"Test expects pending.sessions=3 but fixture is missing watch_state.json file. Need to add watch_state.json with pending_count=3 to tests/fixtures/search_demo_data/","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T18:29:49.667628-05:00","updated_at":"2025-12-01T18:31:49.186842-05:00","closed_at":"2025-12-01T18:31:49.186842-05:00","close_reason":"Added watch_state.json fixture with pending_count=3"}
{"id":"coding_agent_session_search-iqa","title":"Fix critical unwrap panics","description":"Replace dangerous unwrap() calls in indexer with proper error handling. (UBS Critical)","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-01T22:18:18.936412-05:00","updated_at":"2025-12-01T22:19:02.364274-05:00","closed_at":"2025-12-01T22:19:02.364274-05:00","close_reason":"Fixed panics in indexer loop and lock acquisition."}
{"id":"coding_agent_session_search-j2z","title":"Refactor test_store to avoid mem::forget","description":"Avoid leaking TempDir in bookmarks.rs tests by returning the guard with the store. (UBS Warning)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T18:27:20.848834-05:00","updated_at":"2025-12-01T18:30:18.845983-05:00","closed_at":"2025-12-01T18:30:18.845983-05:00","close_reason":"Refactored test helper to return TempDir guard"}
{"id":"coding_agent_session_search-ke5","title":"TST.14 Docs: test matrix + how-to","description":"Document unit/integration/e2e matrix, coverage command, log/trace locations, how to run new introspect-contract tests; link bead IDs for maintenance.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-01T18:57:38.353001101Z","updated_at":"2025-12-01T18:57:38.353001101Z","dependencies":[{"issue_id":"coding_agent_session_search-ke5","depends_on_id":"coding_agent_session_search-bs8","type":"blocks","created_at":"2025-12-01T18:58:51.403253691Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-kg9","title":"TUI filter pills + popovers","description":"Add filter pill row with quick clear; inline popovers for agent/workspace/time presets; keyboard and mouse.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-23T07:56:34.720011243Z","updated_at":"2025-11-23T14:37:33.689934428Z","closed_at":"2025-11-23T14:37:33.689934428Z","labels":["filters","ui"],"dependencies":[{"issue_id":"coding_agent_session_search-kg9","depends_on_id":"coding_agent_session_search-6hx","type":"blocks","created_at":"2025-11-23T07:56:34.728802508Z","created_by":"ubuntu"}]}
{"id":"coding_agent_session_search-kzc","title":"Replace blocking std::fs in async code","description":"Replace blocking IO with tokio::fs in async functions to avoid blocking the runtime.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-01T22:15:54.261514-05:00","updated_at":"2025-12-01T22:18:08.383949-05:00","closed_at":"2025-12-01T22:18:08.383949-05:00","close_reason":"Fixed blocking IO in update checker."}
{"id":"coding_agent_session_search-lsv","title":"P7 Multi-open queue","description":"Ctrl+Enter enqueue; Ctrl+O opens queued hits; confirm if large.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-11-24T13:59:08.659048422Z","updated_at":"2025-11-24T13:59:08.659048422Z","dependencies":[{"issue_id":"coding_agent_session_search-lsv","depends_on_id":"coding_agent_session_search-1z2","type":"blocks","created_at":"2025-11-24T13:59:15.51218995Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-lsv.1","title":"B7.1 Queue and open batch","description":"Ctrl+Enter enqueue; footer queued:n; Ctrl+O opens queued hits; confirm if large.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-24T13:59:11.792072523Z","updated_at":"2025-11-24T13:59:11.792072523Z"}
{"id":"coding_agent_session_search-lxx","title":"bd-unit-storage","description":"SqliteStorage coverage: schema_version getters, FTS rebuild helper, transaction rollback, insert append path","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-23T17:35:07.805505888Z","updated_at":"2025-11-23T20:06:05.29934154Z","closed_at":"2025-11-23T20:06:05.29934154Z","dependencies":[{"issue_id":"coding_agent_session_search-lxx","depends_on_id":"coding_agent_session_search-vbf","type":"blocks","created_at":"2025-11-23T17:35:07.806897708Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-lz1","title":"Search engine: Tantivy + FTS5 integration","description":"Define Tantivy schema, indexing pipeline, search API, plus SQLite FTS5 mirror as fallback.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-21T01:27:21.303774347Z","updated_at":"2025-11-23T14:36:41.489346019Z","closed_at":"2025-11-23T14:36:41.489346019Z","dependencies":[{"issue_id":"coding_agent_session_search-lz1","depends_on_id":"coding_agent_session_search-flk","type":"blocks","created_at":"2025-11-21T01:27:21.308547071Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-lz1.1","title":"Define Tantivy schema and index lifecycle","description":"Fields for message_id, conversation_id, agent_slug, workspace, created_at, title, content; create/open index, manage schema versioning.","notes":"Defined Tantivy schema (agent, workspace, source_path, msg_idx, created_at, title, content) with open/create lifecycle in search/tantivy.rs.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-21T01:28:22.111725104Z","updated_at":"2025-11-21T03:11:11.379818187Z","closed_at":"2025-11-21T03:11:11.379818187Z","dependencies":[{"issue_id":"coding_agent_session_search-lz1.1","depends_on_id":"coding_agent_session_search-flk.2","type":"blocks","created_at":"2025-11-21T01:28:22.11384381Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-lz1.2","title":"Implement Tantivy indexing pipeline from DB","description":"Transform conversations/messages into Tantivy docs, handle batch writes, rebuild path per schema version.","notes":"Index pipeline: connectors -\u003e rusqlite DAL -\u003e Tantivy documents; index command uses Indexer::run_index to persist + index and optional watch stub.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-21T01:28:25.963684432Z","updated_at":"2025-11-21T03:11:17.155867711Z","closed_at":"2025-11-21T03:11:17.155875411Z","dependencies":[{"issue_id":"coding_agent_session_search-lz1.2","depends_on_id":"coding_agent_session_search-lz1.1","type":"blocks","created_at":"2025-11-21T01:28:25.965309537Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-lz1.2","depends_on_id":"coding_agent_session_search-flk.3","type":"blocks","created_at":"2025-11-21T01:28:25.967363243Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-lz1.3","title":"Build SQLite FTS5 mirror and sync routines","description":"Create fts_messages virtual table, implement sync/refresh routines when messages insert/update.","notes":"Filters UI + pagination wired in TUI; SQLite FTS5 mirror with migration/backfill + insert hooks; added Tantivy search integration test covering filters/pagination.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-21T01:28:31.106929515Z","updated_at":"2025-11-21T18:41:04.624773534Z","closed_at":"2025-11-21T18:41:04.624780834Z","dependencies":[{"issue_id":"coding_agent_session_search-lz1.3","depends_on_id":"coding_agent_session_search-flk.2","type":"blocks","created_at":"2025-11-21T01:28:31.108172319Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-lz1.4","title":"Implement search API (query parsing, filters, ranking)","description":"Multi-field query parser with weights, agent/time/workspace filters, paging; fallback to FTS when Tantivy unavailable.","notes":"Tantivy search client returns real docs (agent/time filters, snippets, source path) using TantivyDocument; wired TUI to live search results with status messaging and error handling; clippy/fmt/check clean.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-21T01:28:35.634476777Z","updated_at":"2025-11-21T18:09:31.280293093Z","closed_at":"2025-11-21T18:09:31.280343493Z","dependencies":[{"issue_id":"coding_agent_session_search-lz1.4","depends_on_id":"coding_agent_session_search-lz1.2","type":"blocks","created_at":"2025-11-21T01:28:35.635656081Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-lz1.4","depends_on_id":"coding_agent_session_search-lz1.3","type":"blocks","created_at":"2025-11-21T01:28:35.636878085Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-m10","title":"Fix failing aider connector tests","description":"4 tests failing in connector_aider.rs:\n- aider_consecutive_user_lines_combined (line 890)\n- aider_multiline_user_input (line 321)\n- aider_preserves_commands (line 584)\n- aider_user_messages_from_prefix (line 294)\n\nAll tests failing on assertions about user message content parsing.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T18:32:20.849854-05:00","updated_at":"2025-12-01T18:36:03.331383-05:00","closed_at":"2025-12-01T18:36:03.331383-05:00","close_reason":"Fixed aider connector user message parsing - consecutive \u003e lines now combined"}
{"id":"coding_agent_session_search-n1l","title":"Update AGENTS.md with Robot Interface Guide","description":"Add a comprehensive section to AGENTS.md explaining the CLI robot mode, fuzzy features, and error format.","status":"in_progress","priority":1,"issue_type":"task","created_at":"2025-12-01T23:04:12.217672-05:00","updated_at":"2025-12-01T23:07:01.883521-05:00"}
{"id":"coding_agent_session_search-naq","title":"bd-docs-testing","description":"README testing matrix + env knobs; update help","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-23T17:36:03.766483569Z","updated_at":"2025-11-23T20:05:41.459247399Z","closed_at":"2025-11-23T20:05:41.459247399Z","dependencies":[{"issue_id":"coding_agent_session_search-naq","depends_on_id":"coding_agent_session_search-dja","type":"blocks","created_at":"2025-11-23T17:36:03.767159086Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-nwn","title":"TST.12 Integration: robot docs \u0026 help contract","description":"Verify cass --robot-help and robot-docs schemas topic include dynamic introspection fields; snapshot assertions, ANSI off; fail on missing commands/flags.","notes":"Robot-docs/help contract coverage added; capabilities/introspect fixtures regenerated; robot-help sections/ANSI-free asserted; robot-docs commands/env asserted; run_tui wiring fixed; cli_robot + concurrent_search suites passing.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T18:57:24.851651771Z","updated_at":"2025-12-01T22:19:51.794666-05:00","closed_at":"2025-12-01T22:19:51.794668-05:00","dependencies":[{"issue_id":"coding_agent_session_search-nwn","depends_on_id":"coding_agent_session_search-bhk","type":"blocks","created_at":"2025-12-01T18:58:30.833309341Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-og6","title":"TUI filters UX: pill row + inline popovers","description":"Add filter pill strip with quick clear, inline popovers for agent/workspace/time with presets; keyboard + mouse support.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-23T07:51:18.157389583Z","updated_at":"2025-11-23T07:55:39.131877582Z","closed_at":"2025-11-23T07:55:39.131877582Z","labels":["filters","ui"],"dependencies":[{"issue_id":"coding_agent_session_search-og6","depends_on_id":"coding_agent_session_search-6hx","type":"blocks","created_at":"2025-11-23T07:51:18.166577069Z","created_by":"ubuntu"}]}
{"id":"coding_agent_session_search-p8k","title":"Integrate time parser into TUI","description":"Replace numeric parsing with parse_time_input in TUI input handling. (ISSUE-004/BEAD-009)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T18:24:55.004131-05:00","updated_at":"2025-12-01T18:25:14.348912-05:00","closed_at":"2025-12-01T18:25:14.348912-05:00","close_reason":"Already implemented in codebase"}
{"id":"coding_agent_session_search-pmb","title":"P6 Find-in-detail","description":"In-detail search with /, n/N, highlights; tests.","status":"in_progress","priority":2,"issue_type":"epic","created_at":"2025-11-24T13:58:43.675117816Z","updated_at":"2025-12-01T22:21:36.038748-05:00","dependencies":[{"issue_id":"coding_agent_session_search-pmb","depends_on_id":"coding_agent_session_search-1z2","type":"blocks","created_at":"2025-11-24T13:59:03.172610256Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-pmb.1","title":"B6.1 Detail search mode","description":"/ enters local find; n/N jump; highlights; Esc exits; status shows match X/N.","notes":"Detail find implemented in src/ui/tui.rs: / to open detail find, n/N to navigate, highlights across tabs; help/legend updated; fmt+check+clippy clean","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T13:58:46.613771146Z","updated_at":"2025-12-01T19:26:37.76529474Z","closed_at":"2025-12-01T19:26:37.76529474Z"}
{"id":"coding_agent_session_search-pmb.2","title":"B6.2 Detail search tests","description":"Unit/UI tests for in-detail highlighting.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-24T13:58:56.394797444Z","updated_at":"2025-11-24T13:58:56.394797444Z","dependencies":[{"issue_id":"coding_agent_session_search-pmb.2","depends_on_id":"coding_agent_session_search-pmb.1","type":"blocks","created_at":"2025-11-24T13:59:00.113057449Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-rob","title":"Agent-First CLI Epic: Making cass Irresistible for AI Agents","description":"# Agent-First CLI Epic\n\n## Vision\nTransform `cass` from a good CLI tool into an **exceptional tool for AI agents**. The goal is to make `cass` the gold standard for how CLI tools should be designed for AI consumption.\n\n## Background \u0026 Motivation\nAI agents (Claude, GPT-4, Codex, etc.) are increasingly being used to automate software development workflows. These agents interact with CLI tools through subprocess execution, parsing stdout/stderr. However, most CLI tools were designed for human users, creating friction:\n\n1. **Context Window Bloat**: AI agents have limited context windows (4K-200K tokens). A single search returning 10 results with full content can be 50KB+ of text, consuming precious context.\n\n2. **Parsing Uncertainty**: Agents need predictable, machine-readable output. Mixed log messages, inconsistent schemas, and undocumented fields cause parsing failures.\n\n3. **State Blindness**: Agents don't know if the index is stale, if they should retry, or what the system state is.\n\n4. **Workflow Friction**: Multi-step workflows (search → analyze → refine) require verbose command sequences.\n\n## Design Principles\n1. **Context-Efficient by Default**: Every byte of output should earn its place\n2. **Self-Documenting**: The CLI should explain itself completely\n3. **Predictable**: Same inputs → same outputs, documented contracts\n4. **Composable**: Easy to chain operations in workflows\n5. **Fail-Informative**: Errors include actionable recovery information\n\n## Success Metrics\n- 10x reduction in average response size with field selection\n- Zero log pollution in robot mode outputs\n- 100% schema coverage in introspection\n- Sub-second status checks\n\n## Structure\n- rob.ctx: Context Window Management (CRITICAL)\n- rob.query: Query Intelligence\n- rob.state: State Awareness\n- rob.flow: Workflow Optimization\n- rob.api: API Contract Clarity\n- rob.safe: Reliability \u0026 Safety\n\n## Dependencies\nThis epic builds on the existing robot mode infrastructure (--json, --robot, robot-docs). No external dependencies.","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-30T23:54:08.394848663Z","updated_at":"2025-11-30T23:54:08.394848663Z"}
{"id":"coding_agent_session_search-rob.api","title":"API Contract Clarity: Predictable, Documented Behavior","description":"# API Contract Clarity\n\n## The Problem\nAgents need **certainty** about API behavior:\n- What fields will always be present?\n- What types are returned?\n- What features are available?\n- Will the API change?\n\nCurrent documentation is informal and incomplete.\n\n## The Solution\nMake the API **self-documenting** and **introspectable**:\n1. Full schema introspection command\n2. Capabilities discovery\n3. Version negotiation\n\n## Subtasks\n1. **rob.api.intro** - Full schema introspection\n2. **rob.api.caps** - Capabilities endpoint\n3. **rob.api.version** - API versioning\n\n## Value for Agents\n- Confidence: Know exactly what to expect\n- Adaptation: Discover available features\n- Stability: Understand version compatibility","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-30T23:54:08.420280752Z","updated_at":"2025-11-30T23:54:08.420280752Z"}
{"id":"coding_agent_session_search-rob.api.caps","title":"Capabilities Endpoint (cass capabilities)","description":"# Capabilities Endpoint (cass capabilities)\n\n## Problem Statement\nAgents need to know what features are available:\n- Does this version support --fields?\n- Is aggregation available?\n- What connectors are supported?\n\n## Proposed Solution\nAdd `cass capabilities` command:\n```bash\ncass capabilities --json\n```\n\nOutput:\n```json\n{\n  \"crate_version\": \"0.1.30\",\n  \"api_version\": 1,\n  \"contract_version\": \"1\",\n  \"features\": [\n    \"json_output\",\n    \"jsonl_output\",\n    \"robot_meta\",\n    \"time_filters\",\n    \"field_selection\",\n    \"aggregations\",\n    \"cursor_pagination\"\n  ],\n  \"connectors\": [\n    \"codex\", \"claude_code\", \"gemini\", \"opencode\", \"amp\", \"cline\"\n  ],\n  \"limits\": {\n    \"max_limit\": 1000,\n    \"max_content_length\": 100000,\n    \"max_fields\": 20\n  },\n  \"documentation_url\": \"https://github.com/...\"\n}\n```\n\n## Design Decisions\n\n### Feature Flags\nList individual features so agents can check availability:\n```python\nif \"field_selection\" in capabilities[\"features\"]:\n    cmd += \" --fields source_path,line_number\"\n```\n\n### Version Numbers\n- `crate_version`: Semantic version of the binary\n- `api_version`: Integer version of the API contract (bump on breaking changes)\n- `contract_version`: Existing robot-docs contract version\n\n### Limits\nExpose operational limits so agents don't exceed them.\n\n## Acceptance Criteria\n- [ ] `cass capabilities --json` returns feature list\n- [ ] Features list accurately reflects available functionality\n- [ ] Version numbers included\n- [ ] Limits documented\n- [ ] Human-readable output without --json\n\n## Effort Estimate\nLow - 1-2 hours. Static information assembly.","status":"closed","priority":2,"issue_type":"task","assignee":"BlackPond","created_at":"2025-11-30T23:54:08.438234185Z","updated_at":"2025-12-01T21:26:59.162232-05:00","closed_at":"2025-12-01T21:26:59.162232-05:00","close_reason":"Closed"}
{"id":"coding_agent_session_search-rob.api.intro","title":"Full Schema Introspection (cass introspect)","description":"# Full Schema Introspection (cass introspect)\n\n## Problem Statement\nAgents need complete API documentation in machine-readable form:\n- What commands are available?\n- What arguments does each take?\n- What does the response look like?\n\nCurrently requires parsing help text or robot-docs.\n\n## Proposed Solution\nAdd `cass introspect` command returning full API schema:\n```bash\ncass introspect --json\n```\n\nOutput:\n```json\n{\n  \"api_version\": \"1.1\",\n  \"crate_version\": \"0.1.30\",\n  \"commands\": {\n    \"search\": {\n      \"description\": \"Run a one-off search and print results\",\n      \"arguments\": {\n        \"query\": {\n          \"type\": \"string\",\n          \"required\": true,\n          \"description\": \"The search query\"\n        }\n      },\n      \"flags\": {\n        \"--limit\": {\n          \"type\": \"integer\",\n          \"default\": 10,\n          \"description\": \"Max results\"\n        },\n        \"--json\": {\n          \"type\": \"boolean\",\n          \"default\": false,\n          \"description\": \"Output as JSON\"\n        }\n        // ... all flags\n      },\n      \"response_schema\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"count\": {\"type\": \"integer\"},\n          \"hits\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"score\": {\"type\": \"number\"},\n                \"agent\": {\"type\": \"string\"},\n                // ... all hit fields\n              },\n              \"required\": [\"score\", \"agent\", \"source_path\"]\n            }\n          }\n        },\n        \"required\": [\"count\", \"hits\"]\n      }\n    }\n    // ... all commands\n  }\n}\n```\n\n## Design Decisions\n\n### Schema Format\nUse JSON Schema subset for response schemas. Familiar to developers and tools.\n\n### Generation\nGenerate schema from Clap annotations + custom response type definitions. Could use serde reflection.\n\n### Scope\nInclude all public commands and their complete signatures.\n\n## Acceptance Criteria\n- [ ] `cass introspect --json` returns full API schema\n- [ ] All commands included with arguments and flags\n- [ ] Response schemas for JSON outputs\n- [ ] Required vs optional fields indicated\n- [ ] Types accurate (string, integer, boolean, array, object)\n\n## Effort Estimate\nMedium-High - 4-6 hours. Requires schema generation from Clap + custom response types.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T23:54:08.438234185Z","updated_at":"2025-12-01T21:32:47.83967-05:00","closed_at":"2025-12-01T21:32:47.83967-05:00","close_reason":"Closed"}
{"id":"coding_agent_session_search-rob.api.version","title":"API Versioning Strategy","description":"# API Versioning Strategy\n\n## Problem Statement\nAs the CLI evolves, agents need to understand compatibility:\n- Will my scripts break with the next update?\n- How do I handle version differences?\n- When are breaking changes introduced?\n\n## Proposed Solution\nFormalize versioning strategy:\n\n### API Version Number\nSimple integer that increments on breaking changes:\n- v1: Current stable API\n- v2: Future breaking changes\n\n### Compatibility Promise\n- Minor/patch releases: No breaking changes to JSON output\n- New fields may be added (additive changes OK)\n- Field removal or type changes require version bump\n\n### Version Negotiation\n```bash\ncass search \"query\" --json --api-version 1\n# If api-version is incompatible, return error with supported versions\n```\n\n### Deprecation Warnings\nWhen using deprecated features:\n```json\n{\n  \"_warnings\": [\"--robot flag is deprecated; use --json instead\"],\n  \"hits\": [...]\n}\n```\n\n## Documentation\nAdd CHANGELOG section specifically for API changes:\n- Breaking changes clearly marked\n- Migration guides for version transitions\n\n## Acceptance Criteria\n- [ ] api_version number in capabilities output\n- [ ] Deprecation warnings in JSON output\n- [ ] CHANGELOG tracks API changes\n- [ ] `--api-version` flag for version negotiation (optional)\n\n## Effort Estimate\nLow - 1-2 hours. Mostly documentation and version tracking.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-30T23:54:08.438234185Z","updated_at":"2025-11-30T23:54:08.438234185Z"}
{"id":"coding_agent_session_search-rob.ctx","title":"Context Window Management: Minimizing Token Consumption","description":"# Context Window Management\n\n## The Problem\nAI agents have **limited context windows**. Every token matters. Current search output includes:\n- Full message content (often 1000+ chars per hit)\n- Verbose snippets with markdown formatting\n- Fields the agent may not need (workspace, title when empty)\n\nA typical 10-result search can produce 50KB of JSON. An agent working on a complex task might need to run 5-10 searches, quickly consuming 500KB of context just for search results.\n\n## The Solution\nGive agents **precise control** over what fields are returned and how much content is included.\n\n## Impact Analysis\n| Scenario | Current Size | With Optimization | Reduction |\n|----------|-------------|-------------------|----------|\n| 10 hits, full content | ~50KB | ~2KB (paths only) | 96% |\n| 10 hits, truncated | ~50KB | ~5KB (200 char limit) | 90% |\n| 20 hits, aggregated | ~100KB | ~1KB (counts only) | 99% |\n\n## Subtasks\n1. **rob.ctx.fields** - Field selection (--fields) - HIGHEST PRIORITY\n2. **rob.ctx.trunc** - Content truncation (--max-content-length)\n3. **rob.ctx.tokens** - Token budget (--max-tokens)\n4. **rob.ctx.quiet** - Auto-quiet in robot mode\n\n## Implementation Order\n1. Auto-quiet (trivial, immediate value)\n2. Field selection (high impact, moderate effort)\n3. Content truncation (high impact, low effort)\n4. Token budget (medium impact, higher effort)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-30T23:54:08.420280752Z","updated_at":"2025-12-01T19:45:49.954936156Z","closed_at":"2025-12-01T19:45:49.954936156Z"}
{"id":"coding_agent_session_search-rob.ctx.fields","title":"Field Selection (--fields flag)","description":"# Field Selection (--fields flag)\n\n## Problem Statement\nCurrent search output includes ALL fields for every hit:\n```json\n{\"score\": 4.2, \"agent\": \"claude_code\", \"workspace\": \"/long/path\", \n \"source_path\": \"/very/long/path/to/session.jsonl\", \"snippet\": \"...\",\n \"content\": \"\u003cpotentially 10KB of text\u003e\", \"title\": \"...\", \n \"created_at\": 1234567890, \"line_number\": 42, \"match_type\": \"exact\"}\n```\n\nOften an agent only needs 2-3 fields:\n- Just paths and line numbers to open files\n- Just scores to rank results\n- Just agents to understand distribution\n\n## Proposed Solution\nAdd `--fields` flag to select specific fields:\n```bash\ncass search \"error\" --json --fields source_path,line_number,score\n```\n\nOutput:\n```json\n{\"count\": 10, \"hits\": [\n  {\"source_path\": \"/path/to/file.jsonl\", \"line_number\": 42, \"score\": 4.2},\n  ...\n]}\n```\n\n## Design Decisions\n\n### Field Naming\nUse exact field names from current schema:\n- `score`, `agent`, `workspace`, `source_path`, `snippet`, `content`, `title`, `created_at`, `line_number`, `match_type`\n\n### Special Fields\n- `*` or `all` - include all fields (default behavior)\n- `minimal` - shorthand for `source_path,line_number,agent`\n- `summary` - shorthand for `source_path,line_number,agent,title,score`\n\n### Metadata Fields\nTop-level fields (`count`, `limit`, `offset`, `query`) always included. `--fields` only affects `hits` array contents.\n\n### Invalid Fields\nUnknown field names produce a warning on stderr but don't fail the command (graceful degradation).\n\n## Implementation Approach\n\n```rust\n// In search command args:\n#[arg(long, value_delimiter = ',')]\nfields: Option\u003cVec\u003cString\u003e\u003e,\n\n// In output_robot_results():\nfn filter_hit_fields(hit: \u0026SearchHit, fields: \u0026Option\u003cVec\u003cString\u003e\u003e) -\u003e serde_json::Value {\n    let all_fields = serde_json::to_value(hit).unwrap();\n    match fields {\n        None =\u003e all_fields,\n        Some(field_list) =\u003e {\n            let mut filtered = serde_json::Map::new();\n            for field in field_list {\n                if let Some(value) = all_fields.get(field) {\n                    filtered.insert(field.clone(), value.clone());\n                }\n            }\n            serde_json::Value::Object(filtered)\n        }\n    }\n}\n```\n\n## Acceptance Criteria\n- [ ] `--fields source_path` returns only source_path in each hit\n- [ ] `--fields source_path,line_number,score` returns exactly those 3 fields\n- [ ] `--fields minimal` expands to predefined set\n- [ ] `--fields summary` expands to predefined set\n- [ ] Unknown fields logged as warning, don't fail command\n- [ ] Works with all robot formats (json, jsonl, compact)\n- [ ] Update robot-docs schemas to document --fields\n- [ ] Add tests for field filtering\n\n## Context Savings Estimate\n| Fields Requested | Typical Hit Size | Reduction |\n|-----------------|------------------|----------|\n| All (default) | ~5KB | 0% |\n| source_path,line_number | ~200 bytes | 96% |\n| summary preset | ~500 bytes | 90% |\n\n## Effort Estimate\nMedium - 2-3 hours. Requires:\n- CLI arg parsing\n- Field filtering logic\n- Preset expansion\n- Tests\n- Documentation updates","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-30T23:54:08.438234185Z","updated_at":"2025-12-01T00:35:28.953198777Z","closed_at":"2025-12-01T00:35:28.953198777Z"}
{"id":"coding_agent_session_search-rob.ctx.quiet","title":"Auto-Quiet in Robot Mode","description":"# Auto-Quiet in Robot Mode\n\n## Problem Statement\nWhen using `--json` or `--robot` flags, INFO log messages still appear on stderr:\n```\n2025-11-30T23:24:37.912929Z  INFO search_start backend=\"sqlite\" query=\"hello\"\n{\"count\": 2, \"hits\": [...]}\n```\n\nWhile logs go to stderr (correct), many subprocess libraries combine stdout+stderr by default. This means agents using common patterns like Python's `subprocess.run(capture_output=True)` or Node's `execSync` will see logs mixed with JSON.\n\n## Current Workaround\nAgents must remember to add `--quiet` flag:\n```bash\ncass --quiet search \"query\" --json\n```\n\nThis is an unnecessary tax on every robot invocation.\n\n## Proposed Solution\nWhen `--json`, `--robot`, or `--robot-format` is specified, automatically suppress INFO-level logs (equivalent to `--quiet`). Only WARN and ERROR logs should appear on stderr in robot mode.\n\n## Implementation\n```rust\n// In lib.rs, after parsing CLI args:\nlet effective_quiet = cli.quiet || is_robot_mode(\u0026command);\n\nfn is_robot_mode(cmd: \u0026Commands) -\u003e bool {\n    match cmd {\n        Commands::Search { json, robot_format, .. } =\u003e *json || robot_format.is_some(),\n        Commands::Stats { json, .. } =\u003e *json,\n        Commands::Diag { json, .. } =\u003e *json,\n        Commands::Index { json, .. } =\u003e *json,\n        Commands::View { json, .. } =\u003e *json,\n        _ =\u003e false,\n    }\n}\n```\n\n## Acceptance Criteria\n- [ ] `cass search \"q\" --json 2\u003e\u00261` produces clean JSON with no log lines\n- [ ] `cass search \"q\" --robot-format jsonl 2\u003e\u00261` produces clean JSONL\n- [ ] WARN/ERROR logs still appear on stderr (for debugging)\n- [ ] Explicit `--verbose` overrides auto-quiet\n- [ ] Update robot-docs contracts to reflect new behavior\n- [ ] Add test: `robot_mode_suppresses_info_logs`\n\n## Effort Estimate\nTrivial - 30 minutes. Change is ~10 lines of code.\n\n## Risk Assessment\nLow risk. This is purely additive behavior that matches user expectations.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-30T23:54:08.438234185Z","updated_at":"2025-12-01T00:27:50.63525328Z","closed_at":"2025-12-01T00:27:50.63525328Z"}
{"id":"coding_agent_session_search-rob.ctx.tokens","title":"Token Budget (--max-tokens)","description":"# Token Budget (--max-tokens)\n\n## Problem Statement\nAgents have specific token budgets for tool outputs. Rather than guessing how many results to request or what content length to use, agents should be able to say \"give me as much as fits in N tokens.\"\n\n## Proposed Solution\nAdd `--max-tokens N` flag for intelligent output limiting:\n```bash\ncass search \"error\" --json --max-tokens 2000\n```\n\nOutput:\n```json\n{\n  \"count\": 47,\n  \"returned\": 12,\n  \"truncated\": true,\n  \"token_estimate\": 1987,\n  \"hits\": [...]\n}\n```\n\n## Design Decisions\n\n### Token Estimation\nUse simple heuristic: ~4 characters per token (conservative for English text with JSON overhead). Could use tiktoken for accuracy but adds dependency.\n\n### Truncation Strategy\n1. Start with all requested hits\n2. Estimate total tokens\n3. If over budget, progressively:\n   a. Truncate content fields\n   b. Reduce number of hits\n   c. Remove optional fields\n\n### Metadata Preservation\nAlways include: count, returned, truncated, token_estimate. These don't count against budget.\n\n## Implementation Complexity\nThis is more complex than simple field selection because it requires:\n- Token estimation logic\n- Iterative trimming strategy\n- Priority ordering of what to cut\n\n## Acceptance Criteria\n- [ ] `--max-tokens 1000` produces output estimating \u003c1000 tokens\n- [ ] `truncated: true` when output was limited\n- [ ] `returned` field shows actual hits returned vs total matches\n- [ ] `token_estimate` field shows estimated tokens in response\n- [ ] Graceful degradation (fewer hits rather than error)\n\n## Effort Estimate\nMedium-High - 4-6 hours. Requires token estimation and iterative trimming logic.\n\n## Alternative Considered\nCould use external tokenizer (tiktoken) for accuracy, but:\n- Adds Python dependency or Rust port\n- Simple heuristic is good enough for budgeting\n- Can refine estimation later if needed","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T23:54:08.438234185Z","updated_at":"2025-12-01T19:45:32.479109694Z","closed_at":"2025-12-01T19:45:32.479109694Z"}
{"id":"coding_agent_session_search-rob.ctx.trunc","title":"Content Truncation (--max-content-length)","description":"# Content Truncation (--max-content-length)\n\n## Problem Statement\nThe `content` and `snippet` fields can contain very long text (10KB+ for detailed conversations). Even when an agent wants content, they often only need the first few hundred characters to understand context.\n\n## Proposed Solution\nAdd `--max-content-length N` flag to truncate text fields:\n```bash\ncass search \"error\" --json --max-content-length 200\n```\n\nOutput:\n```json\n{\"content\": \"First 200 chars of content...\", \"content_truncated\": true, ...}\n```\n\n## Design Decisions\n\n### Which Fields Are Affected\n- `content` - main message content\n- `snippet` - highlighted excerpt\n- `title` - usually short, but truncate if needed\n\n### Truncation Indicator\nAdd `_truncated` suffix field when content is truncated:\n```json\n{\"content\": \"truncated...\", \"content_truncated\": true}\n```\n\n### UTF-8 Safety\nTruncate at character boundaries, not byte boundaries. Ensure valid UTF-8 output.\n\n### Ellipsis\nAppend `...` when truncating to indicate incompleteness.\n\n## Implementation\n```rust\nfn truncate_content(s: \u0026str, max_len: usize) -\u003e (String, bool) {\n    if s.chars().count() \u003c= max_len {\n        (s.to_string(), false)\n    } else {\n        let truncated: String = s.chars().take(max_len.saturating_sub(3)).collect();\n        (format!(\"{}...\", truncated), true)\n    }\n}\n```\n\n## Acceptance Criteria\n- [ ] `--max-content-length 100` truncates content to ~100 chars\n- [ ] Truncated fields have `_truncated: true` sibling field\n- [ ] UTF-8 boundaries respected (no broken characters)\n- [ ] Works with `--fields` (truncation applied to selected fields)\n- [ ] Ellipsis appended to truncated content\n- [ ] Test: various Unicode content truncation\n\n## Effort Estimate\nLow - 1-2 hours. Simple string truncation with UTF-8 awareness.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-30T23:54:08.438234185Z","updated_at":"2025-12-01T01:45:55.590679447Z","closed_at":"2025-12-01T01:45:55.590679447Z"}
{"id":"coding_agent_session_search-rob.doc","title":"Documentation: Robot Mode Guide","description":"# Documentation: Robot Mode Guide\n\n## Problem Statement\nAll the new features need comprehensive documentation:\n- How to use each feature\n- Best practices for AI agents\n- Complete examples\n- Migration from older versions\n\n## Proposed Solution\nCreate `docs/ROBOT_MODE.md` with:\n\n1. **Quick Start for AI Agents**\n   - TL;DR commands\n   - Common patterns\n\n2. **Feature Reference**\n   - Each flag with examples\n   - JSON schemas\n   - Error handling\n\n3. **Best Practices**\n   - Context window optimization\n   - Retry strategies\n   - Workflow patterns\n\n4. **Integration Examples**\n   - Python subprocess\n   - Node.js child_process\n   - Shell scripting\n\n## Acceptance Criteria\n- [ ] docs/ROBOT_MODE.md created\n- [ ] All robot features documented\n- [ ] Working examples for each feature\n- [ ] Integration examples in 3+ languages\n- [ ] robot-docs updated to reference guide\n\n## Effort Estimate\nMedium - 3-4 hours of documentation writing.","notes":"Added docs/ROBOT_MODE.md (quickstart, feature reference, best practices, Python/Node/Bash examples); linked from README under AI/Automation.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T23:54:08.420280752Z","updated_at":"2025-12-01T22:16:57.075633-05:00","closed_at":"2025-12-01T22:16:57.075634-05:00"}
{"id":"coding_agent_session_search-rob.flow","title":"Workflow Optimization: Efficient Multi-Step Operations","description":"# Workflow Optimization\n\n## The Problem\nAgent workflows often follow patterns:\n1. Search for something\n2. Examine results\n3. Refine search or dig deeper\n4. Take action on findings\n\nCurrent CLI requires verbose command sequences with manual state management.\n\n## The Solution\nOptimize common workflow patterns:\n1. **Aggregations**: Get overview without full results\n2. **Context**: Find related sessions\n3. **Correlation**: Track multi-step operations\n4. **Pagination**: Reliable cursor-based navigation\n\n## Subtasks\n1. **rob.flow.agg** - Aggregation mode\n2. **rob.flow.context** - Session context command\n3. **rob.flow.reqid** - Request ID correlation\n4. **rob.flow.cursor** - Cursor-based pagination\n\n## Value for Agents\n- Efficiency: Get answers with fewer commands\n- Context: Understand relationships between results\n- Traceability: Track operations across steps","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-30T23:54:08.420280752Z","updated_at":"2025-11-30T23:54:08.420280752Z"}
{"id":"coding_agent_session_search-rob.flow.agg","title":"Aggregation Mode (--aggregate)","description":"# Aggregation Mode (--aggregate)\n\n## Problem Statement\nAgents often want overview statistics without full results:\n- How many errors per agent?\n- What workspaces have the most activity?\n- What's the time distribution?\n\nCurrently requires fetching all results and aggregating client-side, wasting tokens.\n\n## Proposed Solution\nAdd `--aggregate` flag for server-side aggregation:\n```bash\ncass search \"error\" --json --aggregate agent,workspace\n```\n\nOutput:\n```json\n{\n  \"total_matches\": 147,\n  \"aggregations\": {\n    \"agent\": {\n      \"buckets\": [\n        {\"key\": \"claude_code\", \"count\": 89},\n        {\"key\": \"codex\", \"count\": 45},\n        {\"key\": \"gemini\", \"count\": 13}\n      ]\n    },\n    \"workspace\": {\n      \"buckets\": [\n        {\"key\": \"/project-a\", \"count\": 50},\n        {\"key\": \"/project-b\", \"count\": 40},\n        {\"key\": \"\u003cother\u003e\", \"count\": 57}\n      ]\n    }\n  },\n  \"hits\": []  // Empty when aggregating only\n}\n```\n\n## Design Decisions\n\n### Aggregatable Fields\n- `agent` - Group by agent type\n- `workspace` - Group by workspace path\n- `date` - Group by day/week/month\n- `match_type` - Group by exact/wildcard/fuzzy\n\n### Bucket Limits\nDefault to top 10 buckets per field. Use `\u003cother\u003e` for remainder.\n\n### Combining with Results\n- `--aggregate` alone: Only aggregations, no hits\n- `--aggregate` with `--limit N`: Both aggregations and N hits\n\n### Performance\nAggregations should be efficient:\n- Use SQL GROUP BY where possible\n- Cache aggregation results\n\n## Acceptance Criteria\n- [ ] `--aggregate agent` groups by agent\n- [ ] `--aggregate agent,workspace` groups by both\n- [ ] Aggregation-only mode returns empty hits array\n- [ ] Can combine with --limit for both aggs and hits\n- [ ] Top 10 buckets with \u003cother\u003e for overflow\n- [ ] Performance: \u003c200ms for aggregation queries\n\n## Context Savings\nAggregation response: ~500 bytes vs ~50KB for full results. **99% reduction!**\n\n## Effort Estimate\nMedium - 3-4 hours. Requires SQL GROUP BY queries and result formatting.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-30T23:54:08.438234185Z","updated_at":"2025-12-01T02:32:17.986294545Z","closed_at":"2025-12-01T02:32:17.986294545Z"}
{"id":"coding_agent_session_search-rob.flow.context","title":"Session Context Command (cass context)","description":"# Session Context Command (cass context)\n\n## Problem Statement\nWhen an agent finds an interesting result, they often want:\n- Other sessions in the same workspace\n- Sessions from the same time period\n- Related conversations by topic\n\nCurrently requires multiple manual searches.\n\n## Proposed Solution\nAdd `cass context` command to find related sessions:\n```bash\ncass context /path/to/session.jsonl --json\n```\n\nOutput:\n```json\n{\n  \"source\": {\n    \"path\": \"/path/to/session.jsonl\",\n    \"agent\": \"claude_code\",\n    \"workspace\": \"/myproject\",\n    \"created_at\": \"2025-01-15T10:00:00Z\"\n  },\n  \"related\": {\n    \"same_workspace\": [\n      {\"path\": \"...\", \"title\": \"...\", \"created_at\": \"...\", \"relevance\": 0.9}\n    ],\n    \"same_day\": [...],\n    \"same_agent\": [...],\n    \"similar_content\": [...]  // If semantic search available\n  }\n}\n```\n\n## Design Decisions\n\n### Relation Types\n1. **same_workspace**: Sessions in same workspace directory\n2. **same_day**: Sessions within 24 hours\n3. **same_agent**: Sessions from same agent type\n4. **similar_content**: Content-based similarity (future)\n\n### Limits\nReturn top 5 per relation type by default. Configurable with `--limit`.\n\n### Input Flexibility\nAccept:\n- Full path to session file\n- Session ID from search results\n- Line number reference (source_path:line)\n\n## Acceptance Criteria\n- [ ] `cass context \u003cpath\u003e` finds related sessions\n- [ ] Returns same_workspace, same_day, same_agent relations\n- [ ] Relevance scores for ranking\n- [ ] Configurable limits per relation type\n- [ ] JSON output for automation\n\n## Effort Estimate\nMedium - 3-4 hours. Requires relational queries across session metadata.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-30T23:54:08.438234185Z","updated_at":"2025-11-30T23:54:08.438234185Z"}
{"id":"coding_agent_session_search-rob.flow.cursor","title":"Cursor-Based Pagination","description":"# Cursor-Based Pagination\n\n## Problem Statement\nOffset-based pagination (`--offset N`) has issues:\n- Results can shift if index changes between pages\n- Hard to track position reliably\n- Inefficient for large offsets\n\n## Proposed Solution\nAdd cursor-based pagination:\n```bash\ncass search \"error\" --json --limit 10\n# Returns: {\"next_cursor\": \"abc123\", \"hits\": [...]}\n\ncass search \"error\" --json --limit 10 --cursor \"abc123\"\n# Returns next page\n```\n\n## Design Decisions\n\n### Cursor Encoding\nCursor contains:\n- Query hash (to validate same query)\n- Last seen sort key (score + id)\n- Expiration timestamp\n\nEncoded as base64 for URL safety.\n\n### Cursor Expiration\nCursors expire after 1 hour to prevent stale state issues.\n\n### Fallback\nIf cursor is invalid/expired, return error with hint to restart.\n\n## Acceptance Criteria\n- [ ] `--cursor` parameter for continuing pagination\n- [ ] `next_cursor` in response when more results available\n- [ ] Cursor validates query hasn't changed\n- [ ] Expired cursors return clear error\n- [ ] Works with all output formats\n\n## Effort Estimate\nMedium - 3-4 hours. Requires cursor encoding and validation logic.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-30T23:54:08.438234185Z","updated_at":"2025-11-30T23:54:08.438234185Z"}
{"id":"coding_agent_session_search-rob.flow.reqid","title":"Request ID Correlation (--request-id)","description":"# Request ID Correlation (--request-id)\n\n## Problem Statement\nAgents run multi-step workflows:\n1. Search for errors\n2. Analyze top result\n3. Search for related fixes\n4. Compile summary\n\nTracking which response corresponds to which request is error-prone.\n\n## Proposed Solution\nAdd `--request-id` flag for correlation:\n```bash\ncass search \"error\" --json --request-id \"step-1-find-errors\"\n```\n\nOutput:\n```json\n{\n  \"request_id\": \"step-1-find-errors\",\n  \"count\": 10,\n  \"hits\": [...]\n}\n```\n\n## Design Decisions\n\n### ID Format\nAccept any string. Agent's responsibility to ensure uniqueness.\n\n### Trace Integration\nIf `--trace-file` is used, include request_id in trace entries for audit correlation.\n\n### No Server State\nRequest ID is purely for response labeling. No server-side tracking.\n\n## Acceptance Criteria\n- [ ] `--request-id \"foo\"` includes `request_id: \"foo\"` in response\n- [ ] Works with all output formats\n- [ ] Included in trace file entries\n- [ ] No validation on ID format (any string)\n\n## Effort Estimate\nTrivial - 30 minutes. Pass-through from CLI arg to response.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-30T23:54:08.438234185Z","updated_at":"2025-11-30T23:54:08.438234185Z"}
{"id":"coding_agent_session_search-rob.query","title":"Query Intelligence: Understanding and Improving Queries","description":"# Query Intelligence\n\n## The Problem\nAgents often struggle with queries:\n1. **Why did this return 0 results?** - Was the query malformed? Too specific?\n2. **How was my query interpreted?** - Did it understand my intent?\n3. **What would work better?** - Suggestions for improvement\n\n## The Solution\nMake the query engine transparent and helpful:\n- Explain how queries are parsed and executed\n- Suggest alternatives when queries fail\n- Allow dry-run validation\n\n## Subtasks\n1. **rob.query.explain** - Query explanation (--explain)\n2. **rob.query.suggest** - Suggestions and did-you-mean\n3. **rob.query.dry** - Dry-run mode (--dry-run)\n\n## Value for Agents\n- Self-correction: Agents can fix their own queries\n- Learning: Understand query syntax through examples\n- Confidence: Know when a query is reliable","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-30T23:54:08.420280752Z","updated_at":"2025-11-30T23:54:08.420280752Z"}
{"id":"coding_agent_session_search-rob.query.dry","title":"Dry-Run Mode (--dry-run)","description":"# Dry-Run Mode (--dry-run)\n\n## Problem Statement\nAgents want to validate queries without executing them:\n- Is the syntax valid?\n- How will it be interpreted?\n- What would the cost be?\n\nCurrently, the only way to check is to run the query and examine results.\n\n## Proposed Solution\nAdd `--dry-run` flag that validates and analyzes without executing:\n```bash\ncass search \"complex query\" --dry-run --json\n```\n\nOutput:\n```json\n{\n  \"dry_run\": true,\n  \"valid\": true,\n  \"explanation\": {...},\n  \"estimated_results\": \"10-100\",\n  \"estimated_cost_ms\": \"\u003c50\",\n  \"warnings\": []\n}\n```\n\n## Design Decisions\n\n### What Dry-Run Does\n1. Parse the query (full validation)\n2. Analyze filters and constraints\n3. Estimate result count (if possible)\n4. Estimate execution time\n5. Return without actually searching\n\n### What Dry-Run Does NOT Do\n- Access the search index\n- Return actual results\n- Modify any state\n\n### Estimation Accuracy\nResult count estimation could use:\n- Index statistics (total documents, term frequencies)\n- Historical query patterns\n- Simple heuristics\n\nDon't over-engineer; rough estimates are valuable.\n\n## Acceptance Criteria\n- [ ] `--dry-run` returns without executing search\n- [ ] Invalid queries return `valid: false` with error details\n- [ ] Valid queries include explanation\n- [ ] Response time is \u003c10ms (no index access)\n- [ ] Works with all query types\n\n## Effort Estimate\nLow-Medium - 2-3 hours. Query parsing is already done; this skips execution.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-30T23:54:08.438234185Z","updated_at":"2025-11-30T23:54:08.438234185Z"}
{"id":"coding_agent_session_search-rob.query.explain","title":"Query Explanation (--explain flag)","description":"# Query Explanation (--explain flag)\n\n## Problem Statement\nAgents construct queries but have no visibility into how they're interpreted:\n- Is `error AND workspace:/myproject` parsed correctly?\n- Was wildcard fallback triggered?\n- Which index was used?\n\n## Proposed Solution\nAdd `--explain` flag that includes query analysis in output:\n```bash\ncass search \"error AND workspace:/project\" --json --explain\n```\n\nOutput:\n```json\n{\n  \"explanation\": {\n    \"original_query\": \"error AND workspace:/project\",\n    \"parsed\": {\n      \"terms\": [\"error\"],\n      \"operators\": [\"AND\"],\n      \"filters\": {\n        \"workspace\": \"/project\"\n      }\n    },\n    \"query_type\": \"boolean_with_filter\",\n    \"index_strategy\": \"tantivy_fts_then_sqlite_filter\",\n    \"wildcard_applied\": false,\n    \"estimated_cost\": \"low\",\n    \"warnings\": []\n  },\n  \"count\": 15,\n  \"hits\": [...]\n}\n```\n\n## Design Decisions\n\n### Explanation Fields\n- `original_query`: Exact input string\n- `parsed`: Structured breakdown of query components\n- `query_type`: Classification (simple, phrase, boolean, wildcard, filter)\n- `index_strategy`: How the query will be executed\n- `wildcard_applied`: Whether fallback wildcard was added\n- `estimated_cost`: Rough complexity indicator\n- `warnings`: Any issues or suggestions\n\n### Performance\n`--explain` should add minimal overhead. Query parsing is already done; this just exposes it.\n\n## Implementation Location\nQuery parsing logic is in `src/search/query.rs`. The explanation should be built during parsing and optionally included in output.\n\n## Acceptance Criteria\n- [ ] `--explain` adds explanation object to JSON output\n- [ ] Explanation accurately reflects query parsing\n- [ ] Works with all query types (simple, boolean, filter)\n- [ ] Wildcard fallback is clearly indicated\n- [ ] Warnings surfaced (e.g., unrecognized filter syntax)\n- [ ] Works with all output formats (json, jsonl, compact)\n\n## Effort Estimate\nMedium - 3-4 hours. Requires exposing internal query parsing state.","status":"closed","priority":2,"issue_type":"task","assignee":"PurpleHill","created_at":"2025-11-30T23:54:08.438234185Z","updated_at":"2025-12-01T22:29:13.071946-05:00","closed_at":"2025-12-01T22:29:13.071948-05:00"}
{"id":"coding_agent_session_search-rob.query.suggest","title":"Query Suggestions (did-you-mean)","description":"# Query Suggestions (did-you-mean)\n\n## Problem Statement\nWhen a search returns 0 results, agents have no guidance on what to try next:\n- Was it a typo? (\"git comit\" → \"git commit\")\n- Too specific? (suggest removing terms)\n- Wrong field? (content vs title)\n\n## Proposed Solution\nAdd suggestions to empty/sparse result sets:\n```bash\ncass search \"git comit\" --json\n```\n\nOutput:\n```json\n{\n  \"count\": 0,\n  \"hits\": [],\n  \"suggestions\": {\n    \"did_you_mean\": [\"git commit\", \"git comment\"],\n    \"similar_terms\": [\"commit\", \"git\"],\n    \"try_broader\": [\"git\"],\n    \"popular_queries\": [\"git push\", \"git merge\"]\n  }\n}\n```\n\n## Design Decisions\n\n### When to Suggest\n- Always when count=0\n- Optionally when count \u003c threshold (sparse results)\n- Can be disabled with `--no-suggestions` for performance\n\n### Suggestion Types\n1. **did_you_mean**: Levenshtein-based typo corrections\n2. **similar_terms**: Terms that appear in the index that are similar\n3. **try_broader**: Subsets of the query to try\n4. **popular_queries**: Common queries in similar domains (optional)\n\n### Implementation Complexity\nRequires:\n- Index term enumeration (for did_you_mean)\n- Edit distance calculation\n- Query history tracking (for popular_queries, optional)\n\n## Acceptance Criteria\n- [ ] Zero-result searches include `suggestions` object\n- [ ] `did_you_mean` provides typo corrections\n- [ ] `similar_terms` finds related indexed terms\n- [ ] `try_broader` suggests query simplifications\n- [ ] `--no-suggestions` disables for performance\n- [ ] Suggestions are ranked by relevance\n\n## Effort Estimate\nMedium-High - 4-6 hours. Requires index term access and string similarity logic.\n\n## Future Enhancement\nCould integrate with LLM for semantic suggestions, but that's a separate feature.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-30T23:54:08.438234185Z","updated_at":"2025-12-01T20:00:37.431959311Z","closed_at":"2025-12-01T20:00:37.431959311Z"}
{"id":"coding_agent_session_search-rob.safe","title":"Reliability \u0026 Safety: Robust Operation","description":"# Reliability \u0026 Safety\n\n## The Problem\nAgents need to handle failures gracefully:\n- Should I retry this error?\n- Will retrying cause duplicate work?\n- How long should I wait?\n\nCurrent error handling provides basic information but lacks recovery guidance.\n\n## The Solution\nEnhance error handling with:\n1. Idempotency support for safe retries\n2. Retry hints in error responses\n3. Timeout configuration\n\n## Subtasks\n1. **rob.safe.idemp** - Idempotency keys\n2. **rob.safe.retry** - Retry hints in errors\n3. **rob.safe.timeout** - Timeout configuration\n\n## Value for Agents\n- Resilience: Automatic recovery from transient failures\n- Safety: No duplicate work from retries\n- Predictability: Clear timeout behavior","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-30T23:54:08.420280752Z","updated_at":"2025-11-30T23:54:08.420280752Z"}
{"id":"coding_agent_session_search-rob.safe.idemp","title":"Idempotency Keys","description":"# Idempotency Keys\n\n## Problem Statement\nFor long-running operations like indexing, agents may need to retry after failures. But retrying could cause duplicate work or inconsistent state.\n\n## Proposed Solution\nAdd `--idempotency-key` flag for safe retries:\n```bash\ncass index --full --idempotency-key \"idx-2025-01-30-001\" --json\n```\n\nBehavior:\n1. First call: Execute operation, store result with key\n2. Subsequent calls with same key: Return cached result\n3. Key expiration: 24 hours\n\nOutput:\n```json\n{\n  \"idempotency_key\": \"idx-2025-01-30-001\",\n  \"cached\": true,\n  \"original_timestamp\": \"2025-01-30T10:00:00Z\",\n  \"result\": {...}\n}\n```\n\n## Design Decisions\n\n### Scope\nOnly for mutating operations:\n- `cass index` - Indexing operations\n- NOT for reads (search, stats, view)\n\n### Storage\nStore idempotency keys in SQLite meta table:\n```sql\nCREATE TABLE idempotency_keys (\n  key TEXT PRIMARY KEY,\n  result_json TEXT,\n  created_at INTEGER,\n  expires_at INTEGER\n);\n```\n\n### Collision Handling\nIf same key used with different parameters, return error (not cached result).\n\n## Acceptance Criteria\n- [ ] `--idempotency-key` parameter for index command\n- [ ] Repeated calls return cached result\n- [ ] `cached: true` indicates cached response\n- [ ] Keys expire after 24 hours\n- [ ] Parameter mismatch returns error\n\n## Effort Estimate\nMedium - 2-3 hours. Requires key storage and result caching.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-30T23:54:08.438234185Z","updated_at":"2025-11-30T23:54:08.438234185Z"}
{"id":"coding_agent_session_search-rob.safe.retry","title":"Retry Hints in Errors","description":"# Retry Hints in Errors\n\n## Problem Statement\nCurrent error format includes `retryable: bool` but lacks guidance:\n- How long to wait before retry?\n- How many retries are reasonable?\n- What should change between retries?\n\n## Proposed Solution\nEnhance error response with retry guidance:\n```json\n{\n  \"error\": {\n    \"code\": 7,\n    \"kind\": \"lock-busy\",\n    \"message\": \"Database locked by another process\",\n    \"retryable\": true,\n    \"retry_after_ms\": 1000,\n    \"max_retries\": 3,\n    \"retry_hint\": \"Wait for other process to complete\"\n  }\n}\n```\n\n## New Fields\n\n### retry_after_ms\nSuggested delay before retry in milliseconds.\n- Lock errors: 1000ms\n- Rate limits: 5000ms\n- Transient failures: 500ms\n\n### max_retries\nRecommended maximum retry attempts.\n- Lock errors: 3\n- Network errors: 5\n- Permanent errors: 0 (not retryable)\n\n### retry_hint\nHuman/agent-readable suggestion for recovery.\n\n## Acceptance Criteria\n- [ ] `retry_after_ms` in retryable errors\n- [ ] `max_retries` recommendation\n- [ ] `retry_hint` with actionable guidance\n- [ ] Values appropriate per error type\n- [ ] Update robot-docs error schema\n\n## Effort Estimate\nLow - 1-2 hours. Enhance existing error construction.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-30T23:54:08.438234185Z","updated_at":"2025-11-30T23:54:08.438234185Z"}
{"id":"coding_agent_session_search-rob.safe.timeout","title":"Timeout Configuration","description":"# Timeout Configuration\n\n## Problem Statement\nAgents need predictable timing:\n- How long will this command take?\n- Can I set a maximum wait time?\n- What happens on timeout?\n\n## Proposed Solution\nAdd `--timeout` flag for time-bounded operations:\n```bash\ncass search \"query\" --json --timeout 5000  # 5 second timeout\n```\n\nOn timeout:\n```json\n{\n  \"error\": {\n    \"code\": 10,\n    \"kind\": \"timeout\",\n    \"message\": \"Operation timed out after 5000ms\",\n    \"retryable\": true,\n    \"partial_results\": true\n  },\n  \"hits\": [...]  // Partial results if available\n}\n```\n\n## Design Decisions\n\n### Timeout Scope\n- Search: Query execution time\n- Index: Per-session processing time\n- View: File read time\n\n### Partial Results\nWhere possible, return partial results gathered before timeout.\n\n### Default\nNo default timeout (backward compatible). Agents opt-in.\n\n## Acceptance Criteria\n- [ ] `--timeout N` parameter in milliseconds\n- [ ] Timeout error with code 10\n- [ ] Partial results when available\n- [ ] Works for search, index, view commands\n\n## Effort Estimate\nMedium - 2-3 hours. Requires async timeout handling.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-30T23:54:08.438234185Z","updated_at":"2025-11-30T23:54:08.438234185Z"}
{"id":"coding_agent_session_search-rob.state","title":"State Awareness: Knowing System Status","description":"# State Awareness\n\n## The Problem\nAgents operate blind:\n- Is the index up-to-date or stale?\n- When was the last indexing run?\n- Are there pending sessions to index?\n- Is the cache warm?\n\nWithout this information, agents might:\n- Search stale data and miss recent conversations\n- Unnecessarily re-index when not needed\n- Not know when to retry operations\n\n## The Solution\nExpose system state through:\n1. Dedicated status command\n2. Freshness metadata in search responses\n3. Health check endpoint for quick validation\n\n## Subtasks\n1. **rob.state.status** - Status command\n2. **rob.state.meta** - Index freshness in robot-meta\n3. **rob.state.health** - Health check endpoint\n\n## Value for Agents\n- Confidence: Know when to trust search results\n- Efficiency: Only index when needed\n- Debugging: Understand why results might be incomplete","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-30T23:54:08.420280752Z","updated_at":"2025-11-30T23:54:08.420280752Z"}
{"id":"coding_agent_session_search-rob.state.health","title":"Health Check Endpoint","description":"# Health Check Endpoint\n\n## Problem Statement\nAgents need a minimal health check to verify cass is working before running complex operations. Current `cass diag` is too heavy for frequent checks.\n\n## Proposed Solution\nAdd minimal health check (or use status with fast path):\n```bash\ncass health\n# Exit 0 = healthy, Exit 1 = unhealthy\n\ncass health --json\n{\"healthy\": true, \"latency_ms\": 5}\n```\n\n## Design Decisions\n\n### What Health Checks\n1. Database file exists and is readable\n2. Index directory exists\n3. Can execute a minimal query\n\n### Performance Target\n\u003c50ms for full health check.\n\n### Exit Codes\n- 0: Healthy\n- 1: Unhealthy (with error details in JSON)\n\n## Alternative: Use Status\nCould fold this into `cass status --quick` instead of separate command.\n\n## Acceptance Criteria\n- [ ] `cass health` completes in \u003c50ms\n- [ ] Exit code reflects health state\n- [ ] `--json` provides machine-readable output\n- [ ] Clear error message when unhealthy\n\n## Effort Estimate\nLow - 1-2 hours. Simple checks with early exit on failure.","status":"in_progress","priority":3,"issue_type":"task","assignee":"PurpleHill","created_at":"2025-11-30T23:54:08.438234185Z","updated_at":"2025-12-01T22:48:28.290147-05:00"}
{"id":"coding_agent_session_search-rob.state.meta","title":"Index Freshness in Robot Meta","description":"# Index Freshness in Robot Meta\n\n## Problem Statement\nWhen searching, agents don't know if results might be incomplete due to stale index. They need this context to decide whether to re-index before trusting results.\n\n## Proposed Solution\nExtend `--robot-meta` to include freshness information:\n```bash\ncass search \"error\" --json --robot-meta\n```\n\nOutput:\n```json\n{\n  \"_meta\": {\n    \"elapsed_ms\": 45,\n    \"cache_stats\": {...},\n    \"wildcard_fallback\": false,\n    \"index_freshness\": {\n      \"last_indexed_at\": \"2025-01-15T10:00:00Z\",\n      \"age_seconds\": 3600,\n      \"stale\": true,\n      \"pending_sessions\": 5\n    }\n  },\n  \"hits\": [...]\n}\n```\n\n## Design Decisions\n\n### When to Include\nOnly when `--robot-meta` is specified (opt-in to avoid bloat).\n\n### Staleness Warning\nIf index is stale, consider adding to top-level:\n```json\n{\"_warning\": \"Index is 1 hour old; 5 sessions pending. Run 'cass index' for fresh results.\"}\n```\n\n### Performance\nFreshness check should add \u003c5ms:\n- Read last_indexed_at from meta table (already connected)\n- Read watch_state.json (fast file read)\n\n## Acceptance Criteria\n- [ ] `--robot-meta` includes `index_freshness` object\n- [ ] `stale` boolean accurately reflects state\n- [ ] `pending_sessions` count is accurate\n- [ ] Minimal performance impact (\u003c5ms)\n\n## Effort Estimate\nLow - 1-2 hours. Builds on existing robot-meta infrastructure.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T23:54:08.438234185Z","updated_at":"2025-12-01T21:30:39.350423-05:00","closed_at":"2025-12-01T21:30:39.350423-05:00","close_reason":"Closed"}
{"id":"coding_agent_session_search-rob.state.status","title":"Status Command (cass status)","description":"# Status Command (cass status)\n\n## Problem Statement\nAgents need a quick way to check system health before running searches:\n- Is the index fresh?\n- How many sessions are indexed?\n- Are there pending updates?\n\nCurrently requires running `cass diag` which is verbose and slow.\n\n## Proposed Solution\nAdd lightweight `cass status` command:\n```bash\ncass status --json\n```\n\nOutput:\n```json\n{\n  \"healthy\": true,\n  \"index\": {\n    \"fresh\": false,\n    \"last_indexed_at\": \"2025-01-15T10:00:00Z\",\n    \"age_seconds\": 3600,\n    \"stale\": true,\n    \"stale_threshold_seconds\": 1800\n  },\n  \"database\": {\n    \"conversations\": 150,\n    \"messages\": 4500\n  },\n  \"pending\": {\n    \"new_sessions\": 5,\n    \"modified_sessions\": 2,\n    \"connectors_with_updates\": [\"claude\", \"codex\"]\n  },\n  \"cache\": {\n    \"entries\": 47,\n    \"hit_rate\": 0.85\n  },\n  \"recommended_action\": \"run 'cass index' to update 7 sessions\"\n}\n```\n\n## Design Decisions\n\n### Staleness Definition\nIndex is \"stale\" if:\n- `last_indexed_at` is older than threshold (default 30 minutes)\n- There are pending sessions detected via watch_state\n\n### Performance\nStatus should be FAST (\u003c100ms):\n- Read watch_state.json for pending detection\n- Read meta table for last_indexed_at\n- Read cache stats from memory\n- NO index scanning\n\n### Recommended Action\nInclude human/agent-readable suggestion based on state.\n\n## Acceptance Criteria\n- [ ] `cass status --json` returns health summary\n- [ ] Response time \u003c100ms\n- [ ] `fresh` accurately reflects index state\n- [ ] `pending` shows sessions awaiting indexing\n- [ ] `recommended_action` provides actionable guidance\n- [ ] Works without --json for human-readable output\n\n## Effort Estimate\nMedium - 3-4 hours. Requires aggregating state from multiple sources.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-30T23:54:08.438234185Z","updated_at":"2025-12-01T02:06:28.46908759Z","closed_at":"2025-12-01T02:06:28.46908759Z"}
{"id":"coding_agent_session_search-rvg","title":"bd-unit-tui-components","description":"Snapshot tests for search bar tips, filter pills clear keys, detail tabs presence","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-23T17:35:22.77483866Z","updated_at":"2025-11-23T20:05:49.970044939Z","closed_at":"2025-11-23T20:05:49.970044939Z","dependencies":[{"issue_id":"coding_agent_session_search-rvg","depends_on_id":"coding_agent_session_search-vbf","type":"blocks","created_at":"2025-11-23T17:35:22.776362662Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-sux","title":"Search UX Overhaul Epic","description":"Comprehensive improvements to search flow: indexing status clarity, query history debouncing, wildcard support, implicit wildcards, smarter ranking, and enhanced result display with more context, highlighting, alternating stripes, toggleable borders, and better detail pane.","notes":"This epic addresses six major areas:\n\n1. **Indexing Status Clarity** - Users need to know when search is degraded during initial/background indexing\n2. **Query History Debouncing** - Currently saves 'f','fo','foo' etc separately; need to only save final queries\n3. **Wildcard Support** - Full asterisk wildcard support (*foo, foo*, *foo*)\n4. **Implicit Wildcards** - Auto-add wildcards when results are sparse\n5. **Smarter Ranking** - Recency + match quality (exact \u003e suffix wildcard \u003e prefix wildcard \u003e both)\n6. **Enhanced Display** - 6-8 lines context, bold highlighted matches, alternating stripes, unicode borders, better detail pane\n\nContext from codebase analysis:\n- tui.rs:3382-3389 saves query history after EVERY debounced search (60ms), not after user stops typing\n- query.rs sanitize_query() currently strips non-alphanumeric chars including asterisks\n- Ranking in tui.rs:3321-3338 uses Tantivy score + recency boost but no match quality factor\n- Current result display is 2 lines per item (header + location/snippet)\n- Indexing progress shown in footer but doesn't clearly indicate search degradation","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-30T05:23:22.948668088Z","closed_at":"2025-11-30T05:23:22.948668088Z"}
{"id":"coding_agent_session_search-sux.1","title":"A1: Indexing Status Clarity","description":"Epic for making indexing status more visible and informative to users during initial or background indexing.","notes":"**Problem**: During initial indexing or rebuilds, search results may be incomplete or empty. Users need clear indication that:\n1. Indexing is in progress\n2. Search results may be degraded until complete\n3. Estimated time/progress to completion\n\n**Current State** (tui.rs:1608-1632):\n- Footer shows 'Scanning X/Y (Z%)' or 'Indexing X/Y (Z%)'\n- '[REBUILDING INDEX - Search unavailable]' shown during full rebuilds\n- '[Updating]' shown during incremental updates\n\n**Improvements Needed**:\n- More prominent visual indicator (not just footer text)\n- Clearer messaging about search impact\n- Progress bar or spinner in results area when empty due to indexing\n- Consider showing partial results with warning banner","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-29T06:44:55.515976403Z","closed_at":"2025-11-29T06:44:55.515976403Z"}
{"id":"coding_agent_session_search-sux.1.1","title":"A1.1: Indexing status banner in results area","description":"Display a prominent banner in the results area when indexing is in progress, with progress bar and estimated completion.","notes":"**Implementation**:\n1. In tui.rs render loop (around line 1706-1742), when panes.is_empty() AND progress.phase != 0:\n   - Show dedicated indexing banner instead of 'No results'\n   - Include spinner animation (reuse SPINNER_CHARS)\n   - Show progress bar using indicatif-style blocks\n   - Display phase name ('Scanning sources...' / 'Building index...')\n   - Add helpful text: 'Search will be available once indexing completes'\n\n2. When panes are NOT empty but indexing is in progress:\n   - Add subtle banner at top of results: '⚠ Indexing in progress - results may be incomplete'\n   - Use warning color from palette (amber/yellow)\n\n**Files to modify**:\n- src/ui/tui.rs: render logic for results area\n- src/ui/components/widgets.rs: optional new widget for progress banner\n\n**Testing**:\n- Verify banner appears during cass index --full\n- Verify banner clears when indexing completes\n- Test with TUI_HEADLESS=1 for snapshot","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-29T06:44:55.546609405Z","closed_at":"2025-11-29T06:44:55.546609405Z"}
{"id":"coding_agent_session_search-sux.1.2","title":"A1.2: Footer indexing indicator enhancement","description":"Enhance footer to show more descriptive indexing status with phase-specific icons and clearer messaging.","notes":"**Current** (tui.rs:1608-1632):\n```rust\nlet phase_str = if phase == 1 { \"Scanning\" } else { \"Indexing\" };\ns.push_str(\" [REBUILDING INDEX - Search unavailable]\");\n```\n\n**Improvements**:\n1. Add phase-specific icons: 🔍 Scanning | 📦 Indexing | ✓ Ready\n2. Show ETA if possible (based on rate of current/total change)\n3. Clearer impact messaging:\n   - Phase 1 (Scanning): '🔍 Discovering sessions...' \n   - Phase 2 (Indexing): '📦 Building search index...'\n   - Rebuilding: '⚠ Full rebuild - search unavailable'\n4. Flash or pulse the indicator to draw attention\n\n**Files to modify**:\n- src/ui/tui.rs: render_progress closure (line 1608)\n\n**Testing**:\n- Verify correct icons per phase\n- Test transitions between phases","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-29T06:44:55.575704692Z","closed_at":"2025-11-29T06:44:55.575704692Z"}
{"id":"coding_agent_session_search-sux.1.3","title":"A1.3: Partial results with degraded warning","description":"When indexing is in progress but some results exist, show them with a visible warning that results may be incomplete.","notes":"**Rationale**: During incremental updates or early in initial indexing, there may be partial results. Better to show these than nothing.\n\n**Implementation**:\n1. In tui.rs when building panes, check if progress.phase != 0\n2. If true and panes not empty, add degraded indicator:\n   - Yellow/amber tint on results block border\n   - Small banner: '⚠ Indexing in progress - showing partial results'\n3. Consider showing count: 'Found X results (indexing Y% complete)'\n\n**Files to modify**:\n- src/ui/tui.rs: results pane rendering\n\n**Dependency**: Should implement after A1.1 and A1.2 for consistent styling","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-29T06:44:55.598583317Z","closed_at":"2025-11-29T06:44:55.598583317Z","dependencies":[{"issue_id":"coding_agent_session_search-sux.1.3","depends_on_id":"coding_agent_session_search-sux.1.1","type":"blocks","created_at":"2025-11-28T22:00:00Z","created_by":"agent"},{"issue_id":"coding_agent_session_search-sux.1.3","depends_on_id":"coding_agent_session_search-sux.1.2","type":"blocks","created_at":"2025-11-28T22:00:00Z","created_by":"agent"}]}
{"id":"coding_agent_session_search-sux.2","title":"A2: Query History Debouncing","description":"Epic for fixing query history to only save final queries, not every intermediate keystroke.","notes":"**Problem** (tui.rs:3382-3389):\nCurrently after EVERY debounced search (60ms debounce at line 3294-3296), the query is saved to history:\n```rust\nif !query.trim().is_empty()\n    \u0026\u0026 query_history.front().map(|q| q != \u0026query).unwrap_or(true)\n{\n    query_history.push_front(query.clone());\n}\n```\n\nSo typing 'foobar' saves: 'f', 'fo', 'foo', 'foob', 'fooba', 'foobar' - 6 entries for one search!\n\n**Root Cause**:\n- Search debounce (60ms) is for responsive live search\n- History save happens after each search, not after user 'commits' query\n\n**Solution Options**:\n1. **Separate history debounce**: Save to history only after longer pause (e.g., 2-3 seconds)\n2. **Commit on Enter**: Only save when user presses Enter or navigates results\n3. **Consolidation on save**: Dedupe history on exit by removing prefixes\n4. **Hybrid**: Debounce + commit tracking\n\n**Recommended**: Option 2 (commit on explicit action) - clearest user intent","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-29T06:44:58.663870139Z","closed_at":"2025-11-29T06:44:58.663870139Z"}
{"id":"coding_agent_session_search-sux.2.1","title":"A2.1: Remove auto-save from search execution","description":"Stop saving queries to history after every debounced search execution.","notes":"**Current Code** (tui.rs:3382-3389):\n```rust\nif !query.trim().is_empty()\n    \u0026\u0026 query_history.front().map(|q| q != \u0026query).unwrap_or(true)\n{\n    query_history.push_front(query.clone());\n    if query_history.len() \u003e history_cap {\n        query_history.pop_back();\n    }\n}\n```\n\n**Change**: Remove this block entirely from the search execution path.\n\n**Files to modify**:\n- src/ui/tui.rs: lines ~3382-3389\n\n**Testing**:\n- Type query, verify history NOT populated until explicit action\n- Ctrl+R should show no new entries until commit","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-29T06:44:58.669428694Z","closed_at":"2025-11-29T06:44:58.669428694Z"}
{"id":"coding_agent_session_search-sux.2.2","title":"A2.2: Save history on explicit commit actions","description":"Save query to history when user performs explicit commit actions: Enter to view, result selection, or focus change.","notes":"**Commit Actions**:\n1. **Enter key** on result → save current query\n2. **Navigation to result** (selecting first result after typing) → save query\n3. **Focus change** to detail pane → save query\n4. **External action** (F8 editor, y copy) → save query\n5. **Search refresh** (Ctrl+Shift+R) → save query\n\n**Implementation**:\nCreate helper function `save_query_to_history(query, history, cap)` and call at commit points.\n\n```rust\nfn save_query_to_history(query: \u0026str, history: \u0026mut VecDeque\u003cString\u003e, cap: usize) {\n    let q = query.trim();\n    if !q.is_empty() \u0026\u0026 history.front().map(|h| h != q).unwrap_or(true) {\n        history.push_front(q.to_string());\n        if history.len() \u003e cap {\n            history.pop_back();\n        }\n    }\n}\n```\n\n**Files to modify**:\n- src/ui/tui.rs: Add helper, call at Enter/navigation/action points\n\n**Testing**:\n- Type 'foobar', press Enter → only 'foobar' in history (not f/fo/foo/etc)\n- Type query, arrow down to select → query saved\n- Type query, Tab to detail → query saved","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-29T06:44:58.672393023Z","closed_at":"2025-11-29T06:44:58.672393023Z","dependencies":[{"issue_id":"coding_agent_session_search-sux.2.2","depends_on_id":"coding_agent_session_search-sux.2.1","type":"blocks","created_at":"2025-11-28T22:00:00Z","created_by":"agent"}]}
{"id":"coding_agent_session_search-sux.2.3","title":"A2.3: History deduplication on save","description":"When persisting history to tui_state.json, deduplicate by removing queries that are strict prefixes of later queries.","notes":"**Additional Safety Net**:\nEven with commit-based saving, edge cases might save prefixes. Dedupe on persist.\n\n**Algorithm**:\n```rust\nfn dedupe_history(history: Vec\u003cString\u003e) -\u003e Vec\u003cString\u003e {\n    let mut result = Vec::new();\n    for q in history {\n        // Skip if this is a prefix of any existing entry\n        let dominated = result.iter().any(|existing| existing.starts_with(\u0026q) \u0026\u0026 existing != \u0026q);\n        if !dominated {\n            // Also remove any existing entries that are prefixes of this\n            result.retain(|existing| !q.starts_with(existing) || q == *existing);\n            result.push(q);\n        }\n    }\n    result\n}\n```\n\n**Apply at** (tui.rs ~3419-3428):\n```rust\nquery_history: Some(dedupe_history(query_history.iter().cloned().collect())),\n```\n\n**Files to modify**:\n- src/ui/tui.rs: add dedupe_history function, apply in save_state\n\n**Testing**:\n- Manually add prefixes to history, verify deduped on next save","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-29T06:44:58.67719417Z","closed_at":"2025-11-29T06:44:58.67719417Z","dependencies":[{"issue_id":"coding_agent_session_search-sux.2.3","depends_on_id":"coding_agent_session_search-sux.2.2","type":"blocks","created_at":"2025-11-28T22:00:00Z","created_by":"agent"}]}
{"id":"coding_agent_session_search-sux.3","title":"A3: Full Wildcard Support","description":"Epic for implementing full asterisk (*) wildcard support in search queries.","notes":"**Goal**: Support wildcards:\n- `*foo` - prefix wildcard (find 'barfoo', 'bazfoo')\n- `foo*` - suffix wildcard (find 'foobar', 'foobaz') - partially exists via prefix match mode\n- `*foo*` - both (find anything containing 'foo')\n- Explicit asterisks should override implicit behavior\n\n**Current State**:\n- Prefix match mode (F9) appends `*` to terms automatically (tui.rs:1148-1163)\n- query.rs sanitize_query() likely strips `*` as non-alphanumeric\n- Tantivy supports wildcards but may need WildcardQuery\n\n**Implementation Approach**:\n1. Preserve `*` in sanitize_query()\n2. Parse wildcards before Tantivy query construction\n3. Use appropriate Tantivy query types (WildcardQuery, PhraseQuery)\n4. Track which terms used wildcards for ranking purposes","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-29T06:45:01.335630954Z","closed_at":"2025-11-29T06:45:01.335630954Z"}
{"id":"coding_agent_session_search-sux.3.1","title":"A3.1: Preserve asterisks in query sanitization","description":"Modify query sanitization to preserve asterisk characters as wildcard markers.","notes":"**Current** (query.rs sanitize_query - need to locate exact implementation):\nLikely strips all non-alphanumeric characters.\n\n**Change**:\n- Preserve `*` character\n- Normalize multiple asterisks: `***foo` → `*foo`\n- Trim leading/trailing whitespace around asterisks\n\n**Implementation**:\n```rust\nfn sanitize_query(q: \u0026str) -\u003e String {\n    let mut result = String::with_capacity(q.len());\n    let mut last_was_asterisk = false;\n    for c in q.chars() {\n        if c == '*' {\n            if !last_was_asterisk {\n                result.push('*');\n            }\n            last_was_asterisk = true;\n        } else if c.is_alphanumeric() || c.is_whitespace() {\n            result.push(c);\n            last_was_asterisk = false;\n        } else {\n            result.push(' ');\n            last_was_asterisk = false;\n        }\n    }\n    result.split_whitespace().collect::\u003cVec\u003c_\u003e\u003e().join(\" \")\n}\n```\n\n**Files to modify**:\n- src/search/query.rs: sanitize_query function\n\n**Testing**:\n- `*foo` preserved\n- `foo*bar` preserved\n- `***foo` → `*foo`","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-29T06:45:01.340742497Z","closed_at":"2025-11-29T06:45:01.340742497Z"}
{"id":"coding_agent_session_search-sux.3.2","title":"A3.2: Parse wildcard patterns from query terms","description":"Create term parser that identifies wildcard patterns and returns structured term info for query building.","notes":"**Pattern Types**:\n```rust\nenum WildcardPattern {\n    Exact(String),           // no wildcards\n    Prefix(String),          // foo* - ends with asterisk\n    Suffix(String),          // *foo - starts with asterisk  \n    Contains(String),        // *foo* - both ends\n    Infix(String, String),   // foo*bar - asterisk in middle\n}\n\nfn parse_term_pattern(term: \u0026str) -\u003e WildcardPattern {\n    let starts = term.starts_with('*');\n    let ends = term.ends_with('*');\n    let core = term.trim_matches('*');\n    \n    match (starts, ends) {\n        (false, false) =\u003e WildcardPattern::Exact(core.to_string()),\n        (false, true) =\u003e WildcardPattern::Prefix(core.to_string()),\n        (true, false) =\u003e WildcardPattern::Suffix(core.to_string()),\n        (true, true) =\u003e WildcardPattern::Contains(core.to_string()),\n    }\n}\n```\n\n**Files to modify**:\n- src/search/query.rs: add WildcardPattern enum and parser\n\n**Testing**:\n- Unit tests for each pattern type\n- Edge cases: `*`, `**`, `*a*b*`","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-29T06:45:01.345556339Z","closed_at":"2025-11-29T06:45:01.345556339Z","dependencies":[{"issue_id":"coding_agent_session_search-sux.3.2","depends_on_id":"coding_agent_session_search-sux.3.1","type":"blocks","created_at":"2025-11-28T22:00:00Z","created_by":"agent"}]}
{"id":"coding_agent_session_search-sux.3.3","title":"A3.3: Build Tantivy queries from wildcard patterns","description":"Construct appropriate Tantivy query types based on parsed wildcard patterns.","notes":"**Tantivy Query Mapping**:\n- `Exact` → TermQuery or edge-ngram prefix (existing behavior)\n- `Prefix` → Use existing edge-ngram or PhrasePrefix\n- `Suffix` → RegexQuery with `.*term$` or content_prefix ngram reversed\n- `Contains` → RegexQuery with `.*term.*`\n\n**Challenge**: Tantivy doesn't have native suffix/contains. Options:\n1. RegexQuery (slow but works)\n2. Reverse-indexed field (complex schema change)\n3. Filter post-search using SQLite FTS5 (has `*term*` support)\n\n**Recommended Approach**:\n1. For `*foo*` (contains): Use FTS5 fallback which supports `*term*`\n2. For `*foo` (suffix): Same FTS5 approach\n3. For `foo*` (prefix): Use existing edge-ngram approach\n\n**Files to modify**:\n- src/search/query.rs: build_tantivy_query function\n- May need to enhance FTS5 fallback path\n\n**Testing**:\n- `foo*` returns prefix matches\n- `*foo` returns suffix matches\n- `*foo*` returns contains matches","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-29T06:45:01.348927968Z","closed_at":"2025-11-29T06:45:01.348927968Z","dependencies":[{"issue_id":"coding_agent_session_search-sux.3.3","depends_on_id":"coding_agent_session_search-sux.3.2","type":"blocks","created_at":"2025-11-28T22:00:00Z","created_by":"agent"}]}
{"id":"coding_agent_session_search-sux.3.4","title":"A3.4: Wildcard query tests","description":"Comprehensive tests for wildcard query functionality across all pattern types.","notes":"**Test Cases**:\n1. `foo` exact - finds 'foo' not 'foobar'\n2. `foo*` prefix - finds 'foobar', 'foobaz', not 'barfoo'\n3. `*foo` suffix - finds 'barfoo', not 'foobar'\n4. `*foo*` contains - finds 'barfoobaz', 'foobar', 'barfoo'\n5. Multiple terms: `*foo* bar*` - AND of patterns\n6. Edge cases: `*`, `**`, empty after trim\n\n**Integration Tests**:\n- Index fixture data with known patterns\n- Query with wildcards, assert correct results\n\n**Files to modify**:\n- tests/search_wildcards.rs (new)\n- Possibly update tests/util/mod.rs for fixtures\n\n**Dependency**: Needs A3.1-A3.3 complete","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-29T06:45:01.350766183Z","closed_at":"2025-11-29T06:45:01.350766183Z","dependencies":[{"issue_id":"coding_agent_session_search-sux.3.4","depends_on_id":"coding_agent_session_search-sux.3.3","type":"blocks","created_at":"2025-11-28T22:00:00Z","created_by":"agent"}]}
{"id":"coding_agent_session_search-sux.4","title":"A4: Implicit Wildcards","description":"Epic for auto-adding wildcards when search results are sparse or empty.","notes":"**Goal**: When query returns zero or few results, automatically try wildcards:\n1. First try `query*` (suffix wildcard)\n2. If still sparse, try `*query*` (contains)\n3. Indicate to user that wildcards were applied\n\n**Thresholds**:\n- Zero results → immediately try wildcards\n- \u003c 3 results → try wildcards for more\n- Keep explicit wildcard queries as-is\n\n**User Feedback**:\n- Footer/banner: 'Showing results for \"*query*\" (no exact matches)'\n- Option to dismiss and force exact search\n\n**Implementation Considerations**:\n- Don't apply implicit wildcards if query already has explicit `*`\n- Track whether results came from original or wildcard query for ranking\n- Cache both searches to allow quick toggle","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-29T06:45:03.790384519Z","closed_at":"2025-11-29T06:45:03.790384519Z","dependencies":[{"issue_id":"coding_agent_session_search-sux.4","depends_on_id":"coding_agent_session_search-sux.3","type":"blocks","created_at":"2025-11-28T22:00:00Z","created_by":"agent"}]}
{"id":"coding_agent_session_search-sux.4.1","title":"A4.1: Detect sparse results and trigger wildcard fallback","description":"After initial search, detect when results are sparse and automatically retry with wildcards.","notes":"**Implementation in SearchClient**:\n```rust\npub struct SearchResult {\n    pub hits: Vec\u003cSearchHit\u003e,\n    pub original_query: String,\n    pub effective_query: String,  // may differ if wildcards applied\n    pub wildcard_fallback: bool,  // true if wildcards were auto-added\n}\n\npub fn search_with_fallback(\n    \u0026self,\n    query: \u0026str,\n    filters: SearchFilters,\n    limit: usize,\n    offset: usize,\n) -\u003e Result\u003cSearchResult\u003e {\n    // Skip fallback if query has explicit wildcards\n    let has_explicit = query.contains('*');\n    \n    // Try original query\n    let hits = self.search(query, filters.clone(), limit, offset)?;\n    \n    if hits.len() \u003e= 3 || has_explicit {\n        return Ok(SearchResult {\n            hits,\n            original_query: query.to_string(),\n            effective_query: query.to_string(),\n            wildcard_fallback: false,\n        });\n    }\n    \n    // Try suffix wildcard\n    let suffix_q = add_suffix_wildcards(query);\n    let suffix_hits = self.search(\u0026suffix_q, filters.clone(), limit, offset)?;\n    \n    if suffix_hits.len() \u003e= 3 {\n        return Ok(SearchResult { hits: suffix_hits, ..., wildcard_fallback: true });\n    }\n    \n    // Try contains wildcard\n    let contains_q = add_contains_wildcards(query);\n    let contains_hits = self.search(\u0026contains_q, filters, limit, offset)?;\n    \n    Ok(SearchResult { hits: contains_hits, ..., wildcard_fallback: true })\n}\n```\n\n**Files to modify**:\n- src/search/query.rs: add search_with_fallback, SearchResult struct\n\n**Testing**:\n- Query with zero matches → wildcards applied\n- Query with 1-2 matches → wildcards tried for more\n- Query with 5+ matches → no fallback","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-29T06:45:03.794326853Z","closed_at":"2025-11-29T06:45:03.794326853Z","dependencies":[{"issue_id":"coding_agent_session_search-sux.4.1","depends_on_id":"coding_agent_session_search-sux.3.3","type":"blocks","created_at":"2025-11-28T22:00:00Z","created_by":"agent"}]}
{"id":"coding_agent_session_search-sux.4.2","title":"A4.2: UI indicator for wildcard fallback","description":"Show user when implicit wildcards were applied to their search.","notes":"**UI Indicators**:\n\n1. **Status bar message**:\n   - 'Showing results for \"*query*\" (no exact matches found)'\n   - Use distinct color (info blue or muted yellow)\n\n2. **Search bar modification** (optional):\n   - Show effective query in muted text below input\n   - '→ searching: *query*'\n\n3. **Hotkey to toggle**:\n   - Shift+F9 or similar to force exact search\n   - Status: 'Exact mode: no results'\n\n**Implementation in tui.rs**:\n- Track wildcard_fallback state\n- Render indicator in status or search bar area\n- Add toggle hotkey handler\n\n**Files to modify**:\n- src/ui/tui.rs: state tracking, render, hotkey\n- src/ui/components/widgets.rs: search bar enhancement\n\n**Testing**:\n- Verify indicator appears when fallback active\n- Toggle hotkey works","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-29T06:45:03.799474497Z","closed_at":"2025-11-29T06:45:03.799474497Z","dependencies":[{"issue_id":"coding_agent_session_search-sux.4.2","depends_on_id":"coding_agent_session_search-sux.4.1","type":"blocks","created_at":"2025-11-28T22:00:00Z","created_by":"agent"}]}
{"id":"coding_agent_session_search-sux.5","title":"A5: Smarter Ranking","description":"Epic for improving search result ranking with recency, match quality, and configurable weighting.","notes":"**Current Ranking** (tui.rs:3321-3338):\n```rust\nlet alpha = match ranking_mode {\n    RankingMode::RecentHeavy =\u003e 1.0,\n    RankingMode::Balanced =\u003e 0.4,\n    RankingMode::RelevanceHeavy =\u003e 0.1,\n};\nlet score_a = a.score + alpha * recency(a);\n```\n\n**Problems**:\n1. Only considers Tantivy score + recency\n2. No match quality factor (exact vs wildcard)\n3. All wildcard matches treated equally\n\n**Improved Ranking Formula**:\n```\nfinal_score = tantivy_score * match_quality_factor + alpha * recency\n\nmatch_quality_factor:\n  - Exact match: 1.0\n  - Suffix wildcard only (foo*): 0.9\n  - Prefix wildcard only (*foo): 0.8\n  - Contains wildcard (*foo*): 0.7\n  - Implicit wildcard fallback: 0.6\n```\n\n**User-Configurable**:\n- F12 cycles: RecentHeavy / Balanced / RelevanceHeavy / MatchQualityHeavy","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-30T05:22:28.429341404Z","closed_at":"2025-11-30T05:22:28.429341404Z","dependencies":[{"issue_id":"coding_agent_session_search-sux.5","depends_on_id":"coding_agent_session_search-sux.4","type":"blocks","created_at":"2025-11-28T22:00:00Z","created_by":"agent"}]}
{"id":"coding_agent_session_search-sux.5.1","title":"A5.1: Track match type in SearchHit","description":"Extend SearchHit to include information about how the result matched (exact, wildcard type, implicit fallback).","notes":"**Extend SearchHit struct**:\n```rust\npub struct SearchHit {\n    // ... existing fields ...\n    pub match_type: MatchType,\n}\n\npub enum MatchType {\n    Exact,\n    SuffixWildcard,    // foo*\n    PrefixWildcard,    // *foo\n    ContainsWildcard,  // *foo*\n    ImplicitFallback,  // auto-added wildcards\n}\n```\n\n**Set during query execution**:\n- In search_with_fallback, tag hits with appropriate MatchType\n- Track which wildcard pattern(s) matched\n\n**Files to modify**:\n- src/search/query.rs: extend SearchHit, set match_type during search\n\n**Testing**:\n- Query 'foo' returns Exact matches\n- Query 'foo*' returns SuffixWildcard matches\n- Zero-result fallback returns ImplicitFallback","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-29T07:12:51.609617453Z","closed_at":"2025-11-29T07:12:51.609617453Z","dependencies":[{"issue_id":"coding_agent_session_search-sux.5.1","depends_on_id":"coding_agent_session_search-sux.4.1","type":"blocks","created_at":"2025-11-28T22:00:00Z","created_by":"agent"}]}
{"id":"coding_agent_session_search-sux.5.2","title":"A5.2: Implement match quality factor in ranking","description":"Add match quality factor to ranking formula based on MatchType.","notes":"**Implementation in tui.rs ranking** (around line 3326-3338):\n\n```rust\nfn match_quality_factor(hit: \u0026SearchHit) -\u003e f32 {\n    match hit.match_type {\n        MatchType::Exact =\u003e 1.0,\n        MatchType::SuffixWildcard =\u003e 0.9,\n        MatchType::PrefixWildcard =\u003e 0.8,\n        MatchType::ContainsWildcard =\u003e 0.7,\n        MatchType::ImplicitFallback =\u003e 0.6,\n    }\n}\n\n// In ranking:\nlet quality = match_quality_factor(a);\nlet score_a = a.score * quality + alpha * recency(a);\n```\n\n**Files to modify**:\n- src/ui/tui.rs: ranking logic around line 3326\n\n**Testing**:\n- Exact match ranks above wildcard match at same recency\n- Suffix wildcard ranks above prefix wildcard\n- Implicit fallback results rank lowest","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-29T19:49:58.75071127Z","closed_at":"2025-11-29T19:49:58.75071127Z","dependencies":[{"issue_id":"coding_agent_session_search-sux.5.2","depends_on_id":"coding_agent_session_search-sux.5.1","type":"blocks","created_at":"2025-11-28T22:00:00Z","created_by":"agent"}]}
{"id":"coding_agent_session_search-sux.5.3","title":"A5.3: Add MatchQualityHeavy ranking mode","description":"Add new ranking mode option that prioritizes match quality over recency.","notes":"**Extend RankingMode enum**:\n```rust\nenum RankingMode {\n    RecentHeavy,\n    Balanced,\n    RelevanceHeavy,\n    MatchQualityHeavy,  // NEW\n}\n```\n\n**F12 cycle update**:\nRecentHeavy → Balanced → RelevanceHeavy → MatchQualityHeavy → RecentHeavy\n\n**Ranking formula for MatchQualityHeavy**:\n```rust\nRankingMode::MatchQualityHeavy =\u003e {\n    let quality = match_quality_factor(hit);\n    quality * 2.0 + hit.score * 0.5 + recency * 0.1\n}\n```\n\n**Files to modify**:\n- src/ui/tui.rs: RankingMode enum, F12 handler, ranking formula\n\n**Testing**:\n- F12 cycles through all 4 modes\n- MatchQualityHeavy strongly prefers exact matches","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-29T06:45:29.814906144Z","closed_at":"2025-11-29T06:45:29.814906144Z","dependencies":[{"issue_id":"coding_agent_session_search-sux.5.3","depends_on_id":"coding_agent_session_search-sux.5.2","type":"blocks","created_at":"2025-11-28T22:00:00Z","created_by":"agent"}]}
{"id":"coding_agent_session_search-sux.6","title":"A6: Enhanced Result Display","description":"Epic for improving search result display: more context, highlighting, visual separation, borders, detail pane.","notes":"**Goals**:\n1. **More context**: 6-8 lines per result (currently 2)\n2. **Better highlighting**: Bold + conspicuous color for matches\n3. **Alternating stripes**: Visual separation between results\n4. **Unicode borders**: Toggleable decorative borders\n5. **Better detail pane**: More information, better layout\n6. **Other QoL**: Improved readability, information density\n\n**Current State**:\n- 2 lines per result: header (score bar + title) + location/snippet\n- Basic highlighting with accent color + bold\n- No alternating colors\n- Simple block borders\n- Detail pane has tabs but limited content visibility\n\n**Impact on Layout**:\n- More lines per result = fewer results visible\n- Need to balance context vs. scanability\n- Consider collapsible/expandable results","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-30T05:22:16.894668906Z","closed_at":"2025-11-30T05:22:16.894668906Z"}
{"id":"coding_agent_session_search-sux.6.1","title":"A6.1: Expand result context to 3-4 lines (revised)","description":"Increase the amount of content shown per search result from 2 lines to 3-4 lines maximum. Extended metadata should remain in detail pane, not inline.","notes":"**REVISED from original 6-8 lines**\n\nOriginal proposal of 6-8 lines was too aggressive:\n- At 24-line terminal, only 3-4 results visible\n- Slower visual scanning\n- Information overload\n\n**New Layout (3-4 lines)**:\n```\nLine 1: [████] Title (bold) + Agent icon\nLine 2: Agent | Workspace (truncated) | Relative time\nLine 3: First line of matching content with highlights...\nLine 4: (optional) Second context line if space permits\n```\n\n**Key changes**:\n- Keep extended metadata (full path, tokens, etc.) in detail pane\n- Prioritize scanability over information density\n- Consider toggleable compact/expanded mode rather than always-expanded\n\n**Files to modify**:\n- src/ui/tui.rs: ListItem construction\n- Update calculate_pane_limit() for new lines per item\n\n**Testing**:\n- Verify 3-4 lines rendered per result\n- Ensure at least 5-6 results visible in typical terminal\n- Test scrolling behavior","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-29T20:07:29.942086407Z","closed_at":"2025-11-29T20:07:29.942086407Z"}
{"id":"coding_agent_session_search-sux.6.2","title":"A6.2: Enhanced match highlighting","description":"Improve search term highlighting with more conspicuous colors and bold styling.","notes":"**Current** (tui.rs:1166-1226):\n```rust\nspans.push(Span::styled(\n    text[start..end].to_string(),\n    base.patch(\n        Style::default()\n            .fg(palette.accent)  // Uses accent color\n            .add_modifier(Modifier::BOLD),\n    ),\n));\n```\n\n**Improvements**:\n1. **Background highlight**: Add background color for matched text\n2. **Distinct color**: Use high-contrast highlight color (e.g., yellow on dark bg)\n3. **Underline option**: Add underline for extra emphasis\n4. **Theme-aware**: Different highlight for dark/light themes\n\n**New highlight style**:\n```rust\nStyle::default()\n    .fg(palette.highlight_fg)  // High contrast text\n    .bg(palette.highlight_bg)  // Background color (e.g., dark yellow)\n    .add_modifier(Modifier::BOLD)\n```\n\n**Add to ThemePalette**:\n```rust\npub highlight_fg: Color,  // e.g., Black or dark text\npub highlight_bg: Color,  // e.g., Yellow or gold\n```\n\n**Files to modify**:\n- src/ui/components/theme.rs: add highlight colors\n- src/ui/tui.rs: update highlight_spans_owned\n\n**Testing**:\n- Verify highlights are highly visible\n- Test dark and light themes\n- Test with multiple matches in one line","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-29T20:11:41.974599819Z","closed_at":"2025-11-29T20:11:41.974599819Z","dependencies":[{"issue_id":"coding_agent_session_search-sux.6.2","depends_on_id":"coding_agent_session_search-sux.6.1","type":"blocks","created_at":"2025-11-28T22:00:00Z","created_by":"agent"}]}
{"id":"coding_agent_session_search-sux.6.3","title":"A6.3: Alternating color stripes for results","description":"Add alternating background colors to search results for better visual separation.","notes":"**Goal**: Zebra-striping like spreadsheets - alternating subtle background colors.\n\n**Implementation in result rendering** (tui.rs ~1772):\n```rust\nfor (idx, hit) in pane.hits.iter().enumerate() {\n    let is_odd = idx % 2 == 1;\n    let stripe_bg = if is_odd { palette.stripe_odd } else { palette.stripe_even };\n    \n    // Apply stripe_bg to all lines in this result\n    let base_style = Style::default().bg(stripe_bg);\n    // ... build lines with base_style ...\n}\n```\n\n**Add to ThemePalette**:\n```rust\npub stripe_even: Color,  // e.g., palette.bg (normal)\npub stripe_odd: Color,   // e.g., slightly lighter/darker\n```\n\n**Stripe colors**:\n- Dark theme: even=#1a1b26, odd=#1e2030\n- Light theme: even=#f0f0f5, odd=#e8e8f0\n\n**Files to modify**:\n- src/ui/components/theme.rs: add stripe colors\n- src/ui/tui.rs: apply alternating bg in result list\n\n**Testing**:\n- Verify alternating colors visible\n- Test with selected item (selection should override stripe)\n- Test both themes","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-29T22:12:59.696429368Z","closed_at":"2025-11-29T22:12:59.696429368Z","dependencies":[{"issue_id":"coding_agent_session_search-sux.6.3","depends_on_id":"coding_agent_session_search-sux.6.1","type":"blocks","created_at":"2025-11-28T22:00:00Z","created_by":"agent"}]}
{"id":"coding_agent_session_search-sux.6.4","title":"A6.4: Toggleable unicode borders for results","description":"Add decorative unicode borders around individual results that can be toggled on/off.","notes":"**Goal**: Optional decorative borders for each result (not just pane border).\n\n**Unicode border characters**:\n```\n┌──────────────────────────────────────┐\n│ Result content...                    │\n│ More content...                      │\n└──────────────────────────────────────┘\n```\n\n**Toggle mechanism**:\n- New state: `borders_enabled: bool`\n- Hotkey: F11 or Shift+B\n- Persist in tui_state.json\n\n**Implementation**:\n```rust\nif borders_enabled {\n    // Add top border line\n    lines.push(Line::from(\"┌\" + \"─\".repeat(width-2) + \"┐\"));\n    // Wrap content lines with │ prefix/suffix\n    for line in content_lines {\n        lines.push(Line::from(format!(\"│{}│\", pad_to_width(line, width-2))));\n    }\n    // Add bottom border line\n    lines.push(Line::from(\"└\" + \"─\".repeat(width-2) + \"┘\"));\n}\n```\n\n**Files to modify**:\n- src/ui/tui.rs: borders_enabled state, hotkey, render logic\n- src/ui/tui.rs: TuiStatePersisted struct, save/load\n\n**Testing**:\n- F11 toggles borders on/off\n- Borders persist across sessions\n- Layout adjusts correctly with borders","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-29T06:45:32.767427006Z","closed_at":"2025-11-29T06:45:32.767427006Z","dependencies":[{"issue_id":"coding_agent_session_search-sux.6.4","depends_on_id":"coding_agent_session_search-sux.6.1","type":"blocks","created_at":"2025-11-28T22:00:00Z","created_by":"agent"}]}
{"id":"coding_agent_session_search-sux.6.5","title":"A6.5: Enhanced detail pane content","description":"Improve the detail pane at the bottom to show more useful information and better layout.","notes":"**Current Detail Pane** (tui.rs:1895-2097):\n- Tabs: Messages | Snippets | Raw\n- Meta lines: Title, Agent, Workspace, Source, Score\n- Scrollable content area\n\n**Improvements**:\n\n1. **Expanded metadata section**:\n   - Add: Created timestamp, Duration, Token count\n   - Add: Match type indicator (Exact/Wildcard)\n   - Add: Quick stats (messages count, code blocks count)\n\n2. **Better messages tab**:\n   - Show message count in tab: 'Messages (42)'\n   - Add message separators with role icons\n   - Highlight search terms in message content\n   - Show timestamps for each message\n\n3. **Better snippets tab**:\n   - Group by file path\n   - Show line numbers prominently\n   - Syntax highlighting hints (language label)\n\n4. **Quick actions bar**:\n   - [c] Copy | [e] Edit | [o] Open file | [p] Print path\n   - Show in header or footer of detail pane\n\n**Files to modify**:\n- src/ui/tui.rs: detail pane rendering (~1895-2097)\n- src/ui/data.rs: potentially extend ConversationView\n\n**Testing**:\n- Verify all new metadata displays\n- Test tab switching with new content\n- Test quick actions work","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-29T22:04:05.197163083Z","closed_at":"2025-11-29T22:04:05.197163083Z","dependencies":[{"issue_id":"coding_agent_session_search-sux.6.5","depends_on_id":"coding_agent_session_search-sux.6.2","type":"blocks","created_at":"2025-11-28T22:00:00Z","created_by":"agent"}]}
{"id":"coding_agent_session_search-sux.6.6","title":"A6.6: QoL improvements bundle","description":"Collection of smaller quality-of-life improvements for search results display.","notes":"**Improvements**:\n\n1. **Truncation indicators**:\n   - Show '...' when content is truncated\n   - Different from current ellipsis (use styled indicator)\n\n2. **Word wrap for long lines**:\n   - Smart word wrap instead of cut-off\n   - Indent continuation lines\n\n3. **Relative timestamps**:\n   - '2 hours ago' instead of full timestamp\n   - Already partially implemented in format_relative_time()\n\n4. **Result numbering**:\n   - Show 1-indexed result numbers for quick reference\n   - '#1', '#2', etc. in small text\n\n5. **Match count per result**:\n   - Show how many times query matches in this result\n   - '(3 matches)' indicator\n\n6. **Agent icon/emoji**:\n   - 🤖 Claude | 🔷 Codex | 💎 Gemini | etc.\n   - Quick visual identification\n\n7. **Keyboard hint for expansion**:\n   - 'Enter for details' hint on selected result\n\n**Files to modify**:\n- src/ui/tui.rs: result rendering, helpers\n- src/ui/components/theme.rs: if new styles needed\n\n**Testing**:\n- Verify each improvement individually\n- Test edge cases (very long content, many matches)","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-29T06:51:13.188398384Z","closed_at":"2025-11-29T06:51:13.188398384Z","dependencies":[{"issue_id":"coding_agent_session_search-sux.6.6","depends_on_id":"coding_agent_session_search-sux.6.5","type":"blocks","created_at":"2025-11-28T22:00:00Z","created_by":"agent"}]}
{"id":"coding_agent_session_search-sux.6.6a","title":"Relative timestamps in results","description":"Show relative timestamps ('2h ago', 'yesterday') instead of full timestamps in search results. format_relative_time() already exists - use it in result rendering.","design":"Use existing format_relative_time() function. Apply to result header line. Keep full timestamp in detail pane.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T06:50:12.697519131Z","updated_at":"2025-11-29T19:45:42.50343071Z","closed_at":"2025-11-29T19:45:42.50343071Z","dependencies":[{"issue_id":"coding_agent_session_search-sux.6.6a","depends_on_id":"coding_agent_session_search-sux.6","type":"parent-child","created_at":"2025-11-29T06:50:55.742244195Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-sux.6.6b","title":"Agent icons in results","description":"Add small agent-specific icons/emojis to result headers for quick visual identification. Example: Claude=robot, Codex=blue-diamond, Gemini=gem","design":"Map agent_slug to icon in theme or constants. Add icon before agent name in result header.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-29T06:50:17.506195789Z","updated_at":"2025-11-30T06:06:24.82793074Z","closed_at":"2025-11-30T06:06:24.82793074Z","dependencies":[{"issue_id":"coding_agent_session_search-sux.6.6b","depends_on_id":"coding_agent_session_search-sux.6","type":"parent-child","created_at":"2025-11-29T06:50:55.903576475Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-sux.6.6c","title":"Match count per result","description":"Show count of query matches within each result, e.g., '(3 matches)' to help user gauge relevance at a glance.","design":"Count occurrences during snippet generation. Display in result header. Consider hiding for 1 match.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-29T06:50:20.664182893Z","updated_at":"2025-11-30T05:20:47.453791928Z","closed_at":"2025-11-30T05:20:47.453791928Z","dependencies":[{"issue_id":"coding_agent_session_search-sux.6.6c","depends_on_id":"coding_agent_session_search-sux.6","type":"parent-child","created_at":"2025-11-29T06:50:56.108647029Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-sux.6.6d","title":"Smart word wrap for content","description":"Implement smart word wrap for long content lines instead of hard cut-off. Indent continuation lines for visual coherence.","design":"Use textwrap crate or manual word boundary detection. Indent wrapped lines by 2 spaces. Respect terminal width.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-29T06:50:28.434887448Z","updated_at":"2025-11-30T05:20:47.488748848Z","closed_at":"2025-11-30T05:20:47.488748848Z","dependencies":[{"issue_id":"coding_agent_session_search-sux.6.6d","depends_on_id":"coding_agent_session_search-sux.6","type":"parent-child","created_at":"2025-11-29T06:50:56.295149524Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-sux.7","title":"A7: Testing and Polish","description":"Epic for comprehensive testing and final polish of all search UX improvements.","notes":"**Testing Scope (REVISED)**:\n\nNote: sux.1-4 (indexing status, history debounce, wildcards, implicit fallback) are DONE.\nTests for those features should already exist.\n\n**Remaining Testing**:\n\n1. **Unit tests for sux.5 (ranking)**:\n   - MatchType detection\n   - Quality factor calculation\n\n2. **UI tests for sux.6 (display)**:\n   - 3-4 line result layout\n   - Highlighting appearance\n   - Alternating stripes\n   - Detail pane layout\n\n3. **Performance tests**:\n   - Suffix/substring wildcard latency (uses RegexQuery)\n   - Ensure sub-80ms target maintained\n\n**Polish Scope**:\n- Update README with wildcard syntax (already in codebase)\n- Help overlay updates\n- Accessibility: WCAG contrast check\n\n**Dependencies Updated**: sux.1-4 closed, only sux.5 and sux.6 remain as blockers.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-30T05:23:29.270706179Z","closed_at":"2025-11-30T05:23:29.270706179Z","dependencies":[{"issue_id":"coding_agent_session_search-sux.7","depends_on_id":"coding_agent_session_search-sux.1","type":"blocks","created_at":"2025-11-28T22:00:00Z","created_by":"agent"},{"issue_id":"coding_agent_session_search-sux.7","depends_on_id":"coding_agent_session_search-sux.2","type":"blocks","created_at":"2025-11-28T22:00:00Z","created_by":"agent"},{"issue_id":"coding_agent_session_search-sux.7","depends_on_id":"coding_agent_session_search-sux.3","type":"blocks","created_at":"2025-11-28T22:00:00Z","created_by":"agent"},{"issue_id":"coding_agent_session_search-sux.7","depends_on_id":"coding_agent_session_search-sux.4","type":"blocks","created_at":"2025-11-28T22:00:00Z","created_by":"agent"},{"issue_id":"coding_agent_session_search-sux.7","depends_on_id":"coding_agent_session_search-sux.5","type":"blocks","created_at":"2025-11-28T22:00:00Z","created_by":"agent"},{"issue_id":"coding_agent_session_search-sux.7","depends_on_id":"coding_agent_session_search-sux.6","type":"blocks","created_at":"2025-11-28T22:00:00Z","created_by":"agent"}]}
{"id":"coding_agent_session_search-sux.7.1","title":"A7.1: Unit tests for wildcard and ranking","description":"Add comprehensive unit tests for wildcard parsing, match type tracking, and ranking formula.","notes":"**Status**: UNBLOCKED - dependencies sux.3.4 and sux.5.3 are now closed.\n\n**Note**: sux.5.3 (MatchQualityHeavy ranking mode) was removed as unnecessary.\nFocus tests on:\n1. Existing WildcardPattern parsing (already has tests in query.rs:1853+)\n2. If sux.5.1/5.2 are implemented, add MatchType tests\n\n**Existing tests to verify**:\n- query.rs already has test_wildcard_pattern_parse() at line 1860\n- Check coverage is sufficient\n\n**Files to update if needed**:\n- tests/search_wildcards.rs (new)\n- tests/ranking.rs (new) - only if MatchType added","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-30T04:24:16.512924542Z","closed_at":"2025-11-30T04:24:16.512924542Z","dependencies":[{"issue_id":"coding_agent_session_search-sux.7.1","depends_on_id":"coding_agent_session_search-sux.3.4","type":"blocks","created_at":"2025-11-28T22:00:00Z","created_by":"agent"},{"issue_id":"coding_agent_session_search-sux.7.1","depends_on_id":"coding_agent_session_search-sux.5.3","type":"blocks","created_at":"2025-11-28T22:00:00Z","created_by":"agent"}]}
{"id":"coding_agent_session_search-sux.7.2","title":"A7.2: UI snapshot tests for new display features","description":"Add snapshot tests for the enhanced result display including highlighting, stripes, and borders.","notes":"**Status**: UNBLOCKED - dependency sux.6.6 is now closed (split into 6.6a-d).\n\n**Note**: sux.6.4 (toggleable borders) was removed as low-value.\nRemove border tests from scope.\n\n**Revised test scope**:\n- test_result_display_with_highlighting()\n- test_alternating_stripes()\n- test_3_line_result_layout() (revised from 6-8 lines)\n- test_relative_timestamps() (if sux.6.6a implemented)\n\n**Files to update**:\n- tests/ui_snap.rs: add new snapshot tests","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-29T22:15:17.338162494Z","closed_at":"2025-11-29T22:15:17.338162494Z","dependencies":[{"issue_id":"coding_agent_session_search-sux.7.2","depends_on_id":"coding_agent_session_search-sux.6.6","type":"blocks","created_at":"2025-11-28T22:00:00Z","created_by":"agent"}]}
{"id":"coding_agent_session_search-sux.7.3","title":"A7.3: Documentation updates","description":"Update README, help overlay, and inline comments to document all new features.","notes":"**Documentation updates**:\n\n1. **README.md**:\n   - Add section on wildcard search syntax\n   - Document implicit wildcard behavior\n   - Explain ranking modes\n   - Show new hotkeys (F11 borders, etc.)\n   - Screenshots of new result display\n\n2. **Help overlay** (tui.rs help_lines):\n   - Add Wildcards section: 'foo* prefix | *foo suffix | *foo* contains'\n   - Add Borders toggle hotkey\n   - Update display options section\n\n3. **Inline code comments**:\n   - Document WildcardPattern enum\n   - Document MatchType enum\n   - Document ranking formula\n\n4. **robot-docs update**:\n   - Include wildcard syntax in Commands topic\n   - Document new exit conditions\n\n**Files to modify**:\n- README.md\n- src/ui/tui.rs: help_lines function\n- src/search/query.rs: doc comments\n- src/lib.rs: robot-docs if needed","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-30T04:26:44.580474208Z","closed_at":"2025-11-30T04:26:44.580474208Z","dependencies":[{"issue_id":"coding_agent_session_search-sux.7.3","depends_on_id":"coding_agent_session_search-sux.7.1","type":"blocks","created_at":"2025-11-28T22:00:00Z","created_by":"agent"},{"issue_id":"coding_agent_session_search-sux.7.3","depends_on_id":"coding_agent_session_search-sux.7.2","type":"blocks","created_at":"2025-11-28T22:00:00Z","created_by":"agent"}]}
{"id":"coding_agent_session_search-sux.7.4","title":"A7.4: Performance validation","description":"Benchmark and validate that new features don't significantly impact search latency or rendering performance.","notes":"**Benchmarks to run/add**:\n\n1. **Wildcard query latency**:\n   - `foo*` vs `foo` (should be similar with edge-ngram)\n   - `*foo` (may be slower without reverse index)\n   - `*foo*` (may need FTS5 fallback, measure impact)\n\n2. **Fallback overhead**:\n   - Time for original + suffix + contains searches\n   - Cache hit rates with fallback\n\n3. **Rendering performance**:\n   - FPS with 6-8 lines per result vs 2 lines\n   - Stripe rendering overhead\n   - Border rendering overhead\n\n**Target budgets**:\n- Search latency: \u003c80ms (existing target)\n- Fallback total: \u003c150ms\n- Render FPS: 60fps (existing)\n\n**Files to update**:\n- benches/search_perf.rs: add wildcard benchmarks\n- benches/runtime_perf.rs: if needed\n\n**If performance issues found**:\n- Document in notes\n- Consider caching strategies\n- Consider async fallback","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T22:00:00Z","updated_at":"2025-11-30T04:20:58.171279293Z","closed_at":"2025-11-30T04:20:58.171279293Z","dependencies":[{"issue_id":"coding_agent_session_search-sux.7.4","depends_on_id":"coding_agent_session_search-sux.7.1","type":"blocks","created_at":"2025-11-28T22:00:00Z","created_by":"agent"}]}
{"id":"coding_agent_session_search-t7f","title":"Make TUI test helpers public","description":"Expose private functions and types in tui.rs for integration testing.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T22:26:15.333221-05:00","updated_at":"2025-12-01T22:28:54.687713-05:00","closed_at":"2025-12-01T22:28:54.687713-05:00","close_reason":"Types and functions exposed."}
{"id":"coding_agent_session_search-tc1","title":"QA: testing, benchmarking, and lint gates","description":"Unit/integration tests across connectors, search, TUI; benchmarks for search latency and indexing; clippy/fmt/check gating.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-11-21T01:27:43.461279696Z","updated_at":"2025-11-23T14:36:56.948818554Z","closed_at":"2025-11-23T14:36:56.948818554Z","dependencies":[{"issue_id":"coding_agent_session_search-tc1","depends_on_id":"coding_agent_session_search-lz1","type":"blocks","created_at":"2025-11-21T01:27:43.479583744Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-tc1","depends_on_id":"coding_agent_session_search-7ew","type":"blocks","created_at":"2025-11-21T01:27:43.480831347Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-tc1","depends_on_id":"coding_agent_session_search-6hx","type":"blocks","created_at":"2025-11-21T01:27:43.482123351Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-tc1.1","title":"Connector fixtures + unit tests","description":"Create sample logs/DBs for Codex/Cline/Gemini/Claude/OpenCode/Amp and unit tests verifying normalization outputs.","notes":"Added Codex connector fixture test; TUI detail pane with selection and hotkeys (j/k, arrows) and pagination-aware selection.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-21T01:30:04.592390794Z","updated_at":"2025-11-21T18:46:26.960819415Z","closed_at":"2025-11-21T18:46:26.960819415Z","dependencies":[{"issue_id":"coding_agent_session_search-tc1.1","depends_on_id":"coding_agent_session_search-7ew.2","type":"blocks","created_at":"2025-11-21T01:30:04.593748506Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-tc1.1","depends_on_id":"coding_agent_session_search-7ew.3","type":"blocks","created_at":"2025-11-21T01:30:04.59527532Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-tc1.1","depends_on_id":"coding_agent_session_search-7ew.4","type":"blocks","created_at":"2025-11-21T01:30:04.59645333Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-tc1.1","depends_on_id":"coding_agent_session_search-7ew.5","type":"blocks","created_at":"2025-11-21T01:30:04.597888443Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-tc1.1","depends_on_id":"coding_agent_session_search-7ew.6","type":"blocks","created_at":"2025-11-21T01:30:04.600554366Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-tc1.1","depends_on_id":"coding_agent_session_search-7ew.7","type":"blocks","created_at":"2025-11-21T01:30:04.601985279Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-tc1.2","title":"End-to-end indexing + search integration tests","description":"Spin temp home dirs with sample logs, run index --full, execute search queries, assert results \u0026 filters.","notes":"Filters UI + pagination wired in TUI; SQLite FTS5 mirror with migration/backfill + insert hooks; added Tantivy search integration test covering filters/pagination.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-21T01:30:10.025332211Z","updated_at":"2025-11-21T18:41:04.631776292Z","closed_at":"2025-11-21T18:41:04.631782792Z","dependencies":[{"issue_id":"coding_agent_session_search-tc1.2","depends_on_id":"coding_agent_session_search-974.1","type":"blocks","created_at":"2025-11-21T01:30:10.027705431Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-tc1.2","depends_on_id":"coding_agent_session_search-lz1.4","type":"blocks","created_at":"2025-11-21T01:30:10.028537538Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-tc1.3","title":"TUI interaction tests (snapshot/help/hotkeys)","description":"Use ratatui testing harness or scripted input to snapshot help screen, hotkey handling, empty/error states.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-21T01:30:13.251343357Z","updated_at":"2025-11-23T14:36:12.48502369Z","closed_at":"2025-11-23T14:36:12.48502369Z","dependencies":[{"issue_id":"coding_agent_session_search-tc1.3","depends_on_id":"coding_agent_session_search-6hx.2","type":"blocks","created_at":"2025-11-21T01:30:13.252115063Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-tc1.4","title":"Performance benchmarks (search latency, indexing throughput)","description":"Criterion/hyperfine benchmarks for search-as-you-type, full index build time, memory footprint, with target budgets (\u003c80ms).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-21T01:30:16.652183469Z","updated_at":"2025-11-23T14:36:04.163833834Z","closed_at":"2025-11-23T14:36:04.163833834Z","dependencies":[{"issue_id":"coding_agent_session_search-tc1.4","depends_on_id":"coding_agent_session_search-lz1.2","type":"blocks","created_at":"2025-11-21T01:30:16.65396028Z","created_by":"daemon"},{"issue_id":"coding_agent_session_search-tc1.4","depends_on_id":"coding_agent_session_search-974.1","type":"blocks","created_at":"2025-11-21T01:30:16.656398195Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-tc1.5","title":"Lint/format/check gating (nightly)","description":"Set up cargo fmt --check, cargo clippy --all-targets -D warnings, cargo check --all-targets on nightly; add CI jobs.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-21T01:30:22.444966077Z","updated_at":"2025-11-23T14:34:52.211534721Z","closed_at":"2025-11-23T14:34:52.211534721Z","dependencies":[{"issue_id":"coding_agent_session_search-tc1.5","depends_on_id":"coding_agent_session_search-acz.1","type":"blocks","created_at":"2025-11-21T01:30:22.447617177Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-tst","title":"Comprehensive Test Coverage Epic","description":"Master epic for achieving comprehensive test coverage across the entire codebase.\n\n## Goals\n- Unit tests for all modules without mocks (real fixture data)\n- E2E integration tests with detailed logging\n- Property-based testing for parser edge cases\n- Performance baseline tests\n\n## Dependencies\n- All tst.* beads depend on tst.inf (infrastructure)\n- E2E tests depend on unit tests being stable\n\n## Success Criteria\n- \u003e80% line coverage\n- All critical paths have E2E tests\n- Tests run in \u003c2 minutes total","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.339620797Z","updated_at":"2025-11-30T15:05:19.339620797Z"}
{"id":"coding_agent_session_search-tst.cli","title":"CLI Command Tests","description":"Integration tests for CLI subcommands. Coverage: all subcommands tested, argument parsing edge cases, exit codes correct, output format validation.","status":"in_progress","priority":0,"issue_type":"task","assignee":"WhiteCreek","created_at":"2025-11-30T15:05:19.348006464Z","updated_at":"2025-12-01T02:21:29.48301031Z","comments":[{"id":11,"issue_id":"coding_agent_session_search-tst.cli","author":"ubuntu","text":"Starting CLI command tests bead: goal is to broaden coverage beyond search to stats/diag/status/view with JSON/robot output and error paths. Will reuse cli_robot suite; will keep TUI untouched.","created_at":"2025-12-01T23:22:10Z"}]}
{"id":"coding_agent_session_search-tst.cli.index","title":"Index Command Tests","description":"Test cass index CLI behavior. Cases: full index creates DB, --force rebuilds, --watch starts watch mode, --connectors filters, progress output, error handling. Exit codes: 0 success, 1 error.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-12-01T19:34:44.092811996Z","closed_at":"2025-12-01T19:34:44.092811996Z"}
{"id":"coding_agent_session_search-tst.cli.misc","title":"View/Stats/Diag Command Tests","description":"Test miscellaneous CLI commands. Commands: cass view \u003cid\u003e, cass stats, cass diag. Cases: view existing/non-existent, stats empty/populated index, diag detects common issues.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-12-01T18:46:46.61106-05:00","closed_at":"2025-12-01T18:46:46.61106-05:00","close_reason":"cli_robot.rs has 65+ comprehensive tests covering view (JSON highlighting), stats (count reporting), diag (path/connector reporting), status (staleness), capabilities, and robot mode output formats"}
{"id":"coding_agent_session_search-tst.cli.search","title":"Search Command Tests","description":"Test cass search CLI behavior. Cases: basic search returns results, --json valid JSON, --limit respected, filter flags work, empty results empty array, invalid query shows error. Exit codes: 0 success, 1 error.","status":"in_progress","priority":0,"issue_type":"task","assignee":"WhiteCreek","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-12-01T00:21:09.378724558Z","comments":[{"id":12,"issue_id":"coding_agent_session_search-tst.cli.search","author":"ubuntu","text":"Implemented agent-filter and offset coverage in CLI search tests (tests/cli_robot.rs); reused existing fixture index, clippy/check clean.","created_at":"2025-12-01T23:22:10Z"}]}
{"id":"coding_agent_session_search-tst.con","title":"Connector Unit Tests","description":"Unit tests for each connector's parsing logic. Coverage: every connector type, edge cases (empty, malformed, missing fields), timestamp parsing. 13 subtasks for each connector type.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.348006464Z","updated_at":"2025-12-01T19:15:54.172753649Z","closed_at":"2025-12-01T19:15:54.172753649Z"}
{"id":"coding_agent_session_search-tst.con.aider","title":"Aider Connector Tests","description":"Unit tests for Aider session parsing. Cases: markdown chat format, code blocks, git commit refs, timestamp from filename, multiple chat files. Edge: malformed markdown, missing markers, binary in code blocks.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-12-01T18:40:28.92946-05:00","closed_at":"2025-12-01T18:40:28.92946-05:00","close_reason":"Comprehensive test suite with 38 tests covering parsing, roles, timestamps, filtering, edge cases"}
{"id":"coding_agent_session_search-tst.con.amazon","title":"Amazon Q Connector Tests","description":"Unit tests for Amazon Q session parsing. Cases: Q chat format, code suggestions, AWS metadata. Edge: missing credentials context, truncated responses.","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-11-30T15:05:19.350975688Z"}
{"id":"coding_agent_session_search-tst.con.amp","title":"Amp Connector Tests","description":"Unit tests for Amp (Sourcegraph) parsing. Cases: Amp conversation format, codebase context, search results. Edge: large codebase contexts, missing repo metadata.","status":"closed","priority":0,"issue_type":"task","assignee":"Claude","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-12-01T18:40:56.75609-05:00","closed_at":"2025-12-01T18:40:56.75609-05:00","close_reason":"24 tests covering parsing, detection, timestamps, edge cases"}
{"id":"coding_agent_session_search-tst.con.chatgpt","title":"ChatGPT Connector Tests","description":"Unit tests for ChatGPT export parsing. Cases: conversations.json, multi-turn, timestamps, attachments metadata, custom instructions. Edge: empty conversations, deleted messages, old export formats.","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-11-30T15:05:19.350975688Z"}
{"id":"coding_agent_session_search-tst.con.claude","title":"Claude Code Connector Tests","description":"Unit tests for Claude Code session parsing. Cases: valid session, minimal fields, missing createdAt, unicode, long messages \u003e100KB, empty conversation, date directory structure. Edge: system-only, malformed JSON, permission errors.","status":"closed","priority":0,"issue_type":"task","assignee":"Claude","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-12-01T18:41:01.887126-05:00","closed_at":"2025-12-01T18:41:01.887126-05:00","close_reason":"21 tests covering parsing, timestamps, multiple formats"}
{"id":"coding_agent_session_search-tst.con.cline","title":"Cline Connector Tests","description":"Unit tests for Cline/Continue session parsing. Cases: VS Code extension format, tool results, file contexts. Edge: missing tool responses, very long contexts.","status":"closed","priority":0,"issue_type":"task","assignee":"Claude","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-12-01T18:41:07.012368-05:00","closed_at":"2025-12-01T18:41:07.012368-05:00","close_reason":"24 tests covering ui_messages parsing, timestamps, metadata"}
{"id":"coding_agent_session_search-tst.con.codex","title":"Codex Connector Tests","description":"Unit tests for Codex session parsing. Cases: JSONL format, streaming format, timestamp formats, multi-file sessions, tool use messages. Edge: incomplete JSONL, mixed formats, large sessions \u003e1000 messages.","status":"closed","priority":0,"issue_type":"task","assignee":"Claude","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-12-01T18:41:12.154152-05:00","closed_at":"2025-12-01T18:41:12.154152-05:00","close_reason":"25 tests covering both JSONL and JSON format, timestamps, reasoning"}
{"id":"coding_agent_session_search-tst.con.cursor","title":"Cursor Connector Tests","description":"Unit tests for Cursor session parsing. Cases: workspace state format, inline completions, chat sessions, file context. Edge: corrupted state, missing workspace context.","notes":"Cursor connector not yet implemented - tests blocked until connector exists","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-12-01T18:48:41.597741-05:00"}
{"id":"coding_agent_session_search-tst.con.gemini","title":"Gemini Connector Tests","description":"Unit tests for Gemini CLI parsing. Cases: Gemini chat format, multi-modal responses, safety ratings. Edge: blocked responses, empty turns.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-12-01T18:35:53.558755-05:00","closed_at":"2025-12-01T18:35:53.558755-05:00","close_reason":"Comprehensive test suite with 17 tests"}
{"id":"coding_agent_session_search-tst.con.goose","title":"Goose Connector Tests","description":"Unit tests for Goose AI parsing. Cases: Goose session format, tool executions, timestamps. Edge: failed tool executions, nested tool calls.","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-11-30T15:05:19.350975688Z"}
{"id":"coding_agent_session_search-tst.con.kodu","title":"Kodu Connector Tests","description":"Unit tests for Kodu AI parsing. Cases: Kodu chat format, code generation results, project context. Edge: incomplete generations, large contexts.","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-11-30T15:05:19.350975688Z"}
{"id":"coding_agent_session_search-tst.con.xcode","title":"Xcode Connector Tests","description":"Unit tests for Xcode AI parsing. Cases: Xcode assistant format, Swift/ObjC context, build errors. Edge: missing project context, binary plist formats.","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-11-30T15:05:19.350975688Z"}
{"id":"coding_agent_session_search-tst.con.zed","title":"Zed Connector Tests","description":"Unit tests for Zed assistant parsing. Cases: conversation format, context attachments, timestamps. Edge: empty state, invalid JSON.","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-11-30T15:05:19.350975688Z"}
{"id":"coding_agent_session_search-tst.e2e","title":"E2E Pipeline Tests","description":"End-to-end tests covering the full index-\u003esearch-\u003edisplay pipeline. Each E2E test: create fixture data in temp dir, run cass index with logging, run cass search and verify, clean up. Subtasks: multi-connector, incremental, filter combos, cache behavior, watch mode extended.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.348006464Z","updated_at":"2025-12-01T23:03:41.010614-05:00","closed_at":"2025-12-01T23:03:41.010614-05:00","close_reason":"E2E coverage complete: e2e_search_index.rs (13 tests), e2e_multi_connector.rs (7 tests), e2e_filters.rs (8 tests), watch_e2e.rs (4 tests). Total 32 E2E tests covering multi-connector, incremental, filter combos, cache behavior, watch mode."}
{"id":"coding_agent_session_search-tst.e2e.cache","title":"Query Cache E2E Test","description":"Test query caching behavior with detailed logging. Scenario: index, search twice (cache hit), modify session, search again (cache invalidated). Log assertions for cache miss/hit/invalidation messages.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-12-01T18:48:23.710909-05:00","closed_at":"2025-12-01T18:48:23.710909-05:00","close_reason":"Comprehensive cache testing via search_caching.rs (2 tests) and search::query::tests (8 tests including cache_invalidates_on_new_data, track_generation_clears_cache_on_change, cache_eviction, filter_fidelity_cache_key_isolation)"}
{"id":"coding_agent_session_search-tst.e2e.filt","title":"Filter Combinations E2E Test","description":"Test all filter combinations work correctly end-to-end. Create sessions with known connectors, timestamps, working dirs. Test: connector:claude, after:date, before:date, path:dir, combined filters. Assert correct counts and session IDs.","status":"in_progress","priority":0,"issue_type":"task","assignee":"BlackPond","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-12-01T21:33:38.041134-05:00"}
{"id":"coding_agent_session_search-tst.e2e.incr","title":"Incremental Indexing E2E Test","description":"Test that incremental indexing only processes new/modified sessions. Scenario: create 5 sessions, full index, add 2 new, run again. Verify: only 2 re-indexed, existing untouched, search returns all 7.","notes":"Writing platform-independent incremental indexing E2E test","status":"in_progress","priority":0,"issue_type":"task","assignee":"GreenMountain","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-12-01T19:33:20.924793-05:00"}
{"id":"coding_agent_session_search-tst.e2e.multi","title":"Multi-Connector E2E Test","description":"Test indexing sessions from multiple connectors simultaneously. Scenario: 3 Claude Code + 2 Codex + 2 Aider + 1 ChatGPT sessions. Verify: all 8 indexed, search works across all, connector filter returns correct subsets. Log assertions for per-connector counts.","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-11-30T15:05:19.350975688Z"}
{"id":"coding_agent_session_search-tst.e2e.watch","title":"Watch Mode E2E Tests (Extended)","description":"Extend existing watch_e2e.rs with more scenarios: multiple rapid file changes (debounce), cross-connector watch, delete detection/removal, error recovery on corrupt file. Build on existing basic smoke test.","notes":"Added extended watch-mode E2E coverage: multi-connector watch_once (Codex+Claude), rapid consecutive change handling (timestamp monotonic), corrupt file resilience, and state file assertions. Tests in tests/watch_e2e.rs; ran cargo test --test watch_e2e.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-12-01T22:22:39.105924-05:00","closed_at":"2025-12-01T22:22:39.105927-05:00"}
{"id":"coding_agent_session_search-tst.err","title":"Error Handling Tests","description":"Tests for graceful error handling throughout. Coverage: all error paths tested, user-friendly messages, no panics on bad input, proper cleanup on errors.","status":"in_progress","priority":0,"issue_type":"task","assignee":"WhiteCreek","created_at":"2025-11-30T15:05:19.348006464Z","updated_at":"2025-12-01T01:39:42.903091501Z","comments":[{"id":13,"issue_id":"coding_agent_session_search-tst.err","author":"ubuntu","text":"Starting error-handling tests bead: will add CLI/error-path coverage for missing index, bad paths, and JSON error contracts; targeting existing cli_robot and possibly new small tests if needed.","created_at":"2025-12-01T23:22:10Z"},{"id":14,"issue_id":"coding_agent_session_search-tst.err","author":"ubuntu","text":"Added error-path coverage in tests/cli_robot.rs: missing-index JSON error contracts for search and stats using empty data-dir. All CLI robot tests passing (31/31).","created_at":"2025-12-01T23:22:10Z"}]}
{"id":"coding_agent_session_search-tst.err.fs","title":"Filesystem Error Tests","description":"Test handling of filesystem errors. Cases: permission denied, disk full during index, file deleted mid-read, symlink loops, network filesystem timeouts. Expected: clear error message with path, skip problematic file, log warning don't crash.","status":"closed","priority":0,"issue_type":"task","assignee":"PinkPond","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-12-01T23:05:29.524027-05:00","closed_at":"2025-12-01T23:05:29.524027-05:00","close_reason":"Closed"}
{"id":"coding_agent_session_search-tst.err.parse","title":"Parsing Error Tests","description":"Test handling of malformed input files. Cases: invalid JSON, missing required fields, wrong field types, truncated files, binary in text fields, invalid UTF-8. Expected: parse error logged with context, session skipped, summary shows skipped count.","notes":"Added 18 comprehensive parsing error tests in tests/parse_errors.rs. Tests cover: Claude Code (invalid JSON, missing fields, wrong types, truncated, binary content, invalid UTF-8, empty files, whitespace-only), Gemini (invalid JSON, missing messages, wrong types), Codex (invalid JSON, missing events), Cline (invalid JSON, missing task history), and cross-connector tests (recovery from bad files, extremely long content, deeply nested JSON). All tests passing.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-12-01T19:03:03.398052-05:00","closed_at":"2025-12-01T19:03:03.398054-05:00"}
{"id":"coding_agent_session_search-tst.idx","title":"Indexer/Tantivy Tests","description":"Unit tests for Tantivy full-text index operations. Coverage: index creation/schema, document insertion, incremental updates, corruption recovery.","status":"in_progress","priority":0,"issue_type":"task","assignee":"WhiteCreek","created_at":"2025-11-30T15:05:19.348006464Z","updated_at":"2025-12-01T01:45:02.050190388Z","comments":[{"id":15,"issue_id":"coding_agent_session_search-tst.idx","author":"ubuntu","text":"Added Tantivy index tests in tests/indexer_tantivy.rs: schema hash write, reuse when hash matches (no dir wipe), rebuild on mismatch. Tests pass. Note: clippy currently failing due to update_check placeholders in src/ui/tui.rs (bead 018) — left untouched.","created_at":"2025-12-01T23:22:10Z"}]}
{"id":"coding_agent_session_search-tst.idx.corrupt","title":"Index Corruption Handling Tests","description":"Test graceful handling of corrupted index files. Cases: truncated segment, missing meta.json, invalid checksums, locked directory. Expected: detect on open, clear error log, offer rebuild, no panic.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-12-01T22:48:10.220858-05:00","closed_at":"2025-12-01T22:48:10.220858-05:00","close_reason":"Added 17 comprehensive tests for index corruption handling: missing/invalid/corrupted schema_hash.json, missing/corrupted meta.json, truncated segment files, schema mismatch rebuild, edge ngrams generation, merge status logic, and roundtrip verification. All tests verify graceful recovery without panics."}
{"id":"coding_agent_session_search-tst.idx.incr","title":"Incremental Index Tests","description":"Test incremental index update logic. Cases: add new docs, update existing, delete docs, mixed add/update/delete batch. Assert: only changed docs re-indexed, search reflects updates, no orphans.","status":"in_progress","priority":0,"issue_type":"task","assignee":"WhiteCreek","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-12-01T02:34:25.27703971Z"}
{"id":"coding_agent_session_search-tst.idx.rebuild","title":"Full Index Rebuild Tests","description":"Test complete index rebuild scenarios. Cases: build from empty, rebuild existing (--force), verify all docs searchable, schema consistency. Assert: doc count matches sessions, all fields indexed, commit completes.","status":"closed","priority":0,"issue_type":"task","assignee":"PinkPond","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-12-01T22:57:41.467483-05:00","closed_at":"2025-12-01T22:57:41.467483-05:00","close_reason":"Closed"}
{"id":"coding_agent_session_search-tst.inf","title":"Test Infrastructure Foundation","description":"Build reusable test infrastructure before writing specific tests.\n\n## Components Needed\n1. **Fixture Factory** (tst.inf.fix)\n   - Deterministic session generators for each connector\n   - Configurable message counts, timestamps, content patterns\n   \n2. **Log Assertion Macros** (tst.inf.log)\n   - Capture tracing spans during test execution\n   - Assert on log messages, levels, and structured fields\n   \n3. **Result Assertion Helpers** (tst.inf.res)\n   - Fluent API for checking SearchHit fields\n   - Batch assertions for result ordering\n   \n4. **Documentation** (tst.inf.doc)\n   - Test writing guide with examples\n   - Coverage tracking dashboard","status":"in_progress","priority":0,"issue_type":"task","assignee":"WhiteCreek","created_at":"2025-11-30T15:05:19.348006464Z","updated_at":"2025-12-01T00:06:26.806502476Z","comments":[{"id":16,"issue_id":"coding_agent_session_search-tst.inf","author":"ubuntu","text":"Starting implementation: extending tests/util/mod.rs with fixture builder for conversations/messages plus SearchHit assertion helpers and improved log capture helpers.","created_at":"2025-12-01T23:22:10Z"},{"id":17,"issue_id":"coding_agent_session_search-tst.inf","author":"ubuntu","text":"Progress update: added ConversationFixtureBuilder snippet support (Normalized+storage), connector preset helpers, SearchHit assertion helpers, and log assertion macros; clippy now clean. Fixed pre-existing animation warnings in ui/tui.rs.","created_at":"2025-12-01T23:22:10Z"}]}
{"id":"coding_agent_session_search-tst.inf.doc","title":"Test Documentation","description":"Document test patterns and coverage tracking. Deliverables: docs/testing.md with fixture factory usage, log assertions, E2E test patterns. CI: add cargo-llvm-cov, generate coverage badges, track trends.","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-11-30T15:05:19.350975688Z"}
{"id":"coding_agent_session_search-tst.inf.fix","title":"Fixture Factory Module","description":"Create deterministic session generators for all connector types. Implementation: FixtureBuilder with claude_code(), codex(), aider() etc. methods, with_messages(count), with_timestamp_range(start, end), build_temp_dir(). Tests: verify fixtures parse correctly, timestamps deterministic, content matches patterns.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-12-01T19:35:47.495995-05:00","closed_at":"2025-12-01T19:35:47.495995-05:00","close_reason":"Enhanced fixture builder with custom content support and refactored search tests to use it."}
{"id":"coding_agent_session_search-tst.inf.log","title":"Log Assertion Macros","description":"Create macros for asserting on tracing output during tests. Implementation: LogCapture struct with assert_contains(level, msg), assert_span_entered(name), assert_field(span, field, value). Macro assert_logged!(capture, level, msg).","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-12-01T18:45:43.932092-05:00","closed_at":"2025-12-01T18:45:43.932092-05:00","close_reason":"tests/util/mod.rs has TestTracing struct with assert_contains(), lines(), and macros assert_logs_contain! and assert_logs_not_contain!"}
{"id":"coding_agent_session_search-tst.inf.res","title":"Result Assertion Helpers","description":"Create fluent API for checking SearchHit results. Trait SearchResultAssertions with assert_count(n), assert_first_contains(text), assert_ordered_by_score(), assert_all_from_connector(conn), assert_timestamps_in_range(start, end).","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-12-01T18:46:06.281623-05:00","closed_at":"2025-12-01T18:46:06.281623-05:00","close_reason":"tests/util/mod.rs has SearchHitAssert struct with fluent API: title(), agent(), workspace(), snippet_contains(), content_contains(), line(), match_type()"}
{"id":"coding_agent_session_search-tst.perf","title":"Performance Baseline Tests","description":"Establish and verify performance baselines. Coverage: indexing speed benchmarks, search latency benchmarks, memory usage limits, regression detection. Use criterion for benchmarks, store baselines in repo.","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.348006464Z","updated_at":"2025-11-30T15:05:19.348006464Z"}
{"id":"coding_agent_session_search-tst.perf.idx","title":"Indexing Performance Benchmarks","description":"Establish baseline for indexing performance. Benchmarks: 100 sessions \u003c1s, 1000 sessions \u003c5s, 10000 sessions \u003c30s, memory \u003c500MB. Use criterion with FixtureBuilder.","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-11-30T15:05:19.350975688Z"}
{"id":"coding_agent_session_search-tst.perf.srch","title":"Search Latency Benchmarks","description":"Establish baseline for search performance. Benchmarks: simple term \u003c10ms, phrase \u003c20ms, wildcard \u003c50ms, complex filter \u003c30ms, cold cache \u003c100ms. Use criterion.","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-11-30T15:05:19.350975688Z"}
{"id":"coding_agent_session_search-tst.srch","title":"Search/Query Tests","description":"Unit tests for search query parsing and execution. Coverage: query parser edge cases, wildcard fallback, concurrent search, FTS5 query generation.","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.348006464Z","updated_at":"2025-11-30T15:05:19.348006464Z"}
{"id":"coding_agent_session_search-tst.srch.conc","title":"Concurrent Search Tests","description":"Test search behavior under concurrent load. Cases: 10 simultaneous searches, search during indexing, cache contention, reader handle exhaustion. Assert: all return correct results, no deadlocks, reasonable latency.","status":"closed","priority":0,"issue_type":"task","assignee":"PurpleHill","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-12-01T21:27:09.981303-05:00","closed_at":"2025-12-01T21:27:09.981303-05:00","close_reason":"Closed"}
{"id":"coding_agent_session_search-tst.srch.fts","title":"FTS5 Query Generation Tests","description":"Test SQL/FTS5 query generation from search input. Cases: simple term, phrase, boolean AND/OR, prefix search, filter integration, special char escape. Assert: valid SQL, injection escaped, complex queries parse.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-12-01T18:57:36.79196-05:00","closed_at":"2025-12-01T18:57:36.79196-05:00","close_reason":"Added comprehensive FTS5 query generation tests: sanitize_query (unicode, special chars), WildcardPattern (parsing, to_regex), escape_regex, parse_boolean_query (edge cases), levenshtein_distance, is_tool_invocation_noise, and integration tests for AND/OR/NOT/phrase queries. Total 88 tests now in search::query::tests module."}
{"id":"coding_agent_session_search-tst.srch.wild","title":"Wildcard Fallback Tests","description":"Test implicit wildcard fallback for sparse results (sux.4). Cases: exact match returns results (no fallback), exact empty (fallback triggered), explicit wildcard (no double), multi-word fallback, filter+wildcard combo.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-12-01T18:29:11.107526-05:00","closed_at":"2025-12-01T18:29:11.107526-05:00","close_reason":"Implemented integration tests for wildcard fallback"}
{"id":"coding_agent_session_search-tst.sto","title":"Storage/SQLite Tests","description":"Unit tests for SQLite storage layer. Coverage: schema migrations, concurrent access, large batch operations, FTS5 behavior.","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.348006464Z","updated_at":"2025-11-30T15:05:19.348006464Z"}
{"id":"coding_agent_session_search-tst.sto.batch","title":"Large Batch Operation Tests","description":"Test performance and correctness of large batch operations. Cases: insert 10K sessions in single tx, bulk update, bulk delete with cascades, FTS5 re-index. Assert: \u003c5s completion, no memory leaks, all persisted.","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-11-30T15:05:19.350975688Z"}
{"id":"coding_agent_session_search-tst.sto.conc","title":"Concurrent Access Tests","description":"Test database behavior under concurrent access. Cases: multiple readers + single writer, write contention, transaction isolation, connection pool behavior. Assert: all operations complete, no deadlocks.","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-11-30T15:05:19.350975688Z"}
{"id":"coding_agent_session_search-tst.sto.schema","title":"Schema Migration Tests","description":"Test database schema creation and migrations. Cases: fresh DB creation, v1-\u003ev2 migration, schema validation after migration, rollback on failure. Assert: tables/columns exist, indexes created, FTS5 configured.","notes":"Added 12 schema migration tests to tests/storage.rs. Tests cover: fresh DB creation (all 9 tables including FTS5), index creation (3 indexes), column validation for agents/conversations/messages tables, FTS5 virtual table configuration with porter tokenizer, migration from v1 to v3, migration from v2 to v3, foreign key enforcement, unique constraint enforcement, and pragma verification (WAL journal mode, foreign keys ON). All 19 storage tests passing.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-12-01T19:35:05.676523-05:00","closed_at":"2025-12-01T19:35:05.676525-05:00"}
{"id":"coding_agent_session_search-tst.ui","title":"UI/TUI Tests","description":"Tests for terminal UI components (non-interactive). Coverage: state machine transitions, render output verification, keyboard events, state persistence. Note: test state transitions and render buffer, not actual terminal.","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.348006464Z","updated_at":"2025-11-30T15:05:19.348006464Z"}
{"id":"coding_agent_session_search-tst.ui.bulk","title":"Bulk Selection Tests","description":"Test multi-select and bulk actions (bead 015). Cases: space toggles, Ctrl+A selects/deselects all, selection persists across panes, cleared on new search, 'A' opens bulk modal, actions execute. Assert: HashSet contents, checkmark rendered, footer count.","status":"closed","priority":0,"issue_type":"task","assignee":"PinkPond","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-12-01T22:55:03.164591-05:00","closed_at":"2025-12-01T22:55:03.164591-05:00","close_reason":"Closed"}
{"id":"coding_agent_session_search-tst.ui.det","title":"Detail Panel Tests","description":"Test detail view and find-in-detail functionality. Cases: opening sets correct state, find highlights matches, n/N navigate, escape closes, scroll preserved on close/reopen. Also 'o'/'p'/'s' handlers from bead 007.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-12-01T22:30:07.516593-05:00","closed_at":"2025-12-01T22:30:07.516593-05:00","close_reason":"Added 19 comprehensive tests for detail panel: FocusRegion states, DetailFindState, DetailTab variants, match_line_indices (6 cases), line_plain_text (3 cases), active_hit selection, and find-in-detail navigation wrapping"}
{"id":"coding_agent_session_search-tst.ui.nav","title":"Navigation State Tests","description":"Test TUI navigation state machine. Cases: initial state first pane/item, down increments, up at top wraps, tab switches panes, page up/down by page size, home/end jump. Approach: test TuiState methods in isolation.","notes":"Added 17 navigation state tests in src/ui/tui.rs. Tests cover: context window cycling (Small→Medium→Large→XLarge→Small), density mode cycling (Compact→Cozy→Spacious→Compact), ranking mode variants, agent pane building (grouping, per-pane limit, empty input, selection initialization), pane rebuild with filter (selection maintenance, fallback behavior, scroll offset adjustment), active hit retrieval, focus region enum, match mode enum, and agent suggestions (prefix matching, case insensitivity, empty prefix). All 22 TUI tests pass.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-12-01T19:09:13.249825-05:00","closed_at":"2025-12-01T19:09:13.249827-05:00"}
{"id":"coding_agent_session_search-tst.ui.pers","title":"UI State Persistence Tests","description":"Test saving and restoring UI state. Cases: save/restore query history, save window dimensions, save last search, handle corrupted state file. Assert: valid JSON, missing fields use defaults, corrupted doesn't crash.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-30T15:05:19.350975688Z","updated_at":"2025-12-01T22:24:32.033529-05:00","closed_at":"2025-12-01T22:24:32.033529-05:00","close_reason":"Added 19 comprehensive tests for UI state persistence: query history, saved views, per_pane_limit/ranking_mode, corrupted state handling, missing fields defaults, dedupe_history_prefixes, and save_query_to_history"}
{"id":"coding_agent_session_search-tu5","title":"bd-logging-coverage","description":"Tracing spans + log assertions for connectors/indexer/search","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-23T17:35:46.759713184Z","updated_at":"2025-11-23T20:05:45.377473529Z","closed_at":"2025-11-23T20:05:45.377473529Z","dependencies":[{"issue_id":"coding_agent_session_search-tu5","depends_on_id":"coding_agent_session_search-vbf","type":"blocks","created_at":"2025-11-23T17:35:46.761015455Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-uha","title":"P3 Density \u0026 scope controls","description":"Controls for pane density, ranking weighting, and scope presets (agents/time).","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-11-24T13:57:39.075699412Z","updated_at":"2025-12-01T22:19:32.001379-05:00","closed_at":"2025-12-01T22:19:32.001379-05:00","close_reason":"All sub-tasks (uha.1, uha.2, uha.3) completed","dependencies":[{"issue_id":"coding_agent_session_search-uha","depends_on_id":"coding_agent_session_search-1z2","type":"blocks","created_at":"2025-11-24T13:57:59.958866559Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-uha.1","title":"B3.1 Pane count +/-","description":"Add +/- hotkeys to change per-pane item cap; status/footer update.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T13:57:43.294957546Z","updated_at":"2025-11-24T14:10:05.780481913Z","closed_at":"2025-11-24T14:10:05.780481913Z"}
{"id":"coding_agent_session_search-uha.2","title":"B3.2 Recency vs score preset","description":"F12 cycles recent-heavy/balanced/relevance-heavy weighting; badge update.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T13:57:47.629753407Z","updated_at":"2025-11-24T14:10:05.782683638Z","closed_at":"2025-11-24T14:10:05.782683638Z"}
{"id":"coding_agent_session_search-uha.3","title":"B3.3 Scope presets","description":"Shift+F3/F4 all-agents vs active-only; Shift+F5/F6 time windows 24h/7d/30d/all.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T13:57:52.475697399Z","updated_at":"2025-11-24T14:10:05.784248155Z","closed_at":"2025-11-24T14:10:05.784248155Z","dependencies":[{"issue_id":"coding_agent_session_search-uha.3","depends_on_id":"coding_agent_session_search-uha.1","type":"blocks","created_at":"2025-11-24T13:57:55.599152554Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-vbf","title":"bd-tests-foundation: Test coverage gap report","description":"PLAN_TEST_GAPS.md gap doc; baseline done.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-23T17:34:58.091205831Z","updated_at":"2025-11-23T20:06:14.673297846Z","closed_at":"2025-11-23T20:06:14.673297846Z"}
{"id":"coding_agent_session_search-vhw","title":"Implement Agent-Friendly CLI Fuzzy Matching","description":"Add logic to intercept CLI parsing errors, attempt to correct typos/syntax (fuzzy flags, implicit search), and execute with a guidance note.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-01T23:04:01.840057-05:00","updated_at":"2025-12-01T23:05:30.671851-05:00","closed_at":"2025-12-01T23:05:30.671851-05:00","close_reason":"Implemented heuristic_parse_recovery logic."}
{"id":"coding_agent_session_search-xgx","title":"bd-first-run-index","description":"Add --quickstart flag to run index --full after install (optional prompt in normal mode); use demo fixtures or detected roots; respect easy-mode auto-run.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-23T20:14:31.835906666Z","updated_at":"2025-11-23T20:20:34.31961958Z","closed_at":"2025-11-23T20:20:34.31961958Z","dependencies":[{"issue_id":"coding_agent_session_search-xgx","depends_on_id":"coding_agent_session_search-2d0","type":"blocks","created_at":"2025-11-23T20:14:31.837948186Z","created_by":"daemon"}]}
{"id":"coding_agent_session_search-xxu","title":"TUI performance polish","description":"Debounce tuning, skeleton loaders, async conversation fetch, and search-in-progress indicator for smoother UX.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-23T07:51:34.343271699Z","updated_at":"2025-11-23T07:55:57.029724965Z","closed_at":"2025-11-23T07:55:57.029724965Z","labels":["performance","ui"],"dependencies":[{"issue_id":"coding_agent_session_search-xxu","depends_on_id":"coding_agent_session_search-6hx","type":"blocks","created_at":"2025-11-23T07:51:34.353039745Z","created_by":"ubuntu"}]}
{"id":"coding_agent_session_search-yln","title":"TST Epic: Full test coverage (unit+e2e, no mocks)","description":"Establish comprehensive test coverage without mocks/fakes; strengthen e2e scripts with detailed logging across CLI/TUI/index/install/watch.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-11-30T06:50:07.460749535Z","updated_at":"2025-11-30T06:50:07.460749535Z"}
{"id":"coding_agent_session_search-yln.1","title":"TST.1 Coverage inventory + gaps (no mocks)","description":"Map modules→tests, identify untested paths, mock usage; propose real-fixture replacements; output coverage table and prioritized gaps.","notes":"Coverage inventory completed: added module→tests/mocks/gaps table and prioritized yln.2-6 actions in PLAN_TEST_GAPS.md. Clippy kept clean (fixed search_filters.rs lint).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T06:50:17.6761251Z","updated_at":"2025-12-01T22:58:07.578794-05:00","closed_at":"2025-12-01T22:58:07.578796-05:00"}
{"id":"coding_agent_session_search-yln.2","title":"TST.2 Unit: search/query + detail find (real fixtures)","description":"Add unit coverage for search pipeline incl. cache shards, filters, wildcard fallback, detail-find highlight; use real data fixtures (no mocks) and assert logs/metrics.","notes":"Implementing unit tests for detail-find helpers and search match handling; small inline tests, no mocks.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-11-30T06:50:32.501941587Z","updated_at":"2025-11-30T07:24:23.172220455Z","dependencies":[{"issue_id":"coding_agent_session_search-yln.2","depends_on_id":"coding_agent_session_search-yln.1","type":"blocks","created_at":"2025-11-30T06:50:32.516957509Z","created_by":"BrownDog"}]}
{"id":"coding_agent_session_search-yln.3","title":"TST.3 Unit: UI interactions (detail find, hotkeys, breadcrumbs)","description":"Headless ratatui snapshot/interaction tests for detail find (/ n/N), focus toggles, breadcrumbs/pane filters; ensure no mocks, rely on fixture conversations.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-30T06:50:43.40219962Z","updated_at":"2025-11-30T06:50:43.40219962Z","dependencies":[{"issue_id":"coding_agent_session_search-yln.3","depends_on_id":"coding_agent_session_search-yln.1","type":"blocks","created_at":"2025-11-30T06:50:43.413852341Z","created_by":"BrownDog"}]}
{"id":"coding_agent_session_search-yln.4","title":"TST.4 Unit: connectors + storage (real edge fixtures)","description":"Extend connector/storage tests with real fixture logs (no mocks): malformed/partial sessions, workspace inference, timestamp parsing, append-only invariants, migration safety.","notes":"Added connector since_ts coverage: Codex (ISO+millis) and Cline (ui_messages, idx resequence). fmt/check/clippy clean.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-11-30T06:50:54.465984771Z","updated_at":"2025-11-30T14:43:57.690263309Z","dependencies":[{"issue_id":"coding_agent_session_search-yln.4","depends_on_id":"coding_agent_session_search-yln.1","type":"blocks","created_at":"2025-11-30T06:50:54.475485673Z","created_by":"BrownDog"}]}
{"id":"coding_agent_session_search-yln.5","title":"TST.5 E2E: CLI/TUI flows with rich logging","description":"End-to-end scripts (robot/headless) covering query, detail find, bulk actions, filters; produce detailed logging/traces; assert outputs not mocks.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-30T06:51:05.880033694Z","updated_at":"2025-11-30T06:51:05.880033694Z","dependencies":[{"issue_id":"coding_agent_session_search-yln.5","depends_on_id":"coding_agent_session_search-yln.1","type":"blocks","created_at":"2025-11-30T06:51:05.88814398Z","created_by":"BrownDog"}]}
{"id":"coding_agent_session_search-yln.6","title":"TST.6 E2E: Install/index/watch pipeline logging","description":"Full-path e2e covering install script, index --full, watch reindex, data_dir overrides; capture detailed logs + failure traces; verify no mocks/fakes.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-30T06:51:20.364501984Z","updated_at":"2025-11-30T06:51:20.364501984Z","dependencies":[{"issue_id":"coding_agent_session_search-yln.6","depends_on_id":"coding_agent_session_search-yln.1","type":"blocks","created_at":"2025-11-30T06:51:20.378207037Z","created_by":"BrownDog"}]}
{"id":"coding_agent_session_search-zwe","title":"bd-installer-windows","description":"PowerShell installer mirroring Bash UX: easy/normal, checksum required, supports -ArtifactUrl/-Checksum/-ChecksumUrl, installs rustup nightly if missing, PATH guidance.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-23T20:14:16.080132027Z","updated_at":"2025-11-23T20:20:26.727874223Z","closed_at":"2025-11-23T20:20:26.727874223Z","dependencies":[{"issue_id":"coding_agent_session_search-zwe","depends_on_id":"coding_agent_session_search-0mn","type":"blocks","created_at":"2025-11-23T20:14:16.081526941Z","created_by":"daemon"}]}
